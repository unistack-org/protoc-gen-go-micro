{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"cache driver connected"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"broker init"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"broker connected"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"database connected"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"storage created"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"set max redirects: 3"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"service broker kgo"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"register hook header.replace"}
{"level":"debug","trace-id":"","span-id":"","time":"2024-04-03T10:23:00+05:00","message":"request GET to http://authn-service/.well-known/openid-configuration with headers map[Content-Type:[application/json] Micro-Timeout:[5000000000] Uber-Trace-Id:[710c0785be527907:710c0785be527907:0000000000000000:1]] body "}
{"level":"debug","trace-id":"","span-id":"","time":"2024-04-03T10:23:00+05:00","message":"response {\"issuer\":\"http://authn-service\",\"authorization_endpoint\":\"http://authn-service/v1/oauth/authorize\",\"token_endpoint\":\"http://authn-service/v1/oauth/token\",\"userinfo_endpoint\":\"http://authn-service/v1/oauth/userinfo\",\"jwks_uri\":\"http://authn-service/.well-known/jwks\",\"introspection_endpoint\":\"http://authn-service/v1/oauth/introspect\",\"response_types_supported\":[\"code\",\"token\",\"id_token\",\"code token\",\"code id_token\",\"token id_token\",\"code token id_token\",\"none\"],\"response_modes_supported\":[\"query\",\"fragment\",\"login\",\"code\",\"link\",\"form_post\",\"web_message\"],\"grant_types_supported\":[\"password\",\"refresh_token\",\"authorization_code_pkce\",\"urn:ietf:params:oauth:grant-type:token-exchange\",\"exchange\",\"code\",\"authorization_code\"],\"subject_types_supported\":[\"public\"],\"id_token_signing_alg_values_supported\":[\"RS256\"],\"scopes_supported\":[\"openid\",\"email\",\"profile\",\"address\",\"phone\",\"offline_access\"],\"claims_supported\":[\"iss\",\"ver\",\"sub\",\"aud\",\"iat\",\"exp\",\"id\",\"type\",\"displayName\",\"avatar\",\"permanentAvatar\",\"email\",\"phone\",\"location\",\"affiliation\",\"title\",\"homepage\",\"bio\",\"tag\",\"region\",\"language\",\"score\",\"ranking\",\"isOnline\",\"isAdmin\",\"isGlobalAdmin\",\"isForbidden\",\"signupApplication\",\"ldap\"],\"request_parameter_supported\":true,\"request_object_signing_alg_values_supported\":[\"HS256\",\"HS384\",\"HS512\"],\"end_session_endpoint\":\"http://authn-service/v1/logout\",\"revocation_endpoint\":\"http://authn-service/v1/oauth/revoke\",\"login_endpoint\":\"http://authn-service/v1/login\"} with map[Content-Length:[1470] Content-Type:[application/json] Date:[Wed, 03 Apr 2024 05:23:00 GMT] X-Request-Id:[RnMHkHzGPrWDTgMP]]"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"jwks uri: http://authn-service/.well-known/jwks"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"register hook jwt.check"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"register hook jwt.extract"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"register hook authn.cookie"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"register hook header.clean"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"register hook header.copy"}
{"level":"debug","trace-id":"","span-id":"","time":"2024-04-03T10:23:00+05:00","message":"request POST to http://authn-service/v1/cors with headers map[Content-Type:[application/json] Micro-Timeout:[5000000000] Uber-Trace-Id:[4c4602de914c78ea:4c4602de914c78ea:0000000000000000:1]] body "}
{"level":"debug","trace-id":"","span-id":"","time":"2024-04-03T10:23:00+05:00","message":"response {\"cors\":[{\"origin\":\"https://dev-beeline-express.fortebank.com\"},{\"origin\":\"https://forte.kz\"},{\"origin\":\"https://forte.kz\"},{\"origin\":\"https://dev-apigw.fortebank.com\"}]} with map[Content-Length:[170] Content-Type:[application/json] Date:[Wed, 03 Apr 2024 05:23:00 GMT] X-Request-Id:[HcDFRcCcqdtk7rgp]]"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"cors origins: [origin:\"https://dev-beeline-express.fortebank.com\" origin:\"https://forte.kz\" origin:\"https://forte.kz\" origin:\"https://dev-apigw.fortebank.com\"]"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"register hook header.cors"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"register hook header.remove"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create handlers for authn.AuthnService"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create grpc handler /authn.AuthnService/Verify via authn-service:80"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create http handler /authn.AuthnService/v1/oauth/verify via http://authn-service:80"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create grpc handler /authn.AuthnService/Logout via authn-service:80"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create http handler /authn.AuthnService/v1/logout via http://authn-service:80"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create http handler /authn.AuthnService/v1/logout via http://authn-service:80"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create grpc handler /authn.AuthnService/Token via authn-service:80"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create http handler /authn.AuthnService/v1/oauth/token via http://authn-service:80"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create http handler /authn.AuthnService/v1/oauth/token via http://authn-service:80"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create grpc handler /authn.AuthnService/Authorize via authn-service:80"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create http handler /authn.AuthnService/v1/oauth/authorize via http://authn-service:80"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create http handler /authn.AuthnService/v1/oauth/authorize via http://authn-service:80"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create grpc handler /authn.AuthnService/Userinfo via authn-service:80"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create http handler /authn.AuthnService/v1/oauth/userinfo via http://authn-service:80"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create http handler /authn.AuthnService/ui* via http://authn-service:80"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create grpc handler /authn.AuthnService/AccountUpdate via authn-service:80"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create http handler /authn.AuthnService/v1/account via http://authn-service:80"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create grpc handler /authn.AuthnService/Introspect via authn-service:80"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create http handler /authn.AuthnService/v1/oauth/introspect via http://authn-service:80"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create grpc handler /authn.AuthnService/Revoke via authn-service:80"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create http handler /authn.AuthnService/v1/oauth/revoke via http://authn-service:80"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create grpc handler /authn.AuthnService/OpenidConfiguration via authn-service:80"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create http handler /authn.AuthnService/.well-known/openid-configuration via http://authn-service:80"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create grpc handler /authn.AuthnService/Jwks via authn-service:80"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create http handler /authn.AuthnService/.well-known/jwks via http://authn-service:80"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create grpc handler /authn.AuthnService/Login via authn-service:80"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create http handler /authn.AuthnService/v1/login via http://authn-service:80"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create http handler /authn.AuthnService/v1/login via http://authn-service:80"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create handlers for messenger.MessageService"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create kafka grpc handler /messenger.MessageService/SetMute via messenger.messages.setmute.in"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create kafka grpc handler /messenger.MessageService/SetStatus via messenger.messages.setstatus.in"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create kafka grpc handler /messenger.MessageService/ReceiveStatus via null"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create kafka grpc handler /messenger.MessageService/DeleteMessage via messenger.messages.deletemessage.in"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create kafka grpc handler /messenger.MessageService/GetStatusesById via messenger.messages.getstatusesbyid.in"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create kafka grpc handler /messenger.MessageService/SendMessage via messenger.messages.sendmessage.in"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create kafka grpc handler /messenger.MessageService/ReceiveUserState via null"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create kafka grpc handler /messenger.MessageService/GetUndeliveredInfo via messenger.messages.getundeliveredinfo.in"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create kafka grpc handler /messenger.MessageService/ReceiveMessage via null"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create handlers for clientproduct.ClientProductService"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create kafka grpc handler /clientproduct.ClientProductService/GetClientProducts via product.clientproducts.getproducts.in"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create kafka grpc handler /clientproduct.ClientProductService/OpenCard via product.clientproducts.opencard.in"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create kafka grpc handler /clientproduct.ClientProductService/OpenCurrentAccount via product.clientproducts.opencurrentaccount.in"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create kafka grpc handler /clientproduct.ClientProductService/OpenDeposit via product.clientproducts.opendeposit.in"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create kafka grpc handler /clientproduct.ClientProductService/GetCardProducts via product.clientproducts.getcardaccounts.in"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create kafka grpc handler /clientproduct.ClientProductService/GetClientOffers via product.clientoffers.getclientoffers.in"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create kafka grpc handler /clientproduct.ClientProductService/GetBonus via product.clientbonus.getbonus.in"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create kafka grpc handler /clientproduct.ClientProductService/GetCreditPaymentCalendar via product.clientproducts.getcreditpaymentcalendar.in"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create kafka grpc handler /clientproduct.ClientProductService/GetClientCreditCardInfo via product.clientproducts.getclientcreditcardinfo.in"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create kafka grpc handler /clientproduct.ClientProductService/GetCardServiceCommission via product.clientproducts.getcardservicecommission.in"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create kafka grpc handler /clientproduct.ClientProductService/GetCreditProducts via product.clientproducts.getcreditaccounts.in"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create kafka grpc handler /clientproduct.ClientProductService/GetDepositProducts via product.clientproducts.getdepositaccounts.in"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create kafka grpc handler /clientproduct.ClientProductService/GetClientLoanSchedule via product.clientproducts.getloanschedule.in"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create kafka grpc handler /clientproduct.ClientProductService/GetCurrentAccountProducts via product.clientproducts.getcurraccount.in"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create handlers for clientpass.ClientpassService"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create kafka grpc handler /clientpass.ClientpassService/OnboardingPass via client.clientpass.onboarding.in"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create kafka http handler /clientpass.ClientpassService/OnboardingPass via client.clientpass.onboarding.in"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create kafka grpc handler /clientpass.ClientpassService/StartClientPass via client.clientpass.startclientpass.in"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create kafka http handler /clientpass.ClientpassService/StartClientPass via client.clientpass.startclientpass.in"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create handlers for clientbonus.ClientbonusService"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create handlers for clientprofile.ClientProfileService"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create kafka grpc handler /clientprofile.ClientProfileService/AddDeliveryAddress via client.clientprofile.adddeliveryaddress.in"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create kafka grpc handler /clientprofile.ClientProfileService/ConfirmCodeWord via client.clientprofile.confirmcodeword.in"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create kafka grpc handler /clientprofile.ClientProfileService/GetClientProfile via client.clientprofile.getclientprofile.in"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create kafka grpc handler /clientprofile.ClientProfileService/RemoveDeliveryAddress via client.clientprofile.removedeliveryaddress.in"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create kafka grpc handler /clientprofile.ClientProfileService/SetCodeWord via client.clientprofile.setcodeword.in"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create kafka grpc handler /clientprofile.ClientProfileService/SetDefaultDeliveryAddress via client.clientprofile.setdefaultdeliveryaddress.in"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create handlers for otp.OtpService"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"skip handler for otp.OtpService.GetOtps as it disabled"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create handlers for messenger.FoldersService"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create kafka grpc handler /messenger.FoldersService/GetFolders via messenger.folders.getfolders.in"}
{"level":"info","time":"2024-04-03T10:23:00+05:00","message":"create handlers for messenger.ClientInfoService"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"create kafka grpc handler /messenger.ClientInfoService/GetClientInfo via messenger.clientinfo.getclientinfo.in"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"create kafka grpc handler /messenger.ClientInfoService/GetClientNumberById via messenger.clientinfo.getclientnumberbyid.in"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"create kafka grpc handler /messenger.ClientInfoService/SyncAddressBook via messenger.clientinfo.syncaddressbook.in"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"create handlers for apigw.ApigwTestingService"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"create kafka grpc handler /apigw.ApigwTestingService/BidiStream via apigw.events"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"create kafka grpc handler /apigw.ApigwTestingService/ClientStream via apigw.events"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"create kafka grpc handler /apigw.ApigwTestingService/ServerStream via apigw.events"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"create kafka grpc handler /apigw.ApigwTestingService/Unary via apigw.events"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"create handlers for messenger.Chat2Desk"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"create http handler /messenger.Chat2Desk/messenger/chat2desk/v1/listen2desk via https://dev-messenger-chat2desk.fortebank.com"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"create handlers for beelineexpress.loan-api"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"create http handler /beelineexpress.loan-api/api/v1/ext/datetime via https://dev-loan-api.fortebank.com"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"create http handler /beelineexpress.loan-api/api/v1/ext/loan/active via https://dev-loan-api.fortebank.com"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"create http handler /beelineexpress.loan-api/api/v1/ext/contacts/by/rid via https://dev-loan-api.fortebank.com"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"create http handler /beelineexpress.loan-api/api/v1/ext/status via https://dev-loan-api.fortebank.com"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"create http handler /beelineexpress.loan-api/api/v1/ext/loan/calc via https://dev-loan-api.fortebank.com"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"create http handler /beelineexpress.loan-api/api/v1/ext/client/update/contacts/by/id/bexp via https://dev-loan-api.fortebank.com"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"create http handler /beelineexpress.loan-api/api/v1/ext/client/decision via https://dev-loan-api.fortebank.com"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"create http handler /beelineexpress.loan-api/api/v1/ext/loan/doc via https://dev-loan-api.fortebank.com"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"create http handler /beelineexpress.loan-api/api/v1/ext/client/otp via https://dev-loan-api.fortebank.com"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"create http handler /beelineexpress.loan-api/api/v1/ext/client/confirm via https://dev-loan-api.fortebank.com"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"create http handler /beelineexpress.loan-api/api/v1/ext/cancel via https://dev-loan-api.fortebank.com"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"create handlers for beelineexpress.fcb-otp-api"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"create http handler /beelineexpress.fcb-otp-api/api/v1/bmg/validate via https://dev-fcb-bmg-api.fortebank.com"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"create handlers for beelineexpress.fcb-bmg-api"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"create http handler /beelineexpress.fcb-bmg-api/api/v1/ext/lma via https://dev-fcb-otp-api.fortebank.com"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"create http handler /beelineexpress.fcb-bmg-api/api/v1/ext/mock-otp via https://dev-fcb-otp-api.fortebank.com"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"create http handler /beelineexpress.fcb-bmg-api/api/v1/ext/mock-pdf via https://dev-fcb-otp-api.fortebank.com"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"create http handler /beelineexpress.fcb-bmg-api/api/v1/ext/otp via https://dev-fcb-otp-api.fortebank.com"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"create http handler /beelineexpress.fcb-bmg-api/api/v1/ext/pdf via https://dev-fcb-otp-api.fortebank.com"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"create handlers for testing.MockService"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"create kafka grpc handler /testing.MockService/ClientStreamCall via qa.mock.connection1.in"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"create kafka grpc handler /testing.MockService/ServerStreamCall via qa.mock.connection1.in"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"create kafka grpc handler /testing.MockService/StreamCall via qa.mock.connection1.in"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"create kafka grpc handler /testing.MockService/UnaryCall via qa.mock.connection1.in"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"create handlers for transferdata.TransferDataService"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"tls enabled for transferdata.TransferDataService.GetTransferExchRate"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"create grpc handler /transferdata.TransferDataService/GetTransferExchRate via dev-transfer-transferdata-grpc.fortebank.com:443"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"create kafka grpc handler /transferdata.TransferDataService/GetTransferTypeList via transfer.transferdata.gettransfertypelist.in"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"create handlers for transfer.selfaccounttransfer.SelfAccountTransferService"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"create kafka grpc handler /transfer.selfaccounttransfer.SelfAccountTransferService/CancelSelfAccountTransfer via transfer.selfaccounttransfer.cancelselfaccounttransfer.in"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"create kafka grpc handler /transfer.selfaccounttransfer.SelfAccountTransferService/CheckSelfAccountTransfer via transfer.selfaccounttransfer.checkselfaccounttransfer.in"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"create kafka grpc handler /transfer.selfaccounttransfer.SelfAccountTransferService/PaySelfAccountTransfer via transfer.selfaccounttransfer.payselfaccounttransfer.in"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"create handlers for transfer.confirmtransfer.ConfirmTransferService"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"create kafka grpc handler /transfer.confirmtransfer.ConfirmTransferService/CheckTransferConfirmOTP via transfer.confirmtransfer.checktransferconfirmotp.in"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"create kafka grpc handler /transfer.confirmtransfer.ConfirmTransferService/GenerateTransferConfirmOTP via transfer.confirmtransfer.generatetransferconfirmotp.in"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"create handlers for communication.PushService"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"tls enabled for communication.PushService.AppRelevance"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"create grpc handler /communication.PushService/AppRelevance via dev-communication-push-grpc.fortebank.com:443"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"create http handler /communication.PushService/v1/push/updatePushStatus via https://dev-communication-push.fortebank.com"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"create handlers for catalog.CatalogService"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"tls enabled for catalog.CatalogService.GetDeliveryCity"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"create grpc handler /catalog.CatalogService/GetDeliveryCity via dev-client-catalog-grpc.fortebank.com:443"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"tls enabled for catalog.CatalogService.GetServiceRegion"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"create grpc handler /catalog.CatalogService/GetServiceRegion via dev-client-catalog-grpc.fortebank.com:443"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"create handlers for payment.GeolocationService"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"create kafka grpc handler /payment.GeolocationService/GetLastRegion via payment.geolocation.getlastregion.in"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"create kafka grpc handler /payment.GeolocationService/GetRegionByGeolocation via payment.geolocation.getregionbylocation.in"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"create kafka grpc handler /payment.GeolocationService/GetRegionList via payment.geolocation.getregionlist.in"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"create kafka grpc handler /payment.GeolocationService/UpdateLastRegion via payment.geolocation.updateregion.in"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"router created"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"immediate metadata update triggeredwhyquerying metadata for consumer initialization"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"subscribe to apigw.in"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"beginning to manage the group lifecyclegroupapigw"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"beginning autocommit loopgroupapigw"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"joining groupgroupapigw"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"immediate metadata update triggeredwhyquerying metadata for consumer initialization"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"subscribe to apigw.events"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"beginning to manage the group lifecyclegroupapigw"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"beginning autocommit loopgroupapigw"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"joining groupgroupapigw"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"server grpc created"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"reflector server init"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"reflector server created with map[string]grpc.ServiceInfo{\"grpc.reflection.v1.ServerReflection\":grpc.ServiceInfo{Methods:[]grpc.MethodInfo{grpc.MethodInfo{Name:\"ServerReflectionInfo\", IsClientStream:true, IsServerStream:true}}, Metadata:\"grpc/reflection/v1/reflection.proto\"}}"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"server http created"}
==================
WARNING: DATA RACE
Read at 0x00c0002341a0 by goroutine 138:
  go.unistack.org/micro-logger-zerolog/v3.(*zeroLogger).V()
      /go/pkg/mod/go.unistack.org/micro-logger-zerolog/v3@v3.8.6/zerolog.go:157 +0x78
  go.unistack.org/micro-logger-zerolog/v3.(*zeroLogger).Log()
      /go/pkg/mod/go.unistack.org/micro-logger-zerolog/v3@v3.8.6/zerolog.go:213 +0xfb
  go.unistack.org/micro-broker-kgo/v3.(*mlogger).Log()
      /go/pkg/mod/go.unistack.org/micro-broker-kgo/v3@v3.8.17/logger.go:32 +0x21d
  github.com/twmb/franz-go/pkg/kgo.(*wrappedLogger).Log()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/logger.go:123 +0xc6
  github.com/twmb/franz-go/pkg/kgo.(*groupConsumer).handleJoinResp()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/consumer_group.go:1219 +0x5f3
  github.com/twmb/franz-go/pkg/kgo.(*groupConsumer).joinAndSync()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/consumer_group.go:1142 +0xece
  github.com/twmb/franz-go/pkg/kgo.(*groupConsumer).manage()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/consumer_group.go:389 +0x545
  github.com/twmb/franz-go/pkg/kgo.(*groupConsumer).findNewAssignments.gowrap3()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/consumer_group.go:1785 +0x33

Previous write at 0x00c0002341a0 by main goroutine:
  go.unistack.org/micro-logger-zerolog/v3.(*zeroLogger).Init()
      /go/pkg/mod/go.unistack.org/micro-logger-zerolog/v3@v3.8.6/zerolog.go:141 +0x20a7
  go.unistack.org/micro-broker-kgo/v3.(*Broker).Init()
      /go/pkg/mod/go.unistack.org/micro-broker-kgo/v3@v3.8.17/kgo.go:200 +0x27c
  go.unistack.org/micro/v3.(*service).Init()
      /go/pkg/mod/go.unistack.org/micro/v3@v3.10.53/service.go:125 +0x96f
  gitlab.fortebank.com/api-gateway/apigw/internal/app.Run()
      /build/internal/app/main.go:542 +0xc031
  main.main()
      /build/cmd/apigw/main.go:84 +0x1de4

Goroutine 138 (running) created at:
  github.com/twmb/franz-go/pkg/kgo.(*groupConsumer).findNewAssignments()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/consumer_group.go:1785 +0xef9
  github.com/twmb/franz-go/pkg/kgo.(*consumer).doOnMetadataUpdate.func1()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/consumer.go:1162 +0x1b5
  github.com/twmb/franz-go/pkg/kgo.(*consumer).doOnMetadataUpdate.func2()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/consumer.go:1171 +0x3a
==================
==================
WARNING: DATA RACE
Read at 0x00c0002341b0 by goroutine 138:
  github.com/rs/zerolog.(*Logger).should()
      /go/pkg/mod/github.com/rs/zerolog@v1.32.0/log.go:511 +0x51
  github.com/rs/zerolog.(*Logger).newEvent()
      /go/pkg/mod/github.com/rs/zerolog@v1.32.0/log.go:483 +0x52
  github.com/rs/zerolog.(*Logger).Info()
      /go/pkg/mod/github.com/rs/zerolog@v1.32.0/log.go:356 +0xa4
  github.com/rs/zerolog.(*Logger).WithLevel()
      /go/pkg/mod/github.com/rs/zerolog@v1.32.0/log.go:420 +0xaa
  go.unistack.org/micro-logger-zerolog/v3.(*zeroLogger).Log()
      /go/pkg/mod/go.unistack.org/micro-logger-zerolog/v3@v3.8.6/zerolog.go:226 +0x4c4
  go.unistack.org/micro-broker-kgo/v3.(*mlogger).Log()
      /go/pkg/mod/go.unistack.org/micro-broker-kgo/v3@v3.8.17/logger.go:32 +0x21d
  github.com/twmb/franz-go/pkg/kgo.(*wrappedLogger).Log()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/logger.go:123 +0xc6
  github.com/twmb/franz-go/pkg/kgo.(*groupConsumer).handleJoinResp()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/consumer_group.go:1219 +0x5f3
  github.com/twmb/franz-go/pkg/kgo.(*groupConsumer).joinAndSync()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/consumer_group.go:1142 +0xece
  github.com/twmb/franz-go/pkg/kgo.(*groupConsumer).manage()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/consumer_group.go:389 +0x545
  github.com/twmb/franz-go/pkg/kgo.(*groupConsumer).findNewAssignments.gowrap3()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/consumer_group.go:1785 +0x33

Previous write at 0x00c0002341b0 by main goroutine:
  go.unistack.org/micro-logger-zerolog/v3.(*zeroLogger).Init()
      /go/pkg/mod/go.unistack.org/micro-logger-zerolog/v3@v3.8.6/zerolog.go:141 +0x20a7
  go.unistack.org/micro-broker-kgo/v3.(*Broker).Init()
      /go/pkg/mod/go.unistack.org/micro-broker-kgo/v3@v3.8.17/kgo.go:200 +0x27c
  go.unistack.org/micro/v3.(*service).Init()
      /go/pkg/mod/go.unistack.org/micro/v3@v3.10.53/service.go:125 +0x96f
  gitlab.fortebank.com/api-gateway/apigw/internal/app.Run()
      /build/internal/app/main.go:542 +0xc031
  main.main()
      /build/cmd/apigw/main.go:84 +0x1de4

Goroutine 138 (running) created at:
  github.com/twmb/franz-go/pkg/kgo.(*groupConsumer).findNewAssignments()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/consumer_group.go:1785 +0xef9
  github.com/twmb/franz-go/pkg/kgo.(*consumer).doOnMetadataUpdate.func1()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/consumer.go:1162 +0x1b5
  github.com/twmb/franz-go/pkg/kgo.(*consumer).doOnMetadataUpdate.func2()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/consumer.go:1171 +0x3a
==================
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"join returned MemberIDRequired, rejoining with response's MemberIDgroupapigwmember_idapigw-e33eab56-7502-4373-ad7b-7a327edd79dd"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"join returned MemberIDRequired, rejoining with response's MemberIDgroupapigwmember_idapigw-d85da684-2159-4659-a772-cecf53b5e7c1"}
==================
WARNING: DATA RACE
Write at 0x000003b22fa0 by main goroutine:
  go.unistack.org/micro-logger-zerolog/v3.(*zeroLogger).Init()
      /go/pkg/mod/go.unistack.org/micro-logger-zerolog/v3@v3.8.6/zerolog.go:80 +0x724
  go.unistack.org/micro-server-http/v3.(*Server).Init()
      /go/pkg/mod/go.unistack.org/micro-server-http/v3@v3.11.22/http.go:113 +0x587
  gitlab.fortebank.com/api-gateway/apigw/internal/app.Run()
      /build/internal/app/main.go:603 +0xd304
  main.main()
      /build/cmd/apigw/main.go:84 +0x1de4

Previous read at 0x000003b22fa0 by goroutine 168:
  github.com/rs/zerolog.(*Event).Timestamp()
      /go/pkg/mod/github.com/rs/zerolog@v1.32.0/event.go:687 +0x204
  github.com/rs/zerolog.timestampHook.Run()
      /go/pkg/mod/github.com/rs/zerolog@v1.32.0/context.go:353 +0x3e
  github.com/rs/zerolog.(*timestampHook).Run()
      <autogenerated>:1 +0x17
  github.com/rs/zerolog.(*Event).msg()
      /go/pkg/mod/github.com/rs/zerolog@v1.32.0/event.go:143 +0xfc
  github.com/rs/zerolog.(*Event).Msg()
      /go/pkg/mod/github.com/rs/zerolog@v1.32.0/event.go:110 +0x4d8
  go.unistack.org/micro-logger-zerolog/v3.(*zeroLogger).Log()
      /go/pkg/mod/go.unistack.org/micro-logger-zerolog/v3@v3.8.6/zerolog.go:226 +0x470
  go.unistack.org/micro-broker-kgo/v3.(*mlogger).Log()
      /go/pkg/mod/go.unistack.org/micro-broker-kgo/v3@v3.8.17/logger.go:32 +0x21d
  github.com/twmb/franz-go/pkg/kgo.(*wrappedLogger).Log()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/logger.go:123 +0xc6
  github.com/twmb/franz-go/pkg/kgo.(*groupConsumer).handleJoinResp()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/consumer_group.go:1219 +0x5f3
  github.com/twmb/franz-go/pkg/kgo.(*groupConsumer).joinAndSync()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/consumer_group.go:1142 +0xece
  github.com/twmb/franz-go/pkg/kgo.(*groupConsumer).manage()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/consumer_group.go:389 +0x545
  github.com/twmb/franz-go/pkg/kgo.(*groupConsumer).findNewAssignments.gowrap3()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/consumer_group.go:1785 +0x33

Goroutine 168 (running) created at:
  github.com/twmb/franz-go/pkg/kgo.(*groupConsumer).findNewAssignments()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/consumer_group.go:1785 +0xef9
  github.com/twmb/franz-go/pkg/kgo.(*consumer).doOnMetadataUpdate.func1()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/consumer.go:1162 +0x1b5
  github.com/twmb/franz-go/pkg/kgo.(*consumer).doOnMetadataUpdate.func2()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/consumer.go:1171 +0x3a
==================
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"Listening on [::]:8081"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"Register [noop] Registering node: http-CC8PbrkHTdcFcFrd"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"server internal created"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"starting [service] grpc version latest"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"Listening on [::]:8080"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"Register [noop] Registering node: http-KMpCrqDtkKTkNdMq"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"Server [grpc] Listening on [::]:9090"}
{"level":"info","time":"2024-04-03T10:23:01+05:00","message":"Register [noop] Registering node: grpc-mKmhBNGmRnFLQKGC"}
{"level":"info","time":"2024-04-03T10:23:02+05:00","message":"joinedgroupapigwmember_idapigw-d85da684-2159-4659-a772-cecf53b5e7c1instance_id<nil>generation13leaderfalse"}
{"level":"info","time":"2024-04-03T10:23:02+05:00","message":"syncinggroupapigwprotocol_typeconsumerprotocolcooperative-sticky"}
{"level":"info","time":"2024-04-03T10:23:02+05:00","message":"joinedgroupapigwmember_idapigw-e33eab56-7502-4373-ad7b-7a327edd79ddinstance_id<nil>generation13leaderfalse"}
{"level":"info","time":"2024-04-03T10:23:02+05:00","message":"syncinggroupapigwprotocol_typeconsumerprotocolcooperative-sticky"}
{"level":"info","time":"2024-04-03T10:23:02+05:00","message":"syncedgroupapigwassigned"}
{"level":"info","time":"2024-04-03T10:23:02+05:00","message":"new group session begungroupapigwaddedlost"}
{"level":"info","time":"2024-04-03T10:23:02+05:00","message":"syncedgroupapigwassigned"}
{"level":"info","time":"2024-04-03T10:23:02+05:00","message":"new group session begungroupapigwaddedlost"}
{"level":"info","time":"2024-04-03T10:23:02+05:00","message":"beginning heartbeat loopgroupapigw"}
{"level":"info","time":"2024-04-03T10:23:02+05:00","message":"beginning heartbeat loopgroupapigw"}
{"level":"info","time":"2024-04-03T10:23:03+05:00","message":"heartbeat erroredgroupapigwerrREBALANCE_IN_PROGRESS: The group is rebalancing, so a rejoin is needed."}
{"level":"info","time":"2024-04-03T10:23:03+05:00","message":"heartbeat erroredgroupapigwerrREBALANCE_IN_PROGRESS: The group is rebalancing, so a rejoin is needed."}
{"level":"info","time":"2024-04-03T10:23:03+05:00","message":"cooperative consumer calling onRevoke at the end of a session even though no partitions were lostgroupapigw"}
{"level":"info","time":"2024-04-03T10:23:03+05:00","message":"cooperative consumer calling onRevoke at the end of a session even though no partitions were lostgroupapigw"}
{"level":"info","time":"2024-04-03T10:23:03+05:00","message":"joining groupgroupapigw"}
{"level":"info","time":"2024-04-03T10:23:03+05:00","message":"joining groupgroupapigw"}
{"level":"info","time":"2024-04-03T10:23:03+05:00","message":"joinedgroupapigwmember_idapigw-d85da684-2159-4659-a772-cecf53b5e7c1instance_id<nil>generation14leaderfalse"}
{"level":"info","time":"2024-04-03T10:23:03+05:00","message":"syncinggroupapigwprotocol_typeconsumerprotocolcooperative-sticky"}
{"level":"info","time":"2024-04-03T10:23:03+05:00","message":"joinedgroupapigwmember_idapigw-e33eab56-7502-4373-ad7b-7a327edd79ddinstance_id<nil>generation14leaderfalse"}
{"level":"info","time":"2024-04-03T10:23:03+05:00","message":"syncinggroupapigwprotocol_typeconsumerprotocolcooperative-sticky"}
{"level":"debug","x-request-id":"ff2eab86-297c-4477-94ad-325c59c36383","time":"2024-04-03T10:23:05+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"ff2eab86-297c-4477-94ad-325c59c36383","time":"2024-04-03T10:23:05+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Login"}
{"level":"info","x-request-id":"ff2eab86-297c-4477-94ad-325c59c36383","time":"2024-04-03T10:23:05+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"ff2eab86-297c-4477-94ad-325c59c36383","time":"2024-04-03T10:23:05+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"ff2eab86-297c-4477-94ad-325c59c36383","time":"2024-04-03T10:23:05+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"ff2eab86-297c-4477-94ad-325c59c36383","time":"2024-04-03T10:23:05+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"ff2eab86-297c-4477-94ad-325c59c36383","time":"2024-04-03T10:23:05+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"ff2eab86-297c-4477-94ad-325c59c36383","time":"2024-04-03T10:23:05+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"ff2eab86-297c-4477-94ad-325c59c36383","time":"2024-04-03T10:23:05+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"ff2eab86-297c-4477-94ad-325c59c36383","time":"2024-04-03T10:23:05+05:00","message":"jwt.extract jwt claims empty"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"ff2eab86-297c-4477-94ad-325c59c36383","trace-id":"","span-id":"","time":"2024-04-03T10:23:05+05:00","message":"grpc request with md: metadata.MD{\":authority\":[]string{\"upstream_balancer\"}, \":path\":[]string{\"/authn.AuthnService/Login\"}, \"client-ip\":[]string{\"172.23.20.6\"}, \"content-type\":[]string{\"application/grpc\"}, \"grpc-accept-encoding\":[]string{\"identity, deflate, gzip\"}, \"source-service\":[]string{\"/authn.AuthnService/Login\"}, \"user-agent\":[]string{\"grpc-python/1.59.0 grpc-c/36.0.0 (osx; chttp2)\"}, \"x-forwarded-for\":[]string{\"172.23.20.6\"}, \"x-forwarded-host\":[]string{\"dev-apigw-grpc.fortebank.com:443\"}, \"x-forwarded-port\":[]string{\"443\"}, \"x-forwarded-proto\":[]string{\"https\"}, \"x-forwarded-scheme\":[]string{\"https\"}, \"x-real-ip\":[]string{\"172.23.20.6\"}, \"x-request-id\":[]string{\"ff2eab86-297c-4477-94ad-325c59c36383\"}, \"x-scheme\":[]string{\"https\"}}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"ff2eab86-297c-4477-94ad-325c59c36383","trace-id":"","span-id":"","time":"2024-04-03T10:23:05+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"ff2eab86-297c-4477-94ad-325c59c36383","trace-id":"","span-id":"","time":"2024-04-03T10:23:05+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"ff2eab86-297c-4477-94ad-325c59c36383","trace-id":"","span-id":"","time":"2024-04-03T10:23:05+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"ff2eab86-297c-4477-94ad-325c59c36383","trace-id":"","span-id":"","time":"2024-04-03T10:23:05+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"ff2eab86-297c-4477-94ad-325c59c36383","trace-id":"","span-id":"","time":"2024-04-03T10:23:05+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"ff2eab86-297c-4477-94ad-325c59c36383","trace-id":"","span-id":"","time":"2024-04-03T10:23:05+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"ff2eab86-297c-4477-94ad-325c59c36383","trace-id":"","span-id":"","time":"2024-04-03T10:23:05+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"ff2eab86-297c-4477-94ad-325c59c36383","trace-id":"","span-id":"","time":"2024-04-03T10:23:05+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
==================
WARNING: DATA RACE
Write at 0x00c00032d890 by goroutine 363:
  runtime.mapassign_faststr()
      /usr/local/go/src/runtime/map_faststr.go:203 +0x0
  go.unistack.org/micro-meter-prometheus/v3.(*prometheusMeter).Counter()
      /go/pkg/mod/go.unistack.org/micro-meter-prometheus/v3@v3.8.6/prometheus.go:133 +0x86c
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.forwardClientToBackend.func1()
      /build/internal/handler/grpc_copy.go:325 +0xac2

Previous read at 0x00c00032d890 by goroutine 341:
  runtime.mapaccess2_faststr()
      /usr/local/go/src/runtime/map_faststr.go:108 +0x0
  go.unistack.org/micro-meter-prometheus/v3.(*prometheusMeter).Counter()
      /go/pkg/mod/go.unistack.org/micro-meter-prometheus/v3@v3.8.6/prometheus.go:127 +0x2ec
  go.unistack.org/micro-broker-kgo/v3.(*hookMeter).OnBrokerWrite()
      /go/pkg/mod/go.unistack.org/micro-broker-kgo/v3@v3.8.17/meter.go:81 +0x2c2
  github.com/twmb/franz-go/pkg/kgo.(*brokerCxn).writeRequest.func1()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/broker.go:1035 +0x225
  github.com/twmb/franz-go/pkg/kgo.hooks.each()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/hooks.go:32 +0xa59
  github.com/twmb/franz-go/pkg/kgo.(*brokerCxn).writeRequest()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/broker.go:1033 +0x79f
  github.com/twmb/franz-go/pkg/kgo.(*broker).handleReq()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/broker.go:441 +0x11cc
  github.com/twmb/franz-go/pkg/kgo.(*broker).handleReqs()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/broker.go:286 +0xfb
  github.com/twmb/franz-go/pkg/kgo.(*broker).do.gowrap1()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/broker.go:260 +0xab

Goroutine 363 (running) created at:
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.forwardClientToBackend.func2()
      /build/internal/handler/grpc_copy.go:336 +0x2e
  runtime/pprof.Do()
      /usr/local/go/src/runtime/pprof/runtime.go:51 +0x117
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.forwardClientToBackend()
      /build/internal/handler/grpc_copy.go:335 +0x945
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.GRPCCopy()
      /build/internal/handler/grpc_copy.go:39 +0x404
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.(*HTTPHandlerSwapper).ServeGRPC()
      /build/internal/handler/handler.go:584 +0x325c
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.(*HTTPHandlerSwapper).ServeGRPC-fm()
      <autogenerated>:1 +0x64
  go.unistack.org/micro-server-grpc/v3.(*Server).handler()
      /go/pkg/mod/go.unistack.org/micro-server-grpc/v3@v3.10.13/grpc.go:306 +0x183b
  go.unistack.org/micro-server-grpc/v3.(*Server).handler-fm()
      <autogenerated>:1 +0x64
  google.golang.org/grpc.(*Server).processStreamingRPC()
      /go/pkg/mod/google.golang.org/grpc@v1.62.1/server.go:1680 +0x1fd9
  google.golang.org/grpc.(*Server).handleStream()
      /go/pkg/mod/google.golang.org/grpc@v1.62.1/server.go:1807 +0x1755
  google.golang.org/grpc.(*Server).serveStreams.func2.1()
      /go/pkg/mod/google.golang.org/grpc@v1.62.1/server.go:1027 +0x158

Goroutine 341 (finished) created at:
  github.com/twmb/franz-go/pkg/kgo.(*broker).do()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/broker.go:260 +0x2e4
  github.com/twmb/franz-go/pkg/kgo.(*broker).waitResp()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/broker.go:275 +0x1ea
  github.com/twmb/franz-go/pkg/kgo.(*retryable).Request()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/client.go:1205 +0x1ec
  github.com/twmb/franz-go/pkg/kgo.(*Client).handleReqWithCoordinator()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/client.go:1926 +0x252
  github.com/twmb/franz-go/pkg/kgo.(*Client).handleCoordinatorReqSimple()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/client.go:1862 +0x1fe
  github.com/twmb/franz-go/pkg/kgo.(*Client).handleCoordinatorReq()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/client.go:1850 +0x65d
  github.com/twmb/franz-go/pkg/kgo.(*Client).shardedRequest()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/client.go:1365 +0xf4e
  github.com/twmb/franz-go/pkg/kgo.(*Client).Request()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/client.go:1134 +0x58
  github.com/twmb/franz-go/pkg/kmsg.(*SyncGroupRequest).RequestWith()
      /go/pkg/mod/github.com/twmb/franz-go/pkg/kmsg@v1.7.0/generated.go:14321 +0x5d
  github.com/twmb/franz-go/pkg/kgo.(*groupConsumer).joinAndSync.func3()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/consumer_group.go:1170 +0x144
==================
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"ff2eab86-297c-4477-94ad-325c59c36383","trace-id":"","span-id":"","time":"2024-04-03T10:23:05+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"ff2eab86-297c-4477-94ad-325c59c36383","trace-id":"","span-id":"","time":"2024-04-03T10:23:05+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"ff2eab86-297c-4477-94ad-325c59c36383","trace-id":"","span-id":"","time":"2024-04-03T10:23:05+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"ff2eab86-297c-4477-94ad-325c59c36383","trace-id":"","span-id":"","time":"2024-04-03T10:23:05+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"ff2eab86-297c-4477-94ad-325c59c36383","trace-id":"","span-id":"","time":"2024-04-03T10:23:05+05:00","message":"forwardBackendToClient src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"ff2eab86-297c-4477-94ad-325c59c36383","trace-id":"","span-id":"","time":"2024-04-03T10:23:05+05:00","message":"forwardBackendToClient set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"ff2eab86-297c-4477-94ad-325c59c36383","trace-id":"","span-id":"","time":"2024-04-03T10:23:05+05:00","message":"forwardBackendToClient src.Header"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"ff2eab86-297c-4477-94ad-325c59c36383","trace-id":"","span-id":"","time":"2024-04-03T10:23:05+05:00","message":"forwardBackendToClient dst.SetHeader"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"ff2eab86-297c-4477-94ad-325c59c36383","trace-id":"","span-id":"","time":"2024-04-03T10:23:05+05:00","message":"forwardBackendToClient try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"ff2eab86-297c-4477-94ad-325c59c36383","trace-id":"","span-id":"","time":"2024-04-03T10:23:05+05:00","message":"forwardBackendToClient dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"ff2eab86-297c-4477-94ad-325c59c36383","trace-id":"","span-id":"","time":"2024-04-03T10:23:05+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"ff2eab86-297c-4477-94ad-325c59c36383","trace-id":"","span-id":"","time":"2024-04-03T10:23:05+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"ff2eab86-297c-4477-94ad-325c59c36383","trace-id":"","span-id":"","time":"2024-04-03T10:23:05+05:00","message":"forwardBackendToClient src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"ff2eab86-297c-4477-94ad-325c59c36383","trace-id":"","span-id":"","time":"2024-04-03T10:23:05+05:00","message":"b2cErr := <-b2cErrChan: err: EOF"}
{"level":"debug","x-request-id":"1bfa1363-874f-4894-a66c-75233a5bbf26","time":"2024-04-03T10:23:06+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"1bfa1363-874f-4894-a66c-75233a5bbf26","time":"2024-04-03T10:23:06+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Token"}
{"level":"info","x-request-id":"1bfa1363-874f-4894-a66c-75233a5bbf26","time":"2024-04-03T10:23:06+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"1bfa1363-874f-4894-a66c-75233a5bbf26","time":"2024-04-03T10:23:06+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"1bfa1363-874f-4894-a66c-75233a5bbf26","time":"2024-04-03T10:23:06+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"1bfa1363-874f-4894-a66c-75233a5bbf26","time":"2024-04-03T10:23:06+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"1bfa1363-874f-4894-a66c-75233a5bbf26","time":"2024-04-03T10:23:06+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"1bfa1363-874f-4894-a66c-75233a5bbf26","time":"2024-04-03T10:23:06+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"1bfa1363-874f-4894-a66c-75233a5bbf26","time":"2024-04-03T10:23:06+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"1bfa1363-874f-4894-a66c-75233a5bbf26","time":"2024-04-03T10:23:06+05:00","message":"jwt.extract jwt claims empty"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"1bfa1363-874f-4894-a66c-75233a5bbf26","trace-id":"","span-id":"","time":"2024-04-03T10:23:06+05:00","message":"grpc request with md: metadata.MD{\":authority\":[]string{\"upstream_balancer\"}, \":path\":[]string{\"/authn.AuthnService/Token\"}, \"client-ip\":[]string{\"172.23.20.6\"}, \"content-type\":[]string{\"application/grpc\"}, \"grpc-accept-encoding\":[]string{\"identity, deflate, gzip\"}, \"source-service\":[]string{\"/authn.AuthnService/Token\"}, \"user-agent\":[]string{\"grpc-python/1.59.0 grpc-c/36.0.0 (osx; chttp2)\"}, \"x-forwarded-for\":[]string{\"172.23.20.6\"}, \"x-forwarded-host\":[]string{\"dev-apigw-grpc.fortebank.com:443\"}, \"x-forwarded-port\":[]string{\"443\"}, \"x-forwarded-proto\":[]string{\"https\"}, \"x-forwarded-scheme\":[]string{\"https\"}, \"x-real-ip\":[]string{\"172.23.20.6\"}, \"x-request-id\":[]string{\"1bfa1363-874f-4894-a66c-75233a5bbf26\"}, \"x-scheme\":[]string{\"https\"}}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"1bfa1363-874f-4894-a66c-75233a5bbf26","trace-id":"","span-id":"","time":"2024-04-03T10:23:06+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"1bfa1363-874f-4894-a66c-75233a5bbf26","trace-id":"","span-id":"","time":"2024-04-03T10:23:06+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"1bfa1363-874f-4894-a66c-75233a5bbf26","trace-id":"","span-id":"","time":"2024-04-03T10:23:06+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"1bfa1363-874f-4894-a66c-75233a5bbf26","trace-id":"","span-id":"","time":"2024-04-03T10:23:06+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"1bfa1363-874f-4894-a66c-75233a5bbf26","trace-id":"","span-id":"","time":"2024-04-03T10:23:06+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"1bfa1363-874f-4894-a66c-75233a5bbf26","trace-id":"","span-id":"","time":"2024-04-03T10:23:06+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"1bfa1363-874f-4894-a66c-75233a5bbf26","trace-id":"","span-id":"","time":"2024-04-03T10:23:06+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"1bfa1363-874f-4894-a66c-75233a5bbf26","trace-id":"","span-id":"","time":"2024-04-03T10:23:06+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"1bfa1363-874f-4894-a66c-75233a5bbf26","trace-id":"","span-id":"","time":"2024-04-03T10:23:06+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"1bfa1363-874f-4894-a66c-75233a5bbf26","trace-id":"","span-id":"","time":"2024-04-03T10:23:06+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"1bfa1363-874f-4894-a66c-75233a5bbf26","trace-id":"","span-id":"","time":"2024-04-03T10:23:06+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"1bfa1363-874f-4894-a66c-75233a5bbf26","trace-id":"","span-id":"","time":"2024-04-03T10:23:06+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"1bfa1363-874f-4894-a66c-75233a5bbf26","trace-id":"","span-id":"","time":"2024-04-03T10:23:06+05:00","message":"forwardBackendToClient src.RecvMsg err rpc error: code = Unauthenticated desc = error"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"1bfa1363-874f-4894-a66c-75233a5bbf26","trace-id":"","span-id":"","time":"2024-04-03T10:23:06+05:00","message":"b2cErr := <-b2cErrChan: err: rpc error: code = Unauthenticated desc = error"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"1bfa1363-874f-4894-a66c-75233a5bbf26","trace-id":"","span-id":"","time":"2024-04-03T10:23:06+05:00","message":"failed to proxy grpc conn c2bErr: rpc error: code = Unauthenticated desc = error *status.Error &status.Error{s:(*status.Status)(0xc0005361a0)}"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"1bfa1363-874f-4894-a66c-75233a5bbf26","trace-id":"","span-id":"","time":"2024-04-03T10:23:06+05:00","message":"error status &status.Status{s:(*status.Status)(0xc00052a2a0)}"}
{"level":"debug","x-request-id":"9b3812a1-dea0-4f37-8d60-5e16b8860ade","time":"2024-04-03T10:23:09+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"9b3812a1-dea0-4f37-8d60-5e16b8860ade","time":"2024-04-03T10:23:09+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Login"}
{"level":"info","x-request-id":"9b3812a1-dea0-4f37-8d60-5e16b8860ade","time":"2024-04-03T10:23:09+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"9b3812a1-dea0-4f37-8d60-5e16b8860ade","time":"2024-04-03T10:23:09+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"9b3812a1-dea0-4f37-8d60-5e16b8860ade","time":"2024-04-03T10:23:09+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"9b3812a1-dea0-4f37-8d60-5e16b8860ade","time":"2024-04-03T10:23:09+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"9b3812a1-dea0-4f37-8d60-5e16b8860ade","time":"2024-04-03T10:23:09+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"9b3812a1-dea0-4f37-8d60-5e16b8860ade","time":"2024-04-03T10:23:09+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"9b3812a1-dea0-4f37-8d60-5e16b8860ade","time":"2024-04-03T10:23:09+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"9b3812a1-dea0-4f37-8d60-5e16b8860ade","time":"2024-04-03T10:23:09+05:00","message":"jwt.extract jwt claims empty"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"9b3812a1-dea0-4f37-8d60-5e16b8860ade","trace-id":"","span-id":"","time":"2024-04-03T10:23:09+05:00","message":"grpc request with md: metadata.MD{\":authority\":[]string{\"upstream_balancer\"}, \":path\":[]string{\"/authn.AuthnService/Login\"}, \"client-ip\":[]string{\"172.23.20.6\"}, \"content-type\":[]string{\"application/grpc\"}, \"grpc-accept-encoding\":[]string{\"identity, deflate, gzip\"}, \"source-service\":[]string{\"/authn.AuthnService/Login\"}, \"user-agent\":[]string{\"grpc-python/1.59.0 grpc-c/36.0.0 (osx; chttp2)\"}, \"x-forwarded-for\":[]string{\"172.23.20.6\"}, \"x-forwarded-host\":[]string{\"dev-apigw-grpc.fortebank.com:443\"}, \"x-forwarded-port\":[]string{\"443\"}, \"x-forwarded-proto\":[]string{\"https\"}, \"x-forwarded-scheme\":[]string{\"https\"}, \"x-real-ip\":[]string{\"172.23.20.6\"}, \"x-request-id\":[]string{\"9b3812a1-dea0-4f37-8d60-5e16b8860ade\"}, \"x-scheme\":[]string{\"https\"}}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"9b3812a1-dea0-4f37-8d60-5e16b8860ade","trace-id":"","span-id":"","time":"2024-04-03T10:23:09+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"9b3812a1-dea0-4f37-8d60-5e16b8860ade","trace-id":"","span-id":"","time":"2024-04-03T10:23:09+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"9b3812a1-dea0-4f37-8d60-5e16b8860ade","trace-id":"","span-id":"","time":"2024-04-03T10:23:09+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"9b3812a1-dea0-4f37-8d60-5e16b8860ade","trace-id":"","span-id":"","time":"2024-04-03T10:23:09+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"9b3812a1-dea0-4f37-8d60-5e16b8860ade","trace-id":"","span-id":"","time":"2024-04-03T10:23:09+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"9b3812a1-dea0-4f37-8d60-5e16b8860ade","trace-id":"","span-id":"","time":"2024-04-03T10:23:09+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"9b3812a1-dea0-4f37-8d60-5e16b8860ade","trace-id":"","span-id":"","time":"2024-04-03T10:23:09+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"9b3812a1-dea0-4f37-8d60-5e16b8860ade","trace-id":"","span-id":"","time":"2024-04-03T10:23:09+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"9b3812a1-dea0-4f37-8d60-5e16b8860ade","trace-id":"","span-id":"","time":"2024-04-03T10:23:09+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"9b3812a1-dea0-4f37-8d60-5e16b8860ade","trace-id":"","span-id":"","time":"2024-04-03T10:23:09+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"9b3812a1-dea0-4f37-8d60-5e16b8860ade","trace-id":"","span-id":"","time":"2024-04-03T10:23:09+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"9b3812a1-dea0-4f37-8d60-5e16b8860ade","trace-id":"","span-id":"","time":"2024-04-03T10:23:09+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"9b3812a1-dea0-4f37-8d60-5e16b8860ade","trace-id":"","span-id":"","time":"2024-04-03T10:23:09+05:00","message":"forwardBackendToClient src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"9b3812a1-dea0-4f37-8d60-5e16b8860ade","trace-id":"","span-id":"","time":"2024-04-03T10:23:09+05:00","message":"forwardBackendToClient set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"9b3812a1-dea0-4f37-8d60-5e16b8860ade","trace-id":"","span-id":"","time":"2024-04-03T10:23:09+05:00","message":"forwardBackendToClient src.Header"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"9b3812a1-dea0-4f37-8d60-5e16b8860ade","trace-id":"","span-id":"","time":"2024-04-03T10:23:09+05:00","message":"forwardBackendToClient dst.SetHeader"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"9b3812a1-dea0-4f37-8d60-5e16b8860ade","trace-id":"","span-id":"","time":"2024-04-03T10:23:09+05:00","message":"forwardBackendToClient try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"9b3812a1-dea0-4f37-8d60-5e16b8860ade","trace-id":"","span-id":"","time":"2024-04-03T10:23:09+05:00","message":"forwardBackendToClient dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"9b3812a1-dea0-4f37-8d60-5e16b8860ade","trace-id":"","span-id":"","time":"2024-04-03T10:23:09+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"9b3812a1-dea0-4f37-8d60-5e16b8860ade","trace-id":"","span-id":"","time":"2024-04-03T10:23:09+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"9b3812a1-dea0-4f37-8d60-5e16b8860ade","trace-id":"","span-id":"","time":"2024-04-03T10:23:09+05:00","message":"forwardBackendToClient src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"9b3812a1-dea0-4f37-8d60-5e16b8860ade","trace-id":"","span-id":"","time":"2024-04-03T10:23:09+05:00","message":"b2cErr := <-b2cErrChan: err: EOF"}
{"level":"debug","x-request-id":"574af9a7-f635-4472-8875-f077b224533b","time":"2024-04-03T10:23:12+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"574af9a7-f635-4472-8875-f077b224533b","time":"2024-04-03T10:23:12+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Login"}
{"level":"info","x-request-id":"574af9a7-f635-4472-8875-f077b224533b","time":"2024-04-03T10:23:12+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"574af9a7-f635-4472-8875-f077b224533b","time":"2024-04-03T10:23:12+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"574af9a7-f635-4472-8875-f077b224533b","time":"2024-04-03T10:23:12+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"574af9a7-f635-4472-8875-f077b224533b","time":"2024-04-03T10:23:12+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"574af9a7-f635-4472-8875-f077b224533b","time":"2024-04-03T10:23:12+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"574af9a7-f635-4472-8875-f077b224533b","time":"2024-04-03T10:23:12+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"574af9a7-f635-4472-8875-f077b224533b","time":"2024-04-03T10:23:12+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"574af9a7-f635-4472-8875-f077b224533b","time":"2024-04-03T10:23:12+05:00","message":"jwt.extract jwt claims empty"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"574af9a7-f635-4472-8875-f077b224533b","trace-id":"","span-id":"","time":"2024-04-03T10:23:12+05:00","message":"grpc request with md: metadata.MD{\":authority\":[]string{\"upstream_balancer\"}, \":path\":[]string{\"/authn.AuthnService/Login\"}, \"client-ip\":[]string{\"172.23.20.6\"}, \"content-type\":[]string{\"application/grpc\"}, \"grpc-accept-encoding\":[]string{\"identity, deflate, gzip\"}, \"source-service\":[]string{\"/authn.AuthnService/Login\"}, \"user-agent\":[]string{\"grpc-python/1.59.0 grpc-c/36.0.0 (osx; chttp2)\"}, \"x-forwarded-for\":[]string{\"172.23.20.6\"}, \"x-forwarded-host\":[]string{\"dev-apigw-grpc.fortebank.com:443\"}, \"x-forwarded-port\":[]string{\"443\"}, \"x-forwarded-proto\":[]string{\"https\"}, \"x-forwarded-scheme\":[]string{\"https\"}, \"x-real-ip\":[]string{\"172.23.20.6\"}, \"x-request-id\":[]string{\"574af9a7-f635-4472-8875-f077b224533b\"}, \"x-scheme\":[]string{\"https\"}}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"574af9a7-f635-4472-8875-f077b224533b","trace-id":"","span-id":"","time":"2024-04-03T10:23:12+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"574af9a7-f635-4472-8875-f077b224533b","trace-id":"","span-id":"","time":"2024-04-03T10:23:12+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"574af9a7-f635-4472-8875-f077b224533b","trace-id":"","span-id":"","time":"2024-04-03T10:23:12+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"574af9a7-f635-4472-8875-f077b224533b","trace-id":"","span-id":"","time":"2024-04-03T10:23:12+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"574af9a7-f635-4472-8875-f077b224533b","trace-id":"","span-id":"","time":"2024-04-03T10:23:12+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"574af9a7-f635-4472-8875-f077b224533b","trace-id":"","span-id":"","time":"2024-04-03T10:23:12+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"574af9a7-f635-4472-8875-f077b224533b","trace-id":"","span-id":"","time":"2024-04-03T10:23:12+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"574af9a7-f635-4472-8875-f077b224533b","trace-id":"","span-id":"","time":"2024-04-03T10:23:12+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"574af9a7-f635-4472-8875-f077b224533b","trace-id":"","span-id":"","time":"2024-04-03T10:23:12+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"574af9a7-f635-4472-8875-f077b224533b","trace-id":"","span-id":"","time":"2024-04-03T10:23:12+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"574af9a7-f635-4472-8875-f077b224533b","trace-id":"","span-id":"","time":"2024-04-03T10:23:12+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"574af9a7-f635-4472-8875-f077b224533b","trace-id":"","span-id":"","time":"2024-04-03T10:23:12+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"574af9a7-f635-4472-8875-f077b224533b","trace-id":"","span-id":"","time":"2024-04-03T10:23:12+05:00","message":"forwardBackendToClient src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"574af9a7-f635-4472-8875-f077b224533b","trace-id":"","span-id":"","time":"2024-04-03T10:23:12+05:00","message":"forwardBackendToClient set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"574af9a7-f635-4472-8875-f077b224533b","trace-id":"","span-id":"","time":"2024-04-03T10:23:12+05:00","message":"forwardBackendToClient src.Header"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"574af9a7-f635-4472-8875-f077b224533b","trace-id":"","span-id":"","time":"2024-04-03T10:23:12+05:00","message":"forwardBackendToClient dst.SetHeader"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"574af9a7-f635-4472-8875-f077b224533b","trace-id":"","span-id":"","time":"2024-04-03T10:23:12+05:00","message":"forwardBackendToClient try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"574af9a7-f635-4472-8875-f077b224533b","trace-id":"","span-id":"","time":"2024-04-03T10:23:12+05:00","message":"forwardBackendToClient dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"574af9a7-f635-4472-8875-f077b224533b","trace-id":"","span-id":"","time":"2024-04-03T10:23:12+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"574af9a7-f635-4472-8875-f077b224533b","trace-id":"","span-id":"","time":"2024-04-03T10:23:12+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"574af9a7-f635-4472-8875-f077b224533b","trace-id":"","span-id":"","time":"2024-04-03T10:23:12+05:00","message":"forwardBackendToClient src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"574af9a7-f635-4472-8875-f077b224533b","trace-id":"","span-id":"","time":"2024-04-03T10:23:12+05:00","message":"b2cErr := <-b2cErrChan: err: EOF"}
{"level":"debug","x-request-id":"33b2f4b3-fa52-440f-97b9-3d7b5f88012c","time":"2024-04-03T10:23:12+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"33b2f4b3-fa52-440f-97b9-3d7b5f88012c","time":"2024-04-03T10:23:12+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Token"}
{"level":"info","x-request-id":"33b2f4b3-fa52-440f-97b9-3d7b5f88012c","time":"2024-04-03T10:23:12+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"33b2f4b3-fa52-440f-97b9-3d7b5f88012c","time":"2024-04-03T10:23:12+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"33b2f4b3-fa52-440f-97b9-3d7b5f88012c","time":"2024-04-03T10:23:12+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"33b2f4b3-fa52-440f-97b9-3d7b5f88012c","time":"2024-04-03T10:23:12+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"33b2f4b3-fa52-440f-97b9-3d7b5f88012c","time":"2024-04-03T10:23:12+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"33b2f4b3-fa52-440f-97b9-3d7b5f88012c","time":"2024-04-03T10:23:12+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"33b2f4b3-fa52-440f-97b9-3d7b5f88012c","time":"2024-04-03T10:23:12+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"33b2f4b3-fa52-440f-97b9-3d7b5f88012c","time":"2024-04-03T10:23:12+05:00","message":"jwt.extract jwt claims empty"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"33b2f4b3-fa52-440f-97b9-3d7b5f88012c","trace-id":"","span-id":"","time":"2024-04-03T10:23:12+05:00","message":"grpc request with md: metadata.MD{\":authority\":[]string{\"upstream_balancer\"}, \":path\":[]string{\"/authn.AuthnService/Token\"}, \"client-ip\":[]string{\"172.23.20.6\"}, \"content-type\":[]string{\"application/grpc\"}, \"grpc-accept-encoding\":[]string{\"identity, deflate, gzip\"}, \"source-service\":[]string{\"/authn.AuthnService/Token\"}, \"user-agent\":[]string{\"grpc-python/1.59.0 grpc-c/36.0.0 (osx; chttp2)\"}, \"x-forwarded-for\":[]string{\"172.23.20.6\"}, \"x-forwarded-host\":[]string{\"dev-apigw-grpc.fortebank.com:443\"}, \"x-forwarded-port\":[]string{\"443\"}, \"x-forwarded-proto\":[]string{\"https\"}, \"x-forwarded-scheme\":[]string{\"https\"}, \"x-real-ip\":[]string{\"172.23.20.6\"}, \"x-request-id\":[]string{\"33b2f4b3-fa52-440f-97b9-3d7b5f88012c\"}, \"x-scheme\":[]string{\"https\"}}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"33b2f4b3-fa52-440f-97b9-3d7b5f88012c","trace-id":"","span-id":"","time":"2024-04-03T10:23:12+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"33b2f4b3-fa52-440f-97b9-3d7b5f88012c","trace-id":"","span-id":"","time":"2024-04-03T10:23:12+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"33b2f4b3-fa52-440f-97b9-3d7b5f88012c","trace-id":"","span-id":"","time":"2024-04-03T10:23:12+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"33b2f4b3-fa52-440f-97b9-3d7b5f88012c","trace-id":"","span-id":"","time":"2024-04-03T10:23:12+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"33b2f4b3-fa52-440f-97b9-3d7b5f88012c","trace-id":"","span-id":"","time":"2024-04-03T10:23:12+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"33b2f4b3-fa52-440f-97b9-3d7b5f88012c","trace-id":"","span-id":"","time":"2024-04-03T10:23:12+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"33b2f4b3-fa52-440f-97b9-3d7b5f88012c","trace-id":"","span-id":"","time":"2024-04-03T10:23:12+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"33b2f4b3-fa52-440f-97b9-3d7b5f88012c","trace-id":"","span-id":"","time":"2024-04-03T10:23:12+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"33b2f4b3-fa52-440f-97b9-3d7b5f88012c","trace-id":"","span-id":"","time":"2024-04-03T10:23:12+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"33b2f4b3-fa52-440f-97b9-3d7b5f88012c","trace-id":"","span-id":"","time":"2024-04-03T10:23:12+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"33b2f4b3-fa52-440f-97b9-3d7b5f88012c","trace-id":"","span-id":"","time":"2024-04-03T10:23:12+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"33b2f4b3-fa52-440f-97b9-3d7b5f88012c","trace-id":"","span-id":"","time":"2024-04-03T10:23:12+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"33b2f4b3-fa52-440f-97b9-3d7b5f88012c","trace-id":"","span-id":"","time":"2024-04-03T10:23:12+05:00","message":"forwardBackendToClient src.RecvMsg err rpc error: code = Unauthenticated desc = error"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"33b2f4b3-fa52-440f-97b9-3d7b5f88012c","trace-id":"","span-id":"","time":"2024-04-03T10:23:12+05:00","message":"b2cErr := <-b2cErrChan: err: rpc error: code = Unauthenticated desc = error"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"33b2f4b3-fa52-440f-97b9-3d7b5f88012c","trace-id":"","span-id":"","time":"2024-04-03T10:23:12+05:00","message":"failed to proxy grpc conn c2bErr: rpc error: code = Unauthenticated desc = error *status.Error &status.Error{s:(*status.Status)(0xc00007e4a8)}"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"33b2f4b3-fa52-440f-97b9-3d7b5f88012c","trace-id":"","span-id":"","time":"2024-04-03T10:23:12+05:00","message":"error status &status.Status{s:(*status.Status)(0xc0008892c0)}"}
{"level":"debug","x-request-id":"afd476be-76e4-4c37-912f-58eb2f69ff16","time":"2024-04-03T10:23:16+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"afd476be-76e4-4c37-912f-58eb2f69ff16","time":"2024-04-03T10:23:16+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Login"}
{"level":"info","x-request-id":"afd476be-76e4-4c37-912f-58eb2f69ff16","time":"2024-04-03T10:23:16+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"afd476be-76e4-4c37-912f-58eb2f69ff16","time":"2024-04-03T10:23:16+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"afd476be-76e4-4c37-912f-58eb2f69ff16","time":"2024-04-03T10:23:16+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"afd476be-76e4-4c37-912f-58eb2f69ff16","time":"2024-04-03T10:23:16+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"afd476be-76e4-4c37-912f-58eb2f69ff16","time":"2024-04-03T10:23:16+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"afd476be-76e4-4c37-912f-58eb2f69ff16","time":"2024-04-03T10:23:16+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"afd476be-76e4-4c37-912f-58eb2f69ff16","time":"2024-04-03T10:23:16+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"afd476be-76e4-4c37-912f-58eb2f69ff16","time":"2024-04-03T10:23:16+05:00","message":"jwt.extract jwt claims empty"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"afd476be-76e4-4c37-912f-58eb2f69ff16","trace-id":"","span-id":"","time":"2024-04-03T10:23:16+05:00","message":"grpc request with md: metadata.MD{\":authority\":[]string{\"upstream_balancer\"}, \":path\":[]string{\"/authn.AuthnService/Login\"}, \"client-ip\":[]string{\"172.23.20.6\"}, \"content-type\":[]string{\"application/grpc\"}, \"grpc-accept-encoding\":[]string{\"identity, deflate, gzip\"}, \"source-service\":[]string{\"/authn.AuthnService/Login\"}, \"user-agent\":[]string{\"grpc-python/1.59.0 grpc-c/36.0.0 (osx; chttp2)\"}, \"x-forwarded-for\":[]string{\"172.23.20.6\"}, \"x-forwarded-host\":[]string{\"dev-apigw-grpc.fortebank.com:443\"}, \"x-forwarded-port\":[]string{\"443\"}, \"x-forwarded-proto\":[]string{\"https\"}, \"x-forwarded-scheme\":[]string{\"https\"}, \"x-real-ip\":[]string{\"172.23.20.6\"}, \"x-request-id\":[]string{\"afd476be-76e4-4c37-912f-58eb2f69ff16\"}, \"x-scheme\":[]string{\"https\"}}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"afd476be-76e4-4c37-912f-58eb2f69ff16","trace-id":"","span-id":"","time":"2024-04-03T10:23:16+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"afd476be-76e4-4c37-912f-58eb2f69ff16","trace-id":"","span-id":"","time":"2024-04-03T10:23:16+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"afd476be-76e4-4c37-912f-58eb2f69ff16","trace-id":"","span-id":"","time":"2024-04-03T10:23:16+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"afd476be-76e4-4c37-912f-58eb2f69ff16","trace-id":"","span-id":"","time":"2024-04-03T10:23:16+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"afd476be-76e4-4c37-912f-58eb2f69ff16","trace-id":"","span-id":"","time":"2024-04-03T10:23:16+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"afd476be-76e4-4c37-912f-58eb2f69ff16","trace-id":"","span-id":"","time":"2024-04-03T10:23:16+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"afd476be-76e4-4c37-912f-58eb2f69ff16","trace-id":"","span-id":"","time":"2024-04-03T10:23:16+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"afd476be-76e4-4c37-912f-58eb2f69ff16","trace-id":"","span-id":"","time":"2024-04-03T10:23:16+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"afd476be-76e4-4c37-912f-58eb2f69ff16","trace-id":"","span-id":"","time":"2024-04-03T10:23:16+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"afd476be-76e4-4c37-912f-58eb2f69ff16","trace-id":"","span-id":"","time":"2024-04-03T10:23:16+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"afd476be-76e4-4c37-912f-58eb2f69ff16","trace-id":"","span-id":"","time":"2024-04-03T10:23:16+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"afd476be-76e4-4c37-912f-58eb2f69ff16","trace-id":"","span-id":"","time":"2024-04-03T10:23:16+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"afd476be-76e4-4c37-912f-58eb2f69ff16","trace-id":"","span-id":"","time":"2024-04-03T10:23:16+05:00","message":"forwardBackendToClient src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"afd476be-76e4-4c37-912f-58eb2f69ff16","trace-id":"","span-id":"","time":"2024-04-03T10:23:16+05:00","message":"forwardBackendToClient set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"afd476be-76e4-4c37-912f-58eb2f69ff16","trace-id":"","span-id":"","time":"2024-04-03T10:23:16+05:00","message":"forwardBackendToClient src.Header"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"afd476be-76e4-4c37-912f-58eb2f69ff16","trace-id":"","span-id":"","time":"2024-04-03T10:23:16+05:00","message":"forwardBackendToClient dst.SetHeader"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"afd476be-76e4-4c37-912f-58eb2f69ff16","trace-id":"","span-id":"","time":"2024-04-03T10:23:16+05:00","message":"forwardBackendToClient try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"afd476be-76e4-4c37-912f-58eb2f69ff16","trace-id":"","span-id":"","time":"2024-04-03T10:23:16+05:00","message":"forwardBackendToClient dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"afd476be-76e4-4c37-912f-58eb2f69ff16","trace-id":"","span-id":"","time":"2024-04-03T10:23:16+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"afd476be-76e4-4c37-912f-58eb2f69ff16","trace-id":"","span-id":"","time":"2024-04-03T10:23:16+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"afd476be-76e4-4c37-912f-58eb2f69ff16","trace-id":"","span-id":"","time":"2024-04-03T10:23:16+05:00","message":"forwardBackendToClient src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"afd476be-76e4-4c37-912f-58eb2f69ff16","trace-id":"","span-id":"","time":"2024-04-03T10:23:16+05:00","message":"b2cErr := <-b2cErrChan: err: EOF"}
{"level":"debug","x-request-id":"e226cc53-a0f0-45d5-a286-a80503bd6998","time":"2024-04-03T10:23:19+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"e226cc53-a0f0-45d5-a286-a80503bd6998","time":"2024-04-03T10:23:19+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Login"}
{"level":"info","x-request-id":"e226cc53-a0f0-45d5-a286-a80503bd6998","time":"2024-04-03T10:23:19+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"e226cc53-a0f0-45d5-a286-a80503bd6998","time":"2024-04-03T10:23:19+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"e226cc53-a0f0-45d5-a286-a80503bd6998","time":"2024-04-03T10:23:19+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"e226cc53-a0f0-45d5-a286-a80503bd6998","time":"2024-04-03T10:23:19+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"e226cc53-a0f0-45d5-a286-a80503bd6998","time":"2024-04-03T10:23:19+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"e226cc53-a0f0-45d5-a286-a80503bd6998","time":"2024-04-03T10:23:19+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"e226cc53-a0f0-45d5-a286-a80503bd6998","time":"2024-04-03T10:23:19+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"e226cc53-a0f0-45d5-a286-a80503bd6998","time":"2024-04-03T10:23:19+05:00","message":"jwt.extract jwt claims empty"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e226cc53-a0f0-45d5-a286-a80503bd6998","trace-id":"","span-id":"","time":"2024-04-03T10:23:19+05:00","message":"grpc request with md: metadata.MD{\":authority\":[]string{\"upstream_balancer\"}, \":path\":[]string{\"/authn.AuthnService/Login\"}, \"client-ip\":[]string{\"172.23.20.6\"}, \"content-type\":[]string{\"application/grpc\"}, \"grpc-accept-encoding\":[]string{\"identity, deflate, gzip\"}, \"source-service\":[]string{\"/authn.AuthnService/Login\"}, \"user-agent\":[]string{\"grpc-python/1.59.0 grpc-c/36.0.0 (osx; chttp2)\"}, \"x-forwarded-for\":[]string{\"172.23.20.6\"}, \"x-forwarded-host\":[]string{\"dev-apigw-grpc.fortebank.com:443\"}, \"x-forwarded-port\":[]string{\"443\"}, \"x-forwarded-proto\":[]string{\"https\"}, \"x-forwarded-scheme\":[]string{\"https\"}, \"x-real-ip\":[]string{\"172.23.20.6\"}, \"x-request-id\":[]string{\"e226cc53-a0f0-45d5-a286-a80503bd6998\"}, \"x-scheme\":[]string{\"https\"}}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e226cc53-a0f0-45d5-a286-a80503bd6998","trace-id":"","span-id":"","time":"2024-04-03T10:23:19+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e226cc53-a0f0-45d5-a286-a80503bd6998","trace-id":"","span-id":"","time":"2024-04-03T10:23:19+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e226cc53-a0f0-45d5-a286-a80503bd6998","trace-id":"","span-id":"","time":"2024-04-03T10:23:19+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e226cc53-a0f0-45d5-a286-a80503bd6998","trace-id":"","span-id":"","time":"2024-04-03T10:23:19+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e226cc53-a0f0-45d5-a286-a80503bd6998","trace-id":"","span-id":"","time":"2024-04-03T10:23:19+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e226cc53-a0f0-45d5-a286-a80503bd6998","trace-id":"","span-id":"","time":"2024-04-03T10:23:19+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e226cc53-a0f0-45d5-a286-a80503bd6998","trace-id":"","span-id":"","time":"2024-04-03T10:23:19+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e226cc53-a0f0-45d5-a286-a80503bd6998","trace-id":"","span-id":"","time":"2024-04-03T10:23:19+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e226cc53-a0f0-45d5-a286-a80503bd6998","trace-id":"","span-id":"","time":"2024-04-03T10:23:19+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e226cc53-a0f0-45d5-a286-a80503bd6998","trace-id":"","span-id":"","time":"2024-04-03T10:23:19+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e226cc53-a0f0-45d5-a286-a80503bd6998","trace-id":"","span-id":"","time":"2024-04-03T10:23:19+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e226cc53-a0f0-45d5-a286-a80503bd6998","trace-id":"","span-id":"","time":"2024-04-03T10:23:19+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e226cc53-a0f0-45d5-a286-a80503bd6998","trace-id":"","span-id":"","time":"2024-04-03T10:23:19+05:00","message":"forwardBackendToClient src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e226cc53-a0f0-45d5-a286-a80503bd6998","trace-id":"","span-id":"","time":"2024-04-03T10:23:19+05:00","message":"forwardBackendToClient set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e226cc53-a0f0-45d5-a286-a80503bd6998","trace-id":"","span-id":"","time":"2024-04-03T10:23:19+05:00","message":"forwardBackendToClient src.Header"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e226cc53-a0f0-45d5-a286-a80503bd6998","trace-id":"","span-id":"","time":"2024-04-03T10:23:19+05:00","message":"forwardBackendToClient dst.SetHeader"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e226cc53-a0f0-45d5-a286-a80503bd6998","trace-id":"","span-id":"","time":"2024-04-03T10:23:19+05:00","message":"forwardBackendToClient try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e226cc53-a0f0-45d5-a286-a80503bd6998","trace-id":"","span-id":"","time":"2024-04-03T10:23:19+05:00","message":"forwardBackendToClient dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e226cc53-a0f0-45d5-a286-a80503bd6998","trace-id":"","span-id":"","time":"2024-04-03T10:23:19+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e226cc53-a0f0-45d5-a286-a80503bd6998","trace-id":"","span-id":"","time":"2024-04-03T10:23:19+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e226cc53-a0f0-45d5-a286-a80503bd6998","trace-id":"","span-id":"","time":"2024-04-03T10:23:19+05:00","message":"forwardBackendToClient src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e226cc53-a0f0-45d5-a286-a80503bd6998","trace-id":"","span-id":"","time":"2024-04-03T10:23:19+05:00","message":"b2cErr := <-b2cErrChan: err: EOF"}
{"level":"debug","x-request-id":"2f263865-187a-4b05-a970-d715ca4a8e37","time":"2024-04-03T10:23:20+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"2f263865-187a-4b05-a970-d715ca4a8e37","time":"2024-04-03T10:23:20+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Token"}
{"level":"info","x-request-id":"2f263865-187a-4b05-a970-d715ca4a8e37","time":"2024-04-03T10:23:20+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"2f263865-187a-4b05-a970-d715ca4a8e37","time":"2024-04-03T10:23:20+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"2f263865-187a-4b05-a970-d715ca4a8e37","time":"2024-04-03T10:23:20+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"2f263865-187a-4b05-a970-d715ca4a8e37","time":"2024-04-03T10:23:20+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"2f263865-187a-4b05-a970-d715ca4a8e37","time":"2024-04-03T10:23:20+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"2f263865-187a-4b05-a970-d715ca4a8e37","time":"2024-04-03T10:23:20+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"2f263865-187a-4b05-a970-d715ca4a8e37","time":"2024-04-03T10:23:20+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"2f263865-187a-4b05-a970-d715ca4a8e37","time":"2024-04-03T10:23:20+05:00","message":"jwt.extract jwt claims empty"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2f263865-187a-4b05-a970-d715ca4a8e37","trace-id":"","span-id":"","time":"2024-04-03T10:23:20+05:00","message":"grpc request with md: metadata.MD{\":authority\":[]string{\"upstream_balancer\"}, \":path\":[]string{\"/authn.AuthnService/Token\"}, \"client-ip\":[]string{\"172.23.20.6\"}, \"content-type\":[]string{\"application/grpc\"}, \"grpc-accept-encoding\":[]string{\"identity, deflate, gzip\"}, \"source-service\":[]string{\"/authn.AuthnService/Token\"}, \"user-agent\":[]string{\"grpc-python/1.59.0 grpc-c/36.0.0 (osx; chttp2)\"}, \"x-forwarded-for\":[]string{\"172.23.20.6\"}, \"x-forwarded-host\":[]string{\"dev-apigw-grpc.fortebank.com:443\"}, \"x-forwarded-port\":[]string{\"443\"}, \"x-forwarded-proto\":[]string{\"https\"}, \"x-forwarded-scheme\":[]string{\"https\"}, \"x-real-ip\":[]string{\"172.23.20.6\"}, \"x-request-id\":[]string{\"2f263865-187a-4b05-a970-d715ca4a8e37\"}, \"x-scheme\":[]string{\"https\"}}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2f263865-187a-4b05-a970-d715ca4a8e37","trace-id":"","span-id":"","time":"2024-04-03T10:23:20+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2f263865-187a-4b05-a970-d715ca4a8e37","trace-id":"","span-id":"","time":"2024-04-03T10:23:20+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2f263865-187a-4b05-a970-d715ca4a8e37","trace-id":"","span-id":"","time":"2024-04-03T10:23:20+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2f263865-187a-4b05-a970-d715ca4a8e37","trace-id":"","span-id":"","time":"2024-04-03T10:23:20+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2f263865-187a-4b05-a970-d715ca4a8e37","trace-id":"","span-id":"","time":"2024-04-03T10:23:20+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2f263865-187a-4b05-a970-d715ca4a8e37","trace-id":"","span-id":"","time":"2024-04-03T10:23:20+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2f263865-187a-4b05-a970-d715ca4a8e37","trace-id":"","span-id":"","time":"2024-04-03T10:23:20+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2f263865-187a-4b05-a970-d715ca4a8e37","trace-id":"","span-id":"","time":"2024-04-03T10:23:20+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2f263865-187a-4b05-a970-d715ca4a8e37","trace-id":"","span-id":"","time":"2024-04-03T10:23:20+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2f263865-187a-4b05-a970-d715ca4a8e37","trace-id":"","span-id":"","time":"2024-04-03T10:23:20+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2f263865-187a-4b05-a970-d715ca4a8e37","trace-id":"","span-id":"","time":"2024-04-03T10:23:20+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2f263865-187a-4b05-a970-d715ca4a8e37","trace-id":"","span-id":"","time":"2024-04-03T10:23:20+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2f263865-187a-4b05-a970-d715ca4a8e37","trace-id":"","span-id":"","time":"2024-04-03T10:23:20+05:00","message":"forwardBackendToClient src.RecvMsg err rpc error: code = Unauthenticated desc = error"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2f263865-187a-4b05-a970-d715ca4a8e37","trace-id":"","span-id":"","time":"2024-04-03T10:23:20+05:00","message":"b2cErr := <-b2cErrChan: err: rpc error: code = Unauthenticated desc = error"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"2f263865-187a-4b05-a970-d715ca4a8e37","trace-id":"","span-id":"","time":"2024-04-03T10:23:20+05:00","message":"failed to proxy grpc conn c2bErr: rpc error: code = Unauthenticated desc = error *status.Error &status.Error{s:(*status.Status)(0xc0002202e8)}"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"2f263865-187a-4b05-a970-d715ca4a8e37","trace-id":"","span-id":"","time":"2024-04-03T10:23:20+05:00","message":"error status &status.Status{s:(*status.Status)(0xc00052db60)}"}
{"level":"debug","x-request-id":"dd15a60c-0653-4fc8-9db6-8ec5e78b9eb0","time":"2024-04-03T10:23:23+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"dd15a60c-0653-4fc8-9db6-8ec5e78b9eb0","time":"2024-04-03T10:23:23+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Login"}
{"level":"info","x-request-id":"dd15a60c-0653-4fc8-9db6-8ec5e78b9eb0","time":"2024-04-03T10:23:23+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"dd15a60c-0653-4fc8-9db6-8ec5e78b9eb0","time":"2024-04-03T10:23:23+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"dd15a60c-0653-4fc8-9db6-8ec5e78b9eb0","time":"2024-04-03T10:23:23+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"dd15a60c-0653-4fc8-9db6-8ec5e78b9eb0","time":"2024-04-03T10:23:23+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"dd15a60c-0653-4fc8-9db6-8ec5e78b9eb0","time":"2024-04-03T10:23:23+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"dd15a60c-0653-4fc8-9db6-8ec5e78b9eb0","time":"2024-04-03T10:23:23+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"dd15a60c-0653-4fc8-9db6-8ec5e78b9eb0","time":"2024-04-03T10:23:23+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"dd15a60c-0653-4fc8-9db6-8ec5e78b9eb0","time":"2024-04-03T10:23:23+05:00","message":"jwt.extract jwt claims empty"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"dd15a60c-0653-4fc8-9db6-8ec5e78b9eb0","trace-id":"","span-id":"","time":"2024-04-03T10:23:23+05:00","message":"grpc request with md: metadata.MD{\":authority\":[]string{\"upstream_balancer\"}, \":path\":[]string{\"/authn.AuthnService/Login\"}, \"client-ip\":[]string{\"172.23.20.6\"}, \"content-type\":[]string{\"application/grpc\"}, \"grpc-accept-encoding\":[]string{\"identity, deflate, gzip\"}, \"source-service\":[]string{\"/authn.AuthnService/Login\"}, \"user-agent\":[]string{\"grpc-python/1.59.0 grpc-c/36.0.0 (osx; chttp2)\"}, \"x-forwarded-for\":[]string{\"172.23.20.6\"}, \"x-forwarded-host\":[]string{\"dev-apigw-grpc.fortebank.com:443\"}, \"x-forwarded-port\":[]string{\"443\"}, \"x-forwarded-proto\":[]string{\"https\"}, \"x-forwarded-scheme\":[]string{\"https\"}, \"x-real-ip\":[]string{\"172.23.20.6\"}, \"x-request-id\":[]string{\"dd15a60c-0653-4fc8-9db6-8ec5e78b9eb0\"}, \"x-scheme\":[]string{\"https\"}}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"dd15a60c-0653-4fc8-9db6-8ec5e78b9eb0","trace-id":"","span-id":"","time":"2024-04-03T10:23:23+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"dd15a60c-0653-4fc8-9db6-8ec5e78b9eb0","trace-id":"","span-id":"","time":"2024-04-03T10:23:23+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"dd15a60c-0653-4fc8-9db6-8ec5e78b9eb0","trace-id":"","span-id":"","time":"2024-04-03T10:23:23+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"dd15a60c-0653-4fc8-9db6-8ec5e78b9eb0","trace-id":"","span-id":"","time":"2024-04-03T10:23:23+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"dd15a60c-0653-4fc8-9db6-8ec5e78b9eb0","trace-id":"","span-id":"","time":"2024-04-03T10:23:23+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"dd15a60c-0653-4fc8-9db6-8ec5e78b9eb0","trace-id":"","span-id":"","time":"2024-04-03T10:23:23+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"dd15a60c-0653-4fc8-9db6-8ec5e78b9eb0","trace-id":"","span-id":"","time":"2024-04-03T10:23:23+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"dd15a60c-0653-4fc8-9db6-8ec5e78b9eb0","trace-id":"","span-id":"","time":"2024-04-03T10:23:23+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"dd15a60c-0653-4fc8-9db6-8ec5e78b9eb0","trace-id":"","span-id":"","time":"2024-04-03T10:23:23+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"dd15a60c-0653-4fc8-9db6-8ec5e78b9eb0","trace-id":"","span-id":"","time":"2024-04-03T10:23:23+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"dd15a60c-0653-4fc8-9db6-8ec5e78b9eb0","trace-id":"","span-id":"","time":"2024-04-03T10:23:23+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"dd15a60c-0653-4fc8-9db6-8ec5e78b9eb0","trace-id":"","span-id":"","time":"2024-04-03T10:23:23+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"dd15a60c-0653-4fc8-9db6-8ec5e78b9eb0","trace-id":"","span-id":"","time":"2024-04-03T10:23:23+05:00","message":"forwardBackendToClient src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"dd15a60c-0653-4fc8-9db6-8ec5e78b9eb0","trace-id":"","span-id":"","time":"2024-04-03T10:23:23+05:00","message":"forwardBackendToClient set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"dd15a60c-0653-4fc8-9db6-8ec5e78b9eb0","trace-id":"","span-id":"","time":"2024-04-03T10:23:23+05:00","message":"forwardBackendToClient src.Header"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"dd15a60c-0653-4fc8-9db6-8ec5e78b9eb0","trace-id":"","span-id":"","time":"2024-04-03T10:23:23+05:00","message":"forwardBackendToClient dst.SetHeader"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"dd15a60c-0653-4fc8-9db6-8ec5e78b9eb0","trace-id":"","span-id":"","time":"2024-04-03T10:23:23+05:00","message":"forwardBackendToClient try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"dd15a60c-0653-4fc8-9db6-8ec5e78b9eb0","trace-id":"","span-id":"","time":"2024-04-03T10:23:23+05:00","message":"forwardBackendToClient dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"dd15a60c-0653-4fc8-9db6-8ec5e78b9eb0","trace-id":"","span-id":"","time":"2024-04-03T10:23:23+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"dd15a60c-0653-4fc8-9db6-8ec5e78b9eb0","trace-id":"","span-id":"","time":"2024-04-03T10:23:23+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"dd15a60c-0653-4fc8-9db6-8ec5e78b9eb0","trace-id":"","span-id":"","time":"2024-04-03T10:23:23+05:00","message":"forwardBackendToClient src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"dd15a60c-0653-4fc8-9db6-8ec5e78b9eb0","trace-id":"","span-id":"","time":"2024-04-03T10:23:23+05:00","message":"b2cErr := <-b2cErrChan: err: EOF"}
{"level":"debug","x-request-id":"96ac9c5e-c9dd-415a-b0e9-890725f87e9a","time":"2024-04-03T10:23:28+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"96ac9c5e-c9dd-415a-b0e9-890725f87e9a","time":"2024-04-03T10:23:28+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Login"}
{"level":"info","x-request-id":"96ac9c5e-c9dd-415a-b0e9-890725f87e9a","time":"2024-04-03T10:23:28+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"96ac9c5e-c9dd-415a-b0e9-890725f87e9a","time":"2024-04-03T10:23:28+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"96ac9c5e-c9dd-415a-b0e9-890725f87e9a","time":"2024-04-03T10:23:28+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"96ac9c5e-c9dd-415a-b0e9-890725f87e9a","time":"2024-04-03T10:23:28+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"96ac9c5e-c9dd-415a-b0e9-890725f87e9a","time":"2024-04-03T10:23:28+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"96ac9c5e-c9dd-415a-b0e9-890725f87e9a","time":"2024-04-03T10:23:28+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"96ac9c5e-c9dd-415a-b0e9-890725f87e9a","time":"2024-04-03T10:23:28+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"96ac9c5e-c9dd-415a-b0e9-890725f87e9a","time":"2024-04-03T10:23:28+05:00","message":"jwt.extract jwt claims empty"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"96ac9c5e-c9dd-415a-b0e9-890725f87e9a","trace-id":"","span-id":"","time":"2024-04-03T10:23:28+05:00","message":"grpc request with md: metadata.MD{\":authority\":[]string{\"upstream_balancer\"}, \":path\":[]string{\"/authn.AuthnService/Login\"}, \"client-ip\":[]string{\"172.23.20.6\"}, \"content-type\":[]string{\"application/grpc\"}, \"grpc-accept-encoding\":[]string{\"identity, deflate, gzip\"}, \"source-service\":[]string{\"/authn.AuthnService/Login\"}, \"user-agent\":[]string{\"grpc-python/1.59.0 grpc-c/36.0.0 (osx; chttp2)\"}, \"x-forwarded-for\":[]string{\"172.23.20.6\"}, \"x-forwarded-host\":[]string{\"dev-apigw-grpc.fortebank.com:443\"}, \"x-forwarded-port\":[]string{\"443\"}, \"x-forwarded-proto\":[]string{\"https\"}, \"x-forwarded-scheme\":[]string{\"https\"}, \"x-real-ip\":[]string{\"172.23.20.6\"}, \"x-request-id\":[]string{\"96ac9c5e-c9dd-415a-b0e9-890725f87e9a\"}, \"x-scheme\":[]string{\"https\"}}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"96ac9c5e-c9dd-415a-b0e9-890725f87e9a","trace-id":"","span-id":"","time":"2024-04-03T10:23:28+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"96ac9c5e-c9dd-415a-b0e9-890725f87e9a","trace-id":"","span-id":"","time":"2024-04-03T10:23:28+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"96ac9c5e-c9dd-415a-b0e9-890725f87e9a","trace-id":"","span-id":"","time":"2024-04-03T10:23:28+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"96ac9c5e-c9dd-415a-b0e9-890725f87e9a","trace-id":"","span-id":"","time":"2024-04-03T10:23:28+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"96ac9c5e-c9dd-415a-b0e9-890725f87e9a","trace-id":"","span-id":"","time":"2024-04-03T10:23:28+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"96ac9c5e-c9dd-415a-b0e9-890725f87e9a","trace-id":"","span-id":"","time":"2024-04-03T10:23:28+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"96ac9c5e-c9dd-415a-b0e9-890725f87e9a","trace-id":"","span-id":"","time":"2024-04-03T10:23:28+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"96ac9c5e-c9dd-415a-b0e9-890725f87e9a","trace-id":"","span-id":"","time":"2024-04-03T10:23:28+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"96ac9c5e-c9dd-415a-b0e9-890725f87e9a","trace-id":"","span-id":"","time":"2024-04-03T10:23:28+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"96ac9c5e-c9dd-415a-b0e9-890725f87e9a","trace-id":"","span-id":"","time":"2024-04-03T10:23:28+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"96ac9c5e-c9dd-415a-b0e9-890725f87e9a","trace-id":"","span-id":"","time":"2024-04-03T10:23:28+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"96ac9c5e-c9dd-415a-b0e9-890725f87e9a","trace-id":"","span-id":"","time":"2024-04-03T10:23:28+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"96ac9c5e-c9dd-415a-b0e9-890725f87e9a","trace-id":"","span-id":"","time":"2024-04-03T10:23:28+05:00","message":"forwardBackendToClient src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"96ac9c5e-c9dd-415a-b0e9-890725f87e9a","trace-id":"","span-id":"","time":"2024-04-03T10:23:28+05:00","message":"forwardBackendToClient set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"96ac9c5e-c9dd-415a-b0e9-890725f87e9a","trace-id":"","span-id":"","time":"2024-04-03T10:23:28+05:00","message":"forwardBackendToClient src.Header"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"96ac9c5e-c9dd-415a-b0e9-890725f87e9a","trace-id":"","span-id":"","time":"2024-04-03T10:23:28+05:00","message":"forwardBackendToClient dst.SetHeader"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"96ac9c5e-c9dd-415a-b0e9-890725f87e9a","trace-id":"","span-id":"","time":"2024-04-03T10:23:28+05:00","message":"forwardBackendToClient try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"96ac9c5e-c9dd-415a-b0e9-890725f87e9a","trace-id":"","span-id":"","time":"2024-04-03T10:23:28+05:00","message":"forwardBackendToClient dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"96ac9c5e-c9dd-415a-b0e9-890725f87e9a","trace-id":"","span-id":"","time":"2024-04-03T10:23:28+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"96ac9c5e-c9dd-415a-b0e9-890725f87e9a","trace-id":"","span-id":"","time":"2024-04-03T10:23:28+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"96ac9c5e-c9dd-415a-b0e9-890725f87e9a","trace-id":"","span-id":"","time":"2024-04-03T10:23:28+05:00","message":"forwardBackendToClient src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"96ac9c5e-c9dd-415a-b0e9-890725f87e9a","trace-id":"","span-id":"","time":"2024-04-03T10:23:28+05:00","message":"b2cErr := <-b2cErrChan: err: EOF"}
{"level":"debug","x-request-id":"50ccf09a-435d-4da8-8ed1-dae0ba9aff0c","time":"2024-04-03T10:23:29+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"50ccf09a-435d-4da8-8ed1-dae0ba9aff0c","time":"2024-04-03T10:23:29+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Token"}
{"level":"info","x-request-id":"50ccf09a-435d-4da8-8ed1-dae0ba9aff0c","time":"2024-04-03T10:23:29+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"50ccf09a-435d-4da8-8ed1-dae0ba9aff0c","time":"2024-04-03T10:23:29+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"50ccf09a-435d-4da8-8ed1-dae0ba9aff0c","time":"2024-04-03T10:23:29+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"50ccf09a-435d-4da8-8ed1-dae0ba9aff0c","time":"2024-04-03T10:23:29+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"50ccf09a-435d-4da8-8ed1-dae0ba9aff0c","time":"2024-04-03T10:23:29+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"50ccf09a-435d-4da8-8ed1-dae0ba9aff0c","time":"2024-04-03T10:23:29+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"50ccf09a-435d-4da8-8ed1-dae0ba9aff0c","time":"2024-04-03T10:23:29+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"50ccf09a-435d-4da8-8ed1-dae0ba9aff0c","time":"2024-04-03T10:23:29+05:00","message":"jwt.extract jwt claims empty"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"50ccf09a-435d-4da8-8ed1-dae0ba9aff0c","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"grpc request with md: metadata.MD{\":authority\":[]string{\"upstream_balancer\"}, \":path\":[]string{\"/authn.AuthnService/Token\"}, \"client-ip\":[]string{\"172.23.20.6\"}, \"content-type\":[]string{\"application/grpc\"}, \"grpc-accept-encoding\":[]string{\"identity, deflate, gzip\"}, \"source-service\":[]string{\"/authn.AuthnService/Token\"}, \"user-agent\":[]string{\"grpc-python/1.59.0 grpc-c/36.0.0 (osx; chttp2)\"}, \"x-forwarded-for\":[]string{\"172.23.20.6\"}, \"x-forwarded-host\":[]string{\"dev-apigw-grpc.fortebank.com:443\"}, \"x-forwarded-port\":[]string{\"443\"}, \"x-forwarded-proto\":[]string{\"https\"}, \"x-forwarded-scheme\":[]string{\"https\"}, \"x-real-ip\":[]string{\"172.23.20.6\"}, \"x-request-id\":[]string{\"50ccf09a-435d-4da8-8ed1-dae0ba9aff0c\"}, \"x-scheme\":[]string{\"https\"}}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"50ccf09a-435d-4da8-8ed1-dae0ba9aff0c","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"50ccf09a-435d-4da8-8ed1-dae0ba9aff0c","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"50ccf09a-435d-4da8-8ed1-dae0ba9aff0c","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"50ccf09a-435d-4da8-8ed1-dae0ba9aff0c","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"50ccf09a-435d-4da8-8ed1-dae0ba9aff0c","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"50ccf09a-435d-4da8-8ed1-dae0ba9aff0c","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"50ccf09a-435d-4da8-8ed1-dae0ba9aff0c","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"50ccf09a-435d-4da8-8ed1-dae0ba9aff0c","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"50ccf09a-435d-4da8-8ed1-dae0ba9aff0c","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"50ccf09a-435d-4da8-8ed1-dae0ba9aff0c","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"50ccf09a-435d-4da8-8ed1-dae0ba9aff0c","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"50ccf09a-435d-4da8-8ed1-dae0ba9aff0c","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"50ccf09a-435d-4da8-8ed1-dae0ba9aff0c","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"forwardBackendToClient src.RecvMsg err rpc error: code = Unauthenticated desc = error"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"50ccf09a-435d-4da8-8ed1-dae0ba9aff0c","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"b2cErr := <-b2cErrChan: err: rpc error: code = Unauthenticated desc = error"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"50ccf09a-435d-4da8-8ed1-dae0ba9aff0c","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"failed to proxy grpc conn c2bErr: rpc error: code = Unauthenticated desc = error *status.Error &status.Error{s:(*status.Status)(0xc000712218)}"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"50ccf09a-435d-4da8-8ed1-dae0ba9aff0c","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"error status &status.Status{s:(*status.Status)(0xc00038f380)}"}
{"level":"debug","x-request-id":"bd64a91b-2287-4ae2-a32f-204b69ffcc4d","time":"2024-04-03T10:23:29+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"bd64a91b-2287-4ae2-a32f-204b69ffcc4d","time":"2024-04-03T10:23:29+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Login"}
{"level":"info","x-request-id":"bd64a91b-2287-4ae2-a32f-204b69ffcc4d","time":"2024-04-03T10:23:29+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"bd64a91b-2287-4ae2-a32f-204b69ffcc4d","time":"2024-04-03T10:23:29+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"bd64a91b-2287-4ae2-a32f-204b69ffcc4d","time":"2024-04-03T10:23:29+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"bd64a91b-2287-4ae2-a32f-204b69ffcc4d","time":"2024-04-03T10:23:29+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"bd64a91b-2287-4ae2-a32f-204b69ffcc4d","time":"2024-04-03T10:23:29+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"bd64a91b-2287-4ae2-a32f-204b69ffcc4d","time":"2024-04-03T10:23:29+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"bd64a91b-2287-4ae2-a32f-204b69ffcc4d","time":"2024-04-03T10:23:29+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"bd64a91b-2287-4ae2-a32f-204b69ffcc4d","time":"2024-04-03T10:23:29+05:00","message":"jwt.extract jwt claims empty"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"bd64a91b-2287-4ae2-a32f-204b69ffcc4d","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"grpc request with md: metadata.MD{\":authority\":[]string{\"upstream_balancer\"}, \":path\":[]string{\"/authn.AuthnService/Login\"}, \"client-ip\":[]string{\"172.23.20.6\"}, \"content-type\":[]string{\"application/grpc\"}, \"grpc-accept-encoding\":[]string{\"identity, deflate, gzip\"}, \"source-service\":[]string{\"/authn.AuthnService/Login\"}, \"user-agent\":[]string{\"grpc-python/1.59.0 grpc-c/36.0.0 (osx; chttp2)\"}, \"x-forwarded-for\":[]string{\"172.23.20.6\"}, \"x-forwarded-host\":[]string{\"dev-apigw-grpc.fortebank.com:443\"}, \"x-forwarded-port\":[]string{\"443\"}, \"x-forwarded-proto\":[]string{\"https\"}, \"x-forwarded-scheme\":[]string{\"https\"}, \"x-real-ip\":[]string{\"172.23.20.6\"}, \"x-request-id\":[]string{\"bd64a91b-2287-4ae2-a32f-204b69ffcc4d\"}, \"x-scheme\":[]string{\"https\"}}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"bd64a91b-2287-4ae2-a32f-204b69ffcc4d","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"bd64a91b-2287-4ae2-a32f-204b69ffcc4d","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"bd64a91b-2287-4ae2-a32f-204b69ffcc4d","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"bd64a91b-2287-4ae2-a32f-204b69ffcc4d","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"bd64a91b-2287-4ae2-a32f-204b69ffcc4d","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"bd64a91b-2287-4ae2-a32f-204b69ffcc4d","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"bd64a91b-2287-4ae2-a32f-204b69ffcc4d","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"bd64a91b-2287-4ae2-a32f-204b69ffcc4d","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"bd64a91b-2287-4ae2-a32f-204b69ffcc4d","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"bd64a91b-2287-4ae2-a32f-204b69ffcc4d","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"bd64a91b-2287-4ae2-a32f-204b69ffcc4d","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"bd64a91b-2287-4ae2-a32f-204b69ffcc4d","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"bd64a91b-2287-4ae2-a32f-204b69ffcc4d","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"forwardBackendToClient src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"bd64a91b-2287-4ae2-a32f-204b69ffcc4d","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"forwardBackendToClient set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"bd64a91b-2287-4ae2-a32f-204b69ffcc4d","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"forwardBackendToClient src.Header"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"bd64a91b-2287-4ae2-a32f-204b69ffcc4d","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"forwardBackendToClient dst.SetHeader"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"bd64a91b-2287-4ae2-a32f-204b69ffcc4d","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"forwardBackendToClient try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"bd64a91b-2287-4ae2-a32f-204b69ffcc4d","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"forwardBackendToClient dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"bd64a91b-2287-4ae2-a32f-204b69ffcc4d","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"bd64a91b-2287-4ae2-a32f-204b69ffcc4d","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"bd64a91b-2287-4ae2-a32f-204b69ffcc4d","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"forwardBackendToClient src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"bd64a91b-2287-4ae2-a32f-204b69ffcc4d","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"b2cErr := <-b2cErrChan: err: EOF"}
{"level":"debug","x-request-id":"7ab680a5-402e-448e-bfc3-05837d15865e","time":"2024-04-03T10:23:29+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"7ab680a5-402e-448e-bfc3-05837d15865e","time":"2024-04-03T10:23:29+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Login"}
{"level":"info","x-request-id":"7ab680a5-402e-448e-bfc3-05837d15865e","time":"2024-04-03T10:23:29+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"7ab680a5-402e-448e-bfc3-05837d15865e","time":"2024-04-03T10:23:29+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"7ab680a5-402e-448e-bfc3-05837d15865e","time":"2024-04-03T10:23:29+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"7ab680a5-402e-448e-bfc3-05837d15865e","time":"2024-04-03T10:23:29+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"7ab680a5-402e-448e-bfc3-05837d15865e","time":"2024-04-03T10:23:29+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"7ab680a5-402e-448e-bfc3-05837d15865e","time":"2024-04-03T10:23:29+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"7ab680a5-402e-448e-bfc3-05837d15865e","time":"2024-04-03T10:23:29+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"7ab680a5-402e-448e-bfc3-05837d15865e","time":"2024-04-03T10:23:29+05:00","message":"jwt.extract jwt claims empty"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7ab680a5-402e-448e-bfc3-05837d15865e","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"grpc request with md: metadata.MD{\":authority\":[]string{\"upstream_balancer\"}, \":path\":[]string{\"/authn.AuthnService/Login\"}, \"client-ip\":[]string{\"172.23.20.6\"}, \"content-type\":[]string{\"application/grpc\"}, \"grpc-accept-encoding\":[]string{\"identity, deflate, gzip\"}, \"source-service\":[]string{\"/authn.AuthnService/Login\"}, \"user-agent\":[]string{\"grpc-python/1.59.0 grpc-c/36.0.0 (osx; chttp2)\"}, \"x-forwarded-for\":[]string{\"172.23.20.6\"}, \"x-forwarded-host\":[]string{\"dev-apigw-grpc.fortebank.com:443\"}, \"x-forwarded-port\":[]string{\"443\"}, \"x-forwarded-proto\":[]string{\"https\"}, \"x-forwarded-scheme\":[]string{\"https\"}, \"x-real-ip\":[]string{\"172.23.20.6\"}, \"x-request-id\":[]string{\"7ab680a5-402e-448e-bfc3-05837d15865e\"}, \"x-scheme\":[]string{\"https\"}}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7ab680a5-402e-448e-bfc3-05837d15865e","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7ab680a5-402e-448e-bfc3-05837d15865e","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7ab680a5-402e-448e-bfc3-05837d15865e","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7ab680a5-402e-448e-bfc3-05837d15865e","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7ab680a5-402e-448e-bfc3-05837d15865e","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7ab680a5-402e-448e-bfc3-05837d15865e","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7ab680a5-402e-448e-bfc3-05837d15865e","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7ab680a5-402e-448e-bfc3-05837d15865e","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7ab680a5-402e-448e-bfc3-05837d15865e","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7ab680a5-402e-448e-bfc3-05837d15865e","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7ab680a5-402e-448e-bfc3-05837d15865e","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7ab680a5-402e-448e-bfc3-05837d15865e","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7ab680a5-402e-448e-bfc3-05837d15865e","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"forwardBackendToClient src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7ab680a5-402e-448e-bfc3-05837d15865e","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"forwardBackendToClient set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7ab680a5-402e-448e-bfc3-05837d15865e","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"forwardBackendToClient src.Header"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7ab680a5-402e-448e-bfc3-05837d15865e","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"forwardBackendToClient dst.SetHeader"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7ab680a5-402e-448e-bfc3-05837d15865e","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"forwardBackendToClient try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7ab680a5-402e-448e-bfc3-05837d15865e","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"forwardBackendToClient dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7ab680a5-402e-448e-bfc3-05837d15865e","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7ab680a5-402e-448e-bfc3-05837d15865e","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7ab680a5-402e-448e-bfc3-05837d15865e","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"forwardBackendToClient src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7ab680a5-402e-448e-bfc3-05837d15865e","trace-id":"","span-id":"","time":"2024-04-03T10:23:29+05:00","message":"b2cErr := <-b2cErrChan: err: EOF"}
{"level":"debug","x-request-id":"fff9b393-7507-48f1-82b9-96e94247b8a0","time":"2024-04-03T10:23:36+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"fff9b393-7507-48f1-82b9-96e94247b8a0","time":"2024-04-03T10:23:36+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Login"}
{"level":"info","x-request-id":"fff9b393-7507-48f1-82b9-96e94247b8a0","time":"2024-04-03T10:23:36+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"fff9b393-7507-48f1-82b9-96e94247b8a0","time":"2024-04-03T10:23:36+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"fff9b393-7507-48f1-82b9-96e94247b8a0","time":"2024-04-03T10:23:36+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"fff9b393-7507-48f1-82b9-96e94247b8a0","time":"2024-04-03T10:23:36+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"fff9b393-7507-48f1-82b9-96e94247b8a0","time":"2024-04-03T10:23:36+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"fff9b393-7507-48f1-82b9-96e94247b8a0","time":"2024-04-03T10:23:36+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"fff9b393-7507-48f1-82b9-96e94247b8a0","time":"2024-04-03T10:23:36+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"fff9b393-7507-48f1-82b9-96e94247b8a0","time":"2024-04-03T10:23:36+05:00","message":"jwt.extract jwt claims empty"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"fff9b393-7507-48f1-82b9-96e94247b8a0","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"grpc request with md: metadata.MD{\":authority\":[]string{\"upstream_balancer\"}, \":path\":[]string{\"/authn.AuthnService/Login\"}, \"client-ip\":[]string{\"172.23.20.6\"}, \"content-type\":[]string{\"application/grpc\"}, \"grpc-accept-encoding\":[]string{\"identity, deflate, gzip\"}, \"source-service\":[]string{\"/authn.AuthnService/Login\"}, \"user-agent\":[]string{\"grpc-python/1.59.0 grpc-c/36.0.0 (osx; chttp2)\"}, \"x-forwarded-for\":[]string{\"172.23.20.6\"}, \"x-forwarded-host\":[]string{\"dev-apigw-grpc.fortebank.com:443\"}, \"x-forwarded-port\":[]string{\"443\"}, \"x-forwarded-proto\":[]string{\"https\"}, \"x-forwarded-scheme\":[]string{\"https\"}, \"x-real-ip\":[]string{\"172.23.20.6\"}, \"x-request-id\":[]string{\"fff9b393-7507-48f1-82b9-96e94247b8a0\"}, \"x-scheme\":[]string{\"https\"}}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"fff9b393-7507-48f1-82b9-96e94247b8a0","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"fff9b393-7507-48f1-82b9-96e94247b8a0","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"fff9b393-7507-48f1-82b9-96e94247b8a0","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"fff9b393-7507-48f1-82b9-96e94247b8a0","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"fff9b393-7507-48f1-82b9-96e94247b8a0","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"fff9b393-7507-48f1-82b9-96e94247b8a0","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"fff9b393-7507-48f1-82b9-96e94247b8a0","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"fff9b393-7507-48f1-82b9-96e94247b8a0","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"fff9b393-7507-48f1-82b9-96e94247b8a0","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"fff9b393-7507-48f1-82b9-96e94247b8a0","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"fff9b393-7507-48f1-82b9-96e94247b8a0","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"fff9b393-7507-48f1-82b9-96e94247b8a0","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"fff9b393-7507-48f1-82b9-96e94247b8a0","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardBackendToClient src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"fff9b393-7507-48f1-82b9-96e94247b8a0","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardBackendToClient set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"fff9b393-7507-48f1-82b9-96e94247b8a0","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardBackendToClient src.Header"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"fff9b393-7507-48f1-82b9-96e94247b8a0","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardBackendToClient dst.SetHeader"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"fff9b393-7507-48f1-82b9-96e94247b8a0","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardBackendToClient try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"fff9b393-7507-48f1-82b9-96e94247b8a0","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardBackendToClient dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"fff9b393-7507-48f1-82b9-96e94247b8a0","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"fff9b393-7507-48f1-82b9-96e94247b8a0","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"fff9b393-7507-48f1-82b9-96e94247b8a0","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardBackendToClient src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"fff9b393-7507-48f1-82b9-96e94247b8a0","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"b2cErr := <-b2cErrChan: err: EOF"}
{"level":"debug","x-request-id":"f9dcb746-5dd6-41df-9a9b-368367ebc3f8","time":"2024-04-03T10:23:36+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"f9dcb746-5dd6-41df-9a9b-368367ebc3f8","time":"2024-04-03T10:23:36+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Login"}
{"level":"info","x-request-id":"f9dcb746-5dd6-41df-9a9b-368367ebc3f8","time":"2024-04-03T10:23:36+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"f9dcb746-5dd6-41df-9a9b-368367ebc3f8","time":"2024-04-03T10:23:36+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"f9dcb746-5dd6-41df-9a9b-368367ebc3f8","time":"2024-04-03T10:23:36+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"f9dcb746-5dd6-41df-9a9b-368367ebc3f8","time":"2024-04-03T10:23:36+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"f9dcb746-5dd6-41df-9a9b-368367ebc3f8","time":"2024-04-03T10:23:36+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"f9dcb746-5dd6-41df-9a9b-368367ebc3f8","time":"2024-04-03T10:23:36+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"f9dcb746-5dd6-41df-9a9b-368367ebc3f8","time":"2024-04-03T10:23:36+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"f9dcb746-5dd6-41df-9a9b-368367ebc3f8","time":"2024-04-03T10:23:36+05:00","message":"jwt.extract jwt claims empty"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f9dcb746-5dd6-41df-9a9b-368367ebc3f8","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"grpc request with md: metadata.MD{\":authority\":[]string{\"upstream_balancer\"}, \":path\":[]string{\"/authn.AuthnService/Login\"}, \"client-ip\":[]string{\"172.23.20.6\"}, \"content-type\":[]string{\"application/grpc\"}, \"grpc-accept-encoding\":[]string{\"identity, deflate, gzip\"}, \"source-service\":[]string{\"/authn.AuthnService/Login\"}, \"user-agent\":[]string{\"grpc-python/1.59.0 grpc-c/36.0.0 (osx; chttp2)\"}, \"x-forwarded-for\":[]string{\"172.23.20.6\"}, \"x-forwarded-host\":[]string{\"dev-apigw-grpc.fortebank.com:443\"}, \"x-forwarded-port\":[]string{\"443\"}, \"x-forwarded-proto\":[]string{\"https\"}, \"x-forwarded-scheme\":[]string{\"https\"}, \"x-real-ip\":[]string{\"172.23.20.6\"}, \"x-request-id\":[]string{\"f9dcb746-5dd6-41df-9a9b-368367ebc3f8\"}, \"x-scheme\":[]string{\"https\"}}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f9dcb746-5dd6-41df-9a9b-368367ebc3f8","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f9dcb746-5dd6-41df-9a9b-368367ebc3f8","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f9dcb746-5dd6-41df-9a9b-368367ebc3f8","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f9dcb746-5dd6-41df-9a9b-368367ebc3f8","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f9dcb746-5dd6-41df-9a9b-368367ebc3f8","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f9dcb746-5dd6-41df-9a9b-368367ebc3f8","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f9dcb746-5dd6-41df-9a9b-368367ebc3f8","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f9dcb746-5dd6-41df-9a9b-368367ebc3f8","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f9dcb746-5dd6-41df-9a9b-368367ebc3f8","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f9dcb746-5dd6-41df-9a9b-368367ebc3f8","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f9dcb746-5dd6-41df-9a9b-368367ebc3f8","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f9dcb746-5dd6-41df-9a9b-368367ebc3f8","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f9dcb746-5dd6-41df-9a9b-368367ebc3f8","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardBackendToClient src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f9dcb746-5dd6-41df-9a9b-368367ebc3f8","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardBackendToClient set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f9dcb746-5dd6-41df-9a9b-368367ebc3f8","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardBackendToClient src.Header"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f9dcb746-5dd6-41df-9a9b-368367ebc3f8","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardBackendToClient dst.SetHeader"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f9dcb746-5dd6-41df-9a9b-368367ebc3f8","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardBackendToClient try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f9dcb746-5dd6-41df-9a9b-368367ebc3f8","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardBackendToClient dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f9dcb746-5dd6-41df-9a9b-368367ebc3f8","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f9dcb746-5dd6-41df-9a9b-368367ebc3f8","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f9dcb746-5dd6-41df-9a9b-368367ebc3f8","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardBackendToClient src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f9dcb746-5dd6-41df-9a9b-368367ebc3f8","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"b2cErr := <-b2cErrChan: err: EOF"}
{"level":"debug","x-request-id":"2cfd6cfe-9d11-4e57-adb2-c9e380730e21","time":"2024-04-03T10:23:36+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"2cfd6cfe-9d11-4e57-adb2-c9e380730e21","time":"2024-04-03T10:23:36+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Token"}
{"level":"info","x-request-id":"2cfd6cfe-9d11-4e57-adb2-c9e380730e21","time":"2024-04-03T10:23:36+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"2cfd6cfe-9d11-4e57-adb2-c9e380730e21","time":"2024-04-03T10:23:36+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"2cfd6cfe-9d11-4e57-adb2-c9e380730e21","time":"2024-04-03T10:23:36+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"2cfd6cfe-9d11-4e57-adb2-c9e380730e21","time":"2024-04-03T10:23:36+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"2cfd6cfe-9d11-4e57-adb2-c9e380730e21","time":"2024-04-03T10:23:36+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"2cfd6cfe-9d11-4e57-adb2-c9e380730e21","time":"2024-04-03T10:23:36+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"2cfd6cfe-9d11-4e57-adb2-c9e380730e21","time":"2024-04-03T10:23:36+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"2cfd6cfe-9d11-4e57-adb2-c9e380730e21","time":"2024-04-03T10:23:36+05:00","message":"jwt.extract jwt claims empty"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2cfd6cfe-9d11-4e57-adb2-c9e380730e21","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"grpc request with md: metadata.MD{\":authority\":[]string{\"upstream_balancer\"}, \":path\":[]string{\"/authn.AuthnService/Token\"}, \"client-ip\":[]string{\"172.23.20.6\"}, \"content-type\":[]string{\"application/grpc\"}, \"grpc-accept-encoding\":[]string{\"identity, deflate, gzip\"}, \"source-service\":[]string{\"/authn.AuthnService/Token\"}, \"user-agent\":[]string{\"grpc-python/1.59.0 grpc-c/36.0.0 (osx; chttp2)\"}, \"x-forwarded-for\":[]string{\"172.23.20.6\"}, \"x-forwarded-host\":[]string{\"dev-apigw-grpc.fortebank.com:443\"}, \"x-forwarded-port\":[]string{\"443\"}, \"x-forwarded-proto\":[]string{\"https\"}, \"x-forwarded-scheme\":[]string{\"https\"}, \"x-real-ip\":[]string{\"172.23.20.6\"}, \"x-request-id\":[]string{\"2cfd6cfe-9d11-4e57-adb2-c9e380730e21\"}, \"x-scheme\":[]string{\"https\"}}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2cfd6cfe-9d11-4e57-adb2-c9e380730e21","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2cfd6cfe-9d11-4e57-adb2-c9e380730e21","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2cfd6cfe-9d11-4e57-adb2-c9e380730e21","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2cfd6cfe-9d11-4e57-adb2-c9e380730e21","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2cfd6cfe-9d11-4e57-adb2-c9e380730e21","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2cfd6cfe-9d11-4e57-adb2-c9e380730e21","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2cfd6cfe-9d11-4e57-adb2-c9e380730e21","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2cfd6cfe-9d11-4e57-adb2-c9e380730e21","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2cfd6cfe-9d11-4e57-adb2-c9e380730e21","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2cfd6cfe-9d11-4e57-adb2-c9e380730e21","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2cfd6cfe-9d11-4e57-adb2-c9e380730e21","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2cfd6cfe-9d11-4e57-adb2-c9e380730e21","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2cfd6cfe-9d11-4e57-adb2-c9e380730e21","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardBackendToClient src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2cfd6cfe-9d11-4e57-adb2-c9e380730e21","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardBackendToClient set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2cfd6cfe-9d11-4e57-adb2-c9e380730e21","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardBackendToClient src.Header"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2cfd6cfe-9d11-4e57-adb2-c9e380730e21","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardBackendToClient dst.SetHeader"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2cfd6cfe-9d11-4e57-adb2-c9e380730e21","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardBackendToClient try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2cfd6cfe-9d11-4e57-adb2-c9e380730e21","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardBackendToClient dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2cfd6cfe-9d11-4e57-adb2-c9e380730e21","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2cfd6cfe-9d11-4e57-adb2-c9e380730e21","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2cfd6cfe-9d11-4e57-adb2-c9e380730e21","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"forwardBackendToClient src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2cfd6cfe-9d11-4e57-adb2-c9e380730e21","trace-id":"","span-id":"","time":"2024-04-03T10:23:36+05:00","message":"b2cErr := <-b2cErrChan: err: EOF"}
{"level":"debug","x-request-id":"1d4b4871-1a4e-482b-8e39-92d85b51169a","time":"2024-04-03T10:23:37+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"1d4b4871-1a4e-482b-8e39-92d85b51169a","time":"2024-04-03T10:23:37+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Token"}
{"level":"info","x-request-id":"1d4b4871-1a4e-482b-8e39-92d85b51169a","time":"2024-04-03T10:23:37+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"1d4b4871-1a4e-482b-8e39-92d85b51169a","time":"2024-04-03T10:23:37+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"1d4b4871-1a4e-482b-8e39-92d85b51169a","time":"2024-04-03T10:23:37+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"1d4b4871-1a4e-482b-8e39-92d85b51169a","time":"2024-04-03T10:23:37+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"1d4b4871-1a4e-482b-8e39-92d85b51169a","time":"2024-04-03T10:23:37+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"1d4b4871-1a4e-482b-8e39-92d85b51169a","time":"2024-04-03T10:23:37+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"1d4b4871-1a4e-482b-8e39-92d85b51169a","time":"2024-04-03T10:23:37+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"1d4b4871-1a4e-482b-8e39-92d85b51169a","time":"2024-04-03T10:23:37+05:00","message":"jwt.extract jwt claims empty"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"1d4b4871-1a4e-482b-8e39-92d85b51169a","trace-id":"","span-id":"","time":"2024-04-03T10:23:37+05:00","message":"grpc request with md: metadata.MD{\":authority\":[]string{\"upstream_balancer\"}, \":path\":[]string{\"/authn.AuthnService/Token\"}, \"client-ip\":[]string{\"172.23.20.6\"}, \"content-type\":[]string{\"application/grpc\"}, \"grpc-accept-encoding\":[]string{\"identity, deflate, gzip\"}, \"source-service\":[]string{\"/authn.AuthnService/Token\"}, \"user-agent\":[]string{\"grpc-python/1.59.0 grpc-c/36.0.0 (osx; chttp2)\"}, \"x-forwarded-for\":[]string{\"172.23.20.6\"}, \"x-forwarded-host\":[]string{\"dev-apigw-grpc.fortebank.com:443\"}, \"x-forwarded-port\":[]string{\"443\"}, \"x-forwarded-proto\":[]string{\"https\"}, \"x-forwarded-scheme\":[]string{\"https\"}, \"x-real-ip\":[]string{\"172.23.20.6\"}, \"x-request-id\":[]string{\"1d4b4871-1a4e-482b-8e39-92d85b51169a\"}, \"x-scheme\":[]string{\"https\"}}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"1d4b4871-1a4e-482b-8e39-92d85b51169a","trace-id":"","span-id":"","time":"2024-04-03T10:23:37+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"1d4b4871-1a4e-482b-8e39-92d85b51169a","trace-id":"","span-id":"","time":"2024-04-03T10:23:37+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"1d4b4871-1a4e-482b-8e39-92d85b51169a","trace-id":"","span-id":"","time":"2024-04-03T10:23:37+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"1d4b4871-1a4e-482b-8e39-92d85b51169a","trace-id":"","span-id":"","time":"2024-04-03T10:23:37+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"1d4b4871-1a4e-482b-8e39-92d85b51169a","trace-id":"","span-id":"","time":"2024-04-03T10:23:37+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"1d4b4871-1a4e-482b-8e39-92d85b51169a","trace-id":"","span-id":"","time":"2024-04-03T10:23:37+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"1d4b4871-1a4e-482b-8e39-92d85b51169a","trace-id":"","span-id":"","time":"2024-04-03T10:23:37+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"1d4b4871-1a4e-482b-8e39-92d85b51169a","trace-id":"","span-id":"","time":"2024-04-03T10:23:37+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"1d4b4871-1a4e-482b-8e39-92d85b51169a","trace-id":"","span-id":"","time":"2024-04-03T10:23:37+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"1d4b4871-1a4e-482b-8e39-92d85b51169a","trace-id":"","span-id":"","time":"2024-04-03T10:23:37+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"1d4b4871-1a4e-482b-8e39-92d85b51169a","trace-id":"","span-id":"","time":"2024-04-03T10:23:37+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"1d4b4871-1a4e-482b-8e39-92d85b51169a","trace-id":"","span-id":"","time":"2024-04-03T10:23:37+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"1d4b4871-1a4e-482b-8e39-92d85b51169a","trace-id":"","span-id":"","time":"2024-04-03T10:23:37+05:00","message":"forwardBackendToClient src.RecvMsg err rpc error: code = Unauthenticated desc = error"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"1d4b4871-1a4e-482b-8e39-92d85b51169a","trace-id":"","span-id":"","time":"2024-04-03T10:23:37+05:00","message":"b2cErr := <-b2cErrChan: err: rpc error: code = Unauthenticated desc = error"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"1d4b4871-1a4e-482b-8e39-92d85b51169a","trace-id":"","span-id":"","time":"2024-04-03T10:23:37+05:00","message":"failed to proxy grpc conn c2bErr: rpc error: code = Unauthenticated desc = error *status.Error &status.Error{s:(*status.Status)(0xc00007e048)}"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"1d4b4871-1a4e-482b-8e39-92d85b51169a","trace-id":"","span-id":"","time":"2024-04-03T10:23:37+05:00","message":"error status &status.Status{s:(*status.Status)(0xc00052a240)}"}
==================
WARNING: DATA RACE
Write at 0x00c00032d890 by goroutine 39:
  runtime.mapassign_faststr()
      /usr/local/go/src/runtime/map_faststr.go:203 +0x0
  go.unistack.org/micro-meter-prometheus/v3.(*prometheusMeter).Counter()
      /go/pkg/mod/go.unistack.org/micro-meter-prometheus/v3@v3.8.6/prometheus.go:133 +0x86c
  go.unistack.org/micro-broker-kgo/v3.(*hookMeter).OnBrokerDisconnect()
      /go/pkg/mod/go.unistack.org/micro-broker-kgo/v3@v3.8.17/meter.go:72 +0x112
  github.com/twmb/franz-go/pkg/kgo.(*brokerCxn).closeConn.func1()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/broker.go:1268 +0x217
  github.com/twmb/franz-go/pkg/kgo.hooks.each()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/hooks.go:32 +0x128
  github.com/twmb/franz-go/pkg/kgo.(*brokerCxn).closeConn()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/broker.go:1266 +0x2f
  github.com/twmb/franz-go/pkg/kgo.(*brokerCxn).die()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/broker.go:1281 +0x54
  github.com/twmb/franz-go/pkg/kgo.(*broker).reapConnections()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/broker.go:616 +0x4c4
  github.com/twmb/franz-go/pkg/kgo.(*Client).reapConnections()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/broker.go:582 +0x248
  github.com/twmb/franz-go/pkg/kgo.(*Client).reapConnectionsLoop()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/broker.go:563 +0x2a4
  github.com/twmb/franz-go/pkg/kgo.NewClient.gowrap2()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/client.go:519 +0x33

Previous read at 0x00c00032d890 by goroutine 382:
  runtime.mapiterinit()
      /usr/local/go/src/runtime/map.go:816 +0x0
  go.unistack.org/micro-meter-prometheus/v3.(*prometheusMeter).Write()
      /go/pkg/mod/go.unistack.org/micro-meter-prometheus/v3@v3.8.6/prometheus.go:298 +0x306
  go.unistack.org/micro-server-http/v3/handler/meter.(*Handler).Metrics()
      /go/pkg/mod/go.unistack.org/micro-server-http/v3@v3.11.22/handler/meter/meter.go:112 +0x534
  go.unistack.org/micro-server-http/v3/handler/meter.(*meterServiceServer).Metrics()
      /go/pkg/mod/go.unistack.org/micro-server-http/v3@v3.11.22/handler/meter/meter_micro_http.pb.go:19 +0x65
  go.unistack.org/micro-server-http/v3/handler/meter.(*MeterService2).Metrics()
      <autogenerated>:1 +0x79
  runtime.call64()
      /usr/local/go/src/runtime/asm_amd64.s:772 +0x42
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:380 +0xb5
  go.unistack.org/micro-server-http/v3.(*Server).ServeHTTP.func1()
      /go/pkg/mod/go.unistack.org/micro-server-http/v3@v3.11.22/handler.go:516 +0x2db
  go.unistack.org/micro-server-http/v3.(*Server).ServeHTTP()
      /go/pkg/mod/go.unistack.org/micro-server-http/v3@v3.11.22/handler.go:552 +0x2813
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:3137 +0x2a1
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:2039 +0x13c4
  net/http.(*Server).Serve.gowrap3()
      /usr/local/go/src/net/http/server.go:3285 +0x4f

Goroutine 39 (running) created at:
  github.com/twmb/franz-go/pkg/kgo.NewClient()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/client.go:519 +0x162a
  go.unistack.org/micro-broker-kgo/v3.(*Broker).connect()
      /go/pkg/mod/go.unistack.org/micro-broker-kgo/v3@v3.8.17/kgo.go:104 +0x8a7
  go.unistack.org/micro-broker-kgo/v3.(*Broker).Connect()
      /go/pkg/mod/go.unistack.org/micro-broker-kgo/v3@v3.8.17/kgo.go:129 +0xef
  gitlab.fortebank.com/api-gateway/apigw/internal/app.Run()
      /build/internal/app/main.go:147 +0x1672
  main.main()
      /build/cmd/apigw/main.go:84 +0x1de4

Goroutine 382 (running) created at:
  net/http.(*Server).Serve()
      /usr/local/go/src/net/http/server.go:3285 +0x8ec
  go.unistack.org/micro-server-http/v3.(*Server).Start.func1()
      /go/pkg/mod/go.unistack.org/micro-server-http/v3@v3.11.22/http.go:596 +0x5b
==================
{"level":"debug","x-request-id":"d89a4807-d559-4cbd-aa0b-70aae96e43f6","time":"2024-04-03T10:23:41+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"d89a4807-d559-4cbd-aa0b-70aae96e43f6","time":"2024-04-03T10:23:41+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Login"}
{"level":"info","x-request-id":"d89a4807-d559-4cbd-aa0b-70aae96e43f6","time":"2024-04-03T10:23:41+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"d89a4807-d559-4cbd-aa0b-70aae96e43f6","time":"2024-04-03T10:23:41+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"d89a4807-d559-4cbd-aa0b-70aae96e43f6","time":"2024-04-03T10:23:41+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"d89a4807-d559-4cbd-aa0b-70aae96e43f6","time":"2024-04-03T10:23:41+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"d89a4807-d559-4cbd-aa0b-70aae96e43f6","time":"2024-04-03T10:23:41+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"d89a4807-d559-4cbd-aa0b-70aae96e43f6","time":"2024-04-03T10:23:41+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"d89a4807-d559-4cbd-aa0b-70aae96e43f6","time":"2024-04-03T10:23:41+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"d89a4807-d559-4cbd-aa0b-70aae96e43f6","time":"2024-04-03T10:23:41+05:00","message":"jwt.extract jwt claims empty"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"d89a4807-d559-4cbd-aa0b-70aae96e43f6","trace-id":"","span-id":"","time":"2024-04-03T10:23:41+05:00","message":"grpc request with md: metadata.MD{\":authority\":[]string{\"upstream_balancer\"}, \":path\":[]string{\"/authn.AuthnService/Login\"}, \"client-ip\":[]string{\"172.23.20.6\"}, \"content-type\":[]string{\"application/grpc\"}, \"grpc-accept-encoding\":[]string{\"identity, deflate, gzip\"}, \"source-service\":[]string{\"/authn.AuthnService/Login\"}, \"user-agent\":[]string{\"grpc-python/1.59.0 grpc-c/36.0.0 (osx; chttp2)\"}, \"x-forwarded-for\":[]string{\"172.23.20.6\"}, \"x-forwarded-host\":[]string{\"dev-apigw-grpc.fortebank.com:443\"}, \"x-forwarded-port\":[]string{\"443\"}, \"x-forwarded-proto\":[]string{\"https\"}, \"x-forwarded-scheme\":[]string{\"https\"}, \"x-real-ip\":[]string{\"172.23.20.6\"}, \"x-request-id\":[]string{\"d89a4807-d559-4cbd-aa0b-70aae96e43f6\"}, \"x-scheme\":[]string{\"https\"}}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"d89a4807-d559-4cbd-aa0b-70aae96e43f6","trace-id":"","span-id":"","time":"2024-04-03T10:23:41+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"d89a4807-d559-4cbd-aa0b-70aae96e43f6","trace-id":"","span-id":"","time":"2024-04-03T10:23:41+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"d89a4807-d559-4cbd-aa0b-70aae96e43f6","trace-id":"","span-id":"","time":"2024-04-03T10:23:41+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"d89a4807-d559-4cbd-aa0b-70aae96e43f6","trace-id":"","span-id":"","time":"2024-04-03T10:23:41+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"d89a4807-d559-4cbd-aa0b-70aae96e43f6","trace-id":"","span-id":"","time":"2024-04-03T10:23:41+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"d89a4807-d559-4cbd-aa0b-70aae96e43f6","trace-id":"","span-id":"","time":"2024-04-03T10:23:41+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"d89a4807-d559-4cbd-aa0b-70aae96e43f6","trace-id":"","span-id":"","time":"2024-04-03T10:23:41+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"d89a4807-d559-4cbd-aa0b-70aae96e43f6","trace-id":"","span-id":"","time":"2024-04-03T10:23:41+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"d89a4807-d559-4cbd-aa0b-70aae96e43f6","trace-id":"","span-id":"","time":"2024-04-03T10:23:41+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"d89a4807-d559-4cbd-aa0b-70aae96e43f6","trace-id":"","span-id":"","time":"2024-04-03T10:23:41+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"d89a4807-d559-4cbd-aa0b-70aae96e43f6","trace-id":"","span-id":"","time":"2024-04-03T10:23:41+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"d89a4807-d559-4cbd-aa0b-70aae96e43f6","trace-id":"","span-id":"","time":"2024-04-03T10:23:41+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"d89a4807-d559-4cbd-aa0b-70aae96e43f6","trace-id":"","span-id":"","time":"2024-04-03T10:23:41+05:00","message":"forwardBackendToClient src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"d89a4807-d559-4cbd-aa0b-70aae96e43f6","trace-id":"","span-id":"","time":"2024-04-03T10:23:41+05:00","message":"forwardBackendToClient set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"d89a4807-d559-4cbd-aa0b-70aae96e43f6","trace-id":"","span-id":"","time":"2024-04-03T10:23:41+05:00","message":"forwardBackendToClient src.Header"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"d89a4807-d559-4cbd-aa0b-70aae96e43f6","trace-id":"","span-id":"","time":"2024-04-03T10:23:41+05:00","message":"forwardBackendToClient dst.SetHeader"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"d89a4807-d559-4cbd-aa0b-70aae96e43f6","trace-id":"","span-id":"","time":"2024-04-03T10:23:41+05:00","message":"forwardBackendToClient try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"d89a4807-d559-4cbd-aa0b-70aae96e43f6","trace-id":"","span-id":"","time":"2024-04-03T10:23:41+05:00","message":"forwardBackendToClient dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"d89a4807-d559-4cbd-aa0b-70aae96e43f6","trace-id":"","span-id":"","time":"2024-04-03T10:23:41+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"d89a4807-d559-4cbd-aa0b-70aae96e43f6","trace-id":"","span-id":"","time":"2024-04-03T10:23:41+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"d89a4807-d559-4cbd-aa0b-70aae96e43f6","trace-id":"","span-id":"","time":"2024-04-03T10:23:41+05:00","message":"forwardBackendToClient src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"d89a4807-d559-4cbd-aa0b-70aae96e43f6","trace-id":"","span-id":"","time":"2024-04-03T10:23:41+05:00","message":"b2cErr := <-b2cErrChan: err: EOF"}
==================
WARNING: DATA RACE
Write at 0x00c00032d890 by goroutine 119:
  runtime.mapassign_faststr()
      /usr/local/go/src/runtime/map_faststr.go:203 +0x0
  go.unistack.org/micro-meter-prometheus/v3.(*prometheusMeter).Counter()
      /go/pkg/mod/go.unistack.org/micro-meter-prometheus/v3@v3.8.6/prometheus.go:140 +0x56c
  go.unistack.org/micro-broker-kgo/v3.(*hookMeter).OnBrokerDisconnect()
      /go/pkg/mod/go.unistack.org/micro-broker-kgo/v3@v3.8.17/meter.go:72 +0x112
  github.com/twmb/franz-go/pkg/kgo.(*brokerCxn).closeConn.func1()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/broker.go:1268 +0x217
  github.com/twmb/franz-go/pkg/kgo.hooks.each()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/hooks.go:32 +0x128
  github.com/twmb/franz-go/pkg/kgo.(*brokerCxn).closeConn()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/broker.go:1266 +0x2f
  github.com/twmb/franz-go/pkg/kgo.(*brokerCxn).die()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/broker.go:1281 +0x54
  github.com/twmb/franz-go/pkg/kgo.(*broker).reapConnections()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/broker.go:616 +0x4c4
  github.com/twmb/franz-go/pkg/kgo.(*Client).reapConnections()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/broker.go:582 +0x248
  github.com/twmb/franz-go/pkg/kgo.(*Client).reapConnectionsLoop()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/broker.go:563 +0x2a4
  github.com/twmb/franz-go/pkg/kgo.NewClient.gowrap2()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/client.go:519 +0x33

Previous read at 0x00c00032d890 by goroutine 564:
  runtime.mapaccess2_faststr()
      /usr/local/go/src/runtime/map_faststr.go:108 +0x0
  go.unistack.org/micro-meter-prometheus/v3.(*prometheusMeter).Counter()
      /go/pkg/mod/go.unistack.org/micro-meter-prometheus/v3@v3.8.6/prometheus.go:127 +0x2ec
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.forwardClientToBackend.func1()
      /build/internal/handler/grpc_copy.go:326 +0x1e1

Goroutine 119 (running) created at:
  github.com/twmb/franz-go/pkg/kgo.NewClient()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/client.go:519 +0x162a
  go.unistack.org/micro-broker-kgo/v3.(*Broker).connect()
      /go/pkg/mod/go.unistack.org/micro-broker-kgo/v3@v3.8.17/kgo.go:104 +0x8a7
  go.unistack.org/micro-broker-kgo/v3.(*Broker).Subscribe()
      /go/pkg/mod/go.unistack.org/micro-broker-kgo/v3@v3.8.17/kgo.go:372 +0x1650
  gitlab.fortebank.com/api-gateway/apigw/internal/app.Run()
      /build/internal/app/main.go:449 +0x9861
  main.main()
      /build/cmd/apigw/main.go:84 +0x1de4

Goroutine 564 (finished) created at:
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.forwardClientToBackend.func2()
      /build/internal/handler/grpc_copy.go:336 +0x2e
  runtime/pprof.Do()
      /usr/local/go/src/runtime/pprof/runtime.go:51 +0x117
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.forwardClientToBackend()
      /build/internal/handler/grpc_copy.go:335 +0x945
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.GRPCCopy()
      /build/internal/handler/grpc_copy.go:39 +0x404
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.(*HTTPHandlerSwapper).ServeGRPC()
      /build/internal/handler/handler.go:584 +0x325c
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.(*HTTPHandlerSwapper).ServeGRPC-fm()
      <autogenerated>:1 +0x64
  go.unistack.org/micro-server-grpc/v3.(*Server).handler()
      /go/pkg/mod/go.unistack.org/micro-server-grpc/v3@v3.10.13/grpc.go:306 +0x183b
  go.unistack.org/micro-server-grpc/v3.(*Server).handler-fm()
      <autogenerated>:1 +0x64
  google.golang.org/grpc.(*Server).processStreamingRPC()
      /go/pkg/mod/google.golang.org/grpc@v1.62.1/server.go:1680 +0x1fd9
  google.golang.org/grpc.(*Server).handleStream()
      /go/pkg/mod/google.golang.org/grpc@v1.62.1/server.go:1807 +0x1755
  google.golang.org/grpc.(*Server).serveStreams.func2.1()
      /go/pkg/mod/google.golang.org/grpc@v1.62.1/server.go:1027 +0x158
==================
{"level":"debug","x-request-id":"219d4c58-60bf-4711-a903-e31cd2ab5d1c","time":"2024-04-03T10:23:42+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"219d4c58-60bf-4711-a903-e31cd2ab5d1c","time":"2024-04-03T10:23:42+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Login"}
{"level":"info","x-request-id":"219d4c58-60bf-4711-a903-e31cd2ab5d1c","time":"2024-04-03T10:23:42+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"219d4c58-60bf-4711-a903-e31cd2ab5d1c","time":"2024-04-03T10:23:42+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"219d4c58-60bf-4711-a903-e31cd2ab5d1c","time":"2024-04-03T10:23:42+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"219d4c58-60bf-4711-a903-e31cd2ab5d1c","time":"2024-04-03T10:23:42+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"219d4c58-60bf-4711-a903-e31cd2ab5d1c","time":"2024-04-03T10:23:42+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"219d4c58-60bf-4711-a903-e31cd2ab5d1c","time":"2024-04-03T10:23:42+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"219d4c58-60bf-4711-a903-e31cd2ab5d1c","time":"2024-04-03T10:23:42+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"219d4c58-60bf-4711-a903-e31cd2ab5d1c","time":"2024-04-03T10:23:42+05:00","message":"jwt.extract jwt claims empty"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"219d4c58-60bf-4711-a903-e31cd2ab5d1c","trace-id":"","span-id":"","time":"2024-04-03T10:23:42+05:00","message":"grpc request with md: metadata.MD{\":authority\":[]string{\"upstream_balancer\"}, \":path\":[]string{\"/authn.AuthnService/Login\"}, \"client-ip\":[]string{\"172.23.20.6\"}, \"content-type\":[]string{\"application/grpc\"}, \"grpc-accept-encoding\":[]string{\"identity, deflate, gzip\"}, \"source-service\":[]string{\"/authn.AuthnService/Login\"}, \"user-agent\":[]string{\"grpc-python/1.59.0 grpc-c/36.0.0 (osx; chttp2)\"}, \"x-forwarded-for\":[]string{\"172.23.20.6\"}, \"x-forwarded-host\":[]string{\"dev-apigw-grpc.fortebank.com:443\"}, \"x-forwarded-port\":[]string{\"443\"}, \"x-forwarded-proto\":[]string{\"https\"}, \"x-forwarded-scheme\":[]string{\"https\"}, \"x-real-ip\":[]string{\"172.23.20.6\"}, \"x-request-id\":[]string{\"219d4c58-60bf-4711-a903-e31cd2ab5d1c\"}, \"x-scheme\":[]string{\"https\"}}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"219d4c58-60bf-4711-a903-e31cd2ab5d1c","trace-id":"","span-id":"","time":"2024-04-03T10:23:42+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"219d4c58-60bf-4711-a903-e31cd2ab5d1c","trace-id":"","span-id":"","time":"2024-04-03T10:23:42+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"219d4c58-60bf-4711-a903-e31cd2ab5d1c","trace-id":"","span-id":"","time":"2024-04-03T10:23:42+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"219d4c58-60bf-4711-a903-e31cd2ab5d1c","trace-id":"","span-id":"","time":"2024-04-03T10:23:42+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"219d4c58-60bf-4711-a903-e31cd2ab5d1c","trace-id":"","span-id":"","time":"2024-04-03T10:23:42+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"219d4c58-60bf-4711-a903-e31cd2ab5d1c","trace-id":"","span-id":"","time":"2024-04-03T10:23:42+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"219d4c58-60bf-4711-a903-e31cd2ab5d1c","trace-id":"","span-id":"","time":"2024-04-03T10:23:42+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"219d4c58-60bf-4711-a903-e31cd2ab5d1c","trace-id":"","span-id":"","time":"2024-04-03T10:23:42+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"219d4c58-60bf-4711-a903-e31cd2ab5d1c","trace-id":"","span-id":"","time":"2024-04-03T10:23:42+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"219d4c58-60bf-4711-a903-e31cd2ab5d1c","trace-id":"","span-id":"","time":"2024-04-03T10:23:42+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"219d4c58-60bf-4711-a903-e31cd2ab5d1c","trace-id":"","span-id":"","time":"2024-04-03T10:23:42+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"219d4c58-60bf-4711-a903-e31cd2ab5d1c","trace-id":"","span-id":"","time":"2024-04-03T10:23:42+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"219d4c58-60bf-4711-a903-e31cd2ab5d1c","trace-id":"","span-id":"","time":"2024-04-03T10:23:42+05:00","message":"forwardBackendToClient src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"219d4c58-60bf-4711-a903-e31cd2ab5d1c","trace-id":"","span-id":"","time":"2024-04-03T10:23:42+05:00","message":"forwardBackendToClient set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"219d4c58-60bf-4711-a903-e31cd2ab5d1c","trace-id":"","span-id":"","time":"2024-04-03T10:23:42+05:00","message":"forwardBackendToClient src.Header"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"219d4c58-60bf-4711-a903-e31cd2ab5d1c","trace-id":"","span-id":"","time":"2024-04-03T10:23:42+05:00","message":"forwardBackendToClient dst.SetHeader"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"219d4c58-60bf-4711-a903-e31cd2ab5d1c","trace-id":"","span-id":"","time":"2024-04-03T10:23:42+05:00","message":"forwardBackendToClient try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"219d4c58-60bf-4711-a903-e31cd2ab5d1c","trace-id":"","span-id":"","time":"2024-04-03T10:23:42+05:00","message":"forwardBackendToClient dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"219d4c58-60bf-4711-a903-e31cd2ab5d1c","trace-id":"","span-id":"","time":"2024-04-03T10:23:42+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"219d4c58-60bf-4711-a903-e31cd2ab5d1c","trace-id":"","span-id":"","time":"2024-04-03T10:23:42+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"219d4c58-60bf-4711-a903-e31cd2ab5d1c","trace-id":"","span-id":"","time":"2024-04-03T10:23:42+05:00","message":"forwardBackendToClient src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"219d4c58-60bf-4711-a903-e31cd2ab5d1c","trace-id":"","span-id":"","time":"2024-04-03T10:23:42+05:00","message":"b2cErr := <-b2cErrChan: err: EOF"}
{"level":"debug","x-request-id":"96c4cfee-7155-47e3-b272-ebe7bbef10a7","time":"2024-04-03T10:23:42+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"96c4cfee-7155-47e3-b272-ebe7bbef10a7","time":"2024-04-03T10:23:42+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Token"}
{"level":"info","x-request-id":"96c4cfee-7155-47e3-b272-ebe7bbef10a7","time":"2024-04-03T10:23:42+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"96c4cfee-7155-47e3-b272-ebe7bbef10a7","time":"2024-04-03T10:23:42+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"96c4cfee-7155-47e3-b272-ebe7bbef10a7","time":"2024-04-03T10:23:42+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"96c4cfee-7155-47e3-b272-ebe7bbef10a7","time":"2024-04-03T10:23:42+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"96c4cfee-7155-47e3-b272-ebe7bbef10a7","time":"2024-04-03T10:23:42+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"96c4cfee-7155-47e3-b272-ebe7bbef10a7","time":"2024-04-03T10:23:42+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"96c4cfee-7155-47e3-b272-ebe7bbef10a7","time":"2024-04-03T10:23:42+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"96c4cfee-7155-47e3-b272-ebe7bbef10a7","time":"2024-04-03T10:23:42+05:00","message":"jwt.extract jwt claims empty"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"96c4cfee-7155-47e3-b272-ebe7bbef10a7","trace-id":"","span-id":"","time":"2024-04-03T10:23:42+05:00","message":"grpc request with md: metadata.MD{\":authority\":[]string{\"upstream_balancer\"}, \":path\":[]string{\"/authn.AuthnService/Token\"}, \"client-ip\":[]string{\"172.23.20.6\"}, \"content-type\":[]string{\"application/grpc\"}, \"grpc-accept-encoding\":[]string{\"identity, deflate, gzip\"}, \"source-service\":[]string{\"/authn.AuthnService/Token\"}, \"user-agent\":[]string{\"grpc-python/1.59.0 grpc-c/36.0.0 (osx; chttp2)\"}, \"x-forwarded-for\":[]string{\"172.23.20.6\"}, \"x-forwarded-host\":[]string{\"dev-apigw-grpc.fortebank.com:443\"}, \"x-forwarded-port\":[]string{\"443\"}, \"x-forwarded-proto\":[]string{\"https\"}, \"x-forwarded-scheme\":[]string{\"https\"}, \"x-real-ip\":[]string{\"172.23.20.6\"}, \"x-request-id\":[]string{\"96c4cfee-7155-47e3-b272-ebe7bbef10a7\"}, \"x-scheme\":[]string{\"https\"}}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"96c4cfee-7155-47e3-b272-ebe7bbef10a7","trace-id":"","span-id":"","time":"2024-04-03T10:23:42+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"96c4cfee-7155-47e3-b272-ebe7bbef10a7","trace-id":"","span-id":"","time":"2024-04-03T10:23:42+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"96c4cfee-7155-47e3-b272-ebe7bbef10a7","trace-id":"","span-id":"","time":"2024-04-03T10:23:42+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"96c4cfee-7155-47e3-b272-ebe7bbef10a7","trace-id":"","span-id":"","time":"2024-04-03T10:23:42+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"96c4cfee-7155-47e3-b272-ebe7bbef10a7","trace-id":"","span-id":"","time":"2024-04-03T10:23:42+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"96c4cfee-7155-47e3-b272-ebe7bbef10a7","trace-id":"","span-id":"","time":"2024-04-03T10:23:42+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"96c4cfee-7155-47e3-b272-ebe7bbef10a7","trace-id":"","span-id":"","time":"2024-04-03T10:23:42+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"96c4cfee-7155-47e3-b272-ebe7bbef10a7","trace-id":"","span-id":"","time":"2024-04-03T10:23:42+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"96c4cfee-7155-47e3-b272-ebe7bbef10a7","trace-id":"","span-id":"","time":"2024-04-03T10:23:42+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"96c4cfee-7155-47e3-b272-ebe7bbef10a7","trace-id":"","span-id":"","time":"2024-04-03T10:23:42+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"96c4cfee-7155-47e3-b272-ebe7bbef10a7","trace-id":"","span-id":"","time":"2024-04-03T10:23:42+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"96c4cfee-7155-47e3-b272-ebe7bbef10a7","trace-id":"","span-id":"","time":"2024-04-03T10:23:42+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"96c4cfee-7155-47e3-b272-ebe7bbef10a7","trace-id":"","span-id":"","time":"2024-04-03T10:23:42+05:00","message":"forwardBackendToClient src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"96c4cfee-7155-47e3-b272-ebe7bbef10a7","trace-id":"","span-id":"","time":"2024-04-03T10:23:42+05:00","message":"forwardBackendToClient set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"96c4cfee-7155-47e3-b272-ebe7bbef10a7","trace-id":"","span-id":"","time":"2024-04-03T10:23:42+05:00","message":"forwardBackendToClient src.Header"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"96c4cfee-7155-47e3-b272-ebe7bbef10a7","trace-id":"","span-id":"","time":"2024-04-03T10:23:42+05:00","message":"forwardBackendToClient dst.SetHeader"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"96c4cfee-7155-47e3-b272-ebe7bbef10a7","trace-id":"","span-id":"","time":"2024-04-03T10:23:42+05:00","message":"forwardBackendToClient try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"96c4cfee-7155-47e3-b272-ebe7bbef10a7","trace-id":"","span-id":"","time":"2024-04-03T10:23:42+05:00","message":"forwardBackendToClient dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"96c4cfee-7155-47e3-b272-ebe7bbef10a7","trace-id":"","span-id":"","time":"2024-04-03T10:23:42+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"96c4cfee-7155-47e3-b272-ebe7bbef10a7","trace-id":"","span-id":"","time":"2024-04-03T10:23:42+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"96c4cfee-7155-47e3-b272-ebe7bbef10a7","trace-id":"","span-id":"","time":"2024-04-03T10:23:42+05:00","message":"forwardBackendToClient src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"96c4cfee-7155-47e3-b272-ebe7bbef10a7","trace-id":"","span-id":"","time":"2024-04-03T10:23:42+05:00","message":"b2cErr := <-b2cErrChan: err: EOF"}
{"level":"debug","x-request-id":"5a45e9d8-8c3a-41b1-83e0-d67a3d6413e7","time":"2024-04-03T10:23:43+05:00","message":"authn.cookie not found"}
{"level":"debug","x-request-id":"5a45e9d8-8c3a-41b1-83e0-d67a3d6413e7","time":"2024-04-03T10:23:43+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"5a45e9d8-8c3a-41b1-83e0-d67a3d6413e7","time":"2024-04-03T10:23:43+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_ios\", \"nonce\":\"egmugaiknqnyqxq\", \"phone\":\"+77017709023\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"890410300300\"}, \"exp\":1.712985822e+09, \"iat\":1.712121822e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"25ee247c-5bdc-470d-a1a9-50d18bb47fe7\", \"nbf\":1.712121822e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"209\"}"}
{"level":"info","x-request-id":"5a45e9d8-8c3a-41b1-83e0-d67a3d6413e7","time":"2024-04-03T10:23:43+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"5a45e9d8-8c3a-41b1-83e0-d67a3d6413e7","time":"2024-04-03T10:23:43+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_ios\", \"nonce\":\"egmugaiknqnyqxq\", \"phone\":\"+77017709023\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"890410300300\"}, \"exp\":1.712985822e+09, \"iat\":1.712121822e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"25ee247c-5bdc-470d-a1a9-50d18bb47fe7\", \"nbf\":1.712121822e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"209\"}"}
{"level":"info","x-request-id":"5a45e9d8-8c3a-41b1-83e0-d67a3d6413e7","time":"2024-04-03T10:23:43+05:00","message":"jwt.extract set User-Id to 209"}
{"level":"info","x-request-id":"5a45e9d8-8c3a-41b1-83e0-d67a3d6413e7","time":"2024-04-03T10:23:43+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"5a45e9d8-8c3a-41b1-83e0-d67a3d6413e7","time":"2024-04-03T10:23:43+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_ios\", \"nonce\":\"egmugaiknqnyqxq\", \"phone\":\"+77017709023\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"890410300300\"}, \"exp\":1.712985822e+09, \"iat\":1.712121822e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"25ee247c-5bdc-470d-a1a9-50d18bb47fe7\", \"nbf\":1.712121822e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"209\"}"}
{"level":"info","x-request-id":"5a45e9d8-8c3a-41b1-83e0-d67a3d6413e7","time":"2024-04-03T10:23:43+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"5a45e9d8-8c3a-41b1-83e0-d67a3d6413e7","time":"2024-04-03T10:23:43+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_ios\", \"nonce\":\"egmugaiknqnyqxq\", \"phone\":\"+77017709023\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"890410300300\"}, \"exp\":1.712985822e+09, \"iat\":1.712121822e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"25ee247c-5bdc-470d-a1a9-50d18bb47fe7\", \"nbf\":1.712121822e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"209\"}"}
{"level":"info","x-request-id":"5a45e9d8-8c3a-41b1-83e0-d67a3d6413e7","time":"2024-04-03T10:23:43+05:00","message":"jwt.extract set Username to 890410300300"}
{"level":"info","x-request-id":"5a45e9d8-8c3a-41b1-83e0-d67a3d6413e7","time":"2024-04-03T10:23:43+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"5a45e9d8-8c3a-41b1-83e0-d67a3d6413e7","time":"2024-04-03T10:23:43+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_ios\", \"nonce\":\"egmugaiknqnyqxq\", \"phone\":\"+77017709023\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"890410300300\"}, \"exp\":1.712985822e+09, \"iat\":1.712121822e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"25ee247c-5bdc-470d-a1a9-50d18bb47fe7\", \"nbf\":1.712121822e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"209\"}"}
{"level":"info","x-request-id":"5a45e9d8-8c3a-41b1-83e0-d67a3d6413e7","time":"2024-04-03T10:23:43+05:00","message":"jwt.extract set Phone to +77017709023"}
{"level":"info","x-request-id":"5a45e9d8-8c3a-41b1-83e0-d67a3d6413e7","time":"2024-04-03T10:23:43+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"5a45e9d8-8c3a-41b1-83e0-d67a3d6413e7","time":"2024-04-03T10:23:43+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_ios\", \"nonce\":\"egmugaiknqnyqxq\", \"phone\":\"+77017709023\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"890410300300\"}, \"exp\":1.712985822e+09, \"iat\":1.712121822e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"25ee247c-5bdc-470d-a1a9-50d18bb47fe7\", \"nbf\":1.712121822e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"209\"}"}
{"level":"info","x-request-id":"5a45e9d8-8c3a-41b1-83e0-d67a3d6413e7","time":"2024-04-03T10:23:43+05:00","message":"jwt.extract set otp_datetime to 1712121822"}
{"level":"info","x-request-id":"5a45e9d8-8c3a-41b1-83e0-d67a3d6413e7","time":"2024-04-03T10:23:43+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"5a45e9d8-8c3a-41b1-83e0-d67a3d6413e7","time":"2024-04-03T10:23:43+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_ios\", \"nonce\":\"egmugaiknqnyqxq\", \"phone\":\"+77017709023\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"890410300300\"}, \"exp\":1.712985822e+09, \"iat\":1.712121822e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"25ee247c-5bdc-470d-a1a9-50d18bb47fe7\", \"nbf\":1.712121822e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"209\"}"}
{"level":"info","x-request-id":"5a45e9d8-8c3a-41b1-83e0-d67a3d6413e7","time":"2024-04-03T10:23:43+05:00","message":"jwt.extract set username to 890410300300"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5a45e9d8-8c3a-41b1-83e0-d67a3d6413e7","trace-id":"","span-id":"","time":"2024-04-03T10:23:43+05:00","message":"grpcConnAdd /clientpass.ClientpassService/StartClientPass 5a45e9d8-8c3a-41b1-83e0-d67a3d6413e7"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5a45e9d8-8c3a-41b1-83e0-d67a3d6413e7","trace-id":"","span-id":"","time":"2024-04-03T10:23:43+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5a45e9d8-8c3a-41b1-83e0-d67a3d6413e7","trace-id":"","span-id":"","time":"2024-04-03T10:23:43+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5a45e9d8-8c3a-41b1-83e0-d67a3d6413e7","trace-id":"","span-id":"","time":"2024-04-03T10:23:43+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5a45e9d8-8c3a-41b1-83e0-d67a3d6413e7","trace-id":"","span-id":"","time":"2024-04-03T10:23:43+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"5a45e9d8-8c3a-41b1-83e0-d67a3d6413e7","trace-id":"","span-id":"","time":"2024-04-03T10:23:43+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5a45e9d8-8c3a-41b1-83e0-d67a3d6413e7","trace-id":"","span-id":"","time":"2024-04-03T10:23:43+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5a45e9d8-8c3a-41b1-83e0-d67a3d6413e7","trace-id":"","span-id":"","time":"2024-04-03T10:23:43+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5a45e9d8-8c3a-41b1-83e0-d67a3d6413e7","trace-id":"","span-id":"","time":"2024-04-03T10:23:43+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"5a45e9d8-8c3a-41b1-83e0-d67a3d6413e7","trace-id":"","span-id":"","time":"2024-04-03T10:23:43+05:00","message":"brokerClientStream brokerClientStream SendMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"5a45e9d8-8c3a-41b1-83e0-d67a3d6413e7","trace-id":"","span-id":"","time":"2024-04-03T10:23:43+05:00","message":"brokerClientStream try to publish to client.clientpass.startclientpass.in msg with hdr: metadata.Metadata{\"Authorization\":\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjA5IiwiZXhwIjoxNzEyOTg1ODIyLCJuYmYiOjE3MTIxMjE4MjIsImlhdCI6MTcxMjEyMTgyMiwianRpIjoiMjVlZTI0N2MtNWJkYy00NzBkLWExYTktNTBkMThiYjQ3ZmU3IiwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbIm1pYl91c2VyIl19LCJjdXN0b20iOnsiY2xpZW50X2lkIjoibWliXzMwX2lvcyIsIm5vbmNlIjoiZWdtdWdhaWtucW55cXhxIiwicGhvbmUiOiIrNzcwMTc3MDkwMjMiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6Ijg5MDQxMDMwMDMwMCJ9fQ.U4ol-d9i-Wmq8-mHUelqAuTwSlMu9E_AYekA6izv4uVD1xqBXzIx8iX5IMgaoHYG9GprkIkVwdGxZC_nGIyaNwoG5E_F3y1x2CDgL9s9-SklhanIc4gIH96PfUEonUWvXwkZB1E_IgQZC3WeRuOsWHSxdiHVqgnVvSR1C9k74dpfzc7sI-mEyhiTabm_ddjYoBcPGNea2UoXAvGb9ED5rKFm11tG2h3KmTzCHFcr53GWLGfa8O7u8weA64pkgtIWW6CxGobMJBerHLKsdcZww2CRfa3Aji111iA_ibUlvTThtbmLsEHz96b4aAvrdDqyXX0UDDxnBwbnr8hn-wyNMg\", \"Client-Ip\":\"172.23.20.6\", \"Content-Type\":\"application/grpc\", \"Otp_datetime\":\"1712121822\", \"Phone\":\"+77017709023\", \"Source-Service\":\"/clientpass.ClientpassService/StartClientPass\", \"User-Id\":\"209\", \"Username\":\"890410300300\", \"X-Forwarded-For\":\"172.23.20.6\", \"X-Forwarded-Port\":\"443\", \"X-Real-Ip\":\"172.23.20.6\", \"X-Request-Id\":\"5a45e9d8-8c3a-41b1-83e0-d67a3d6413e7\"}"}
{"level":"info","time":"2024-04-03T10:23:43+05:00","message":"producing to a new topic for the first time, fetching metadata to learn its partitionstopicclient.clientpass.startclientpass.in"}
{"level":"info","time":"2024-04-03T10:23:43+05:00","message":"immediate metadata update triggeredwhyforced load because we are producing to a topic for the first time"}
{"level":"info","time":"2024-04-03T10:23:43+05:00","message":"done waiting for metadata for new topictopicclient.clientpass.startclientpass.in"}
{"level":"info","time":"2024-04-03T10:23:43+05:00","message":"skipping producer id initialization because the client was configured to disable idempotent writes"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5a45e9d8-8c3a-41b1-83e0-d67a3d6413e7","trace-id":"","span-id":"","time":"2024-04-03T10:23:43+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"5a45e9d8-8c3a-41b1-83e0-d67a3d6413e7","trace-id":"","span-id":"","time":"2024-04-03T10:23:43+05:00","message":"brokerClientStream CloseSend method"}
==================
WARNING: DATA RACE
Read at 0x00c00032d890 by goroutine 596:
  runtime.mapaccess2_faststr()
      /usr/local/go/src/runtime/map_faststr.go:108 +0x0
  go.unistack.org/micro-meter-prometheus/v3.(*prometheusMeter).Counter()
      /go/pkg/mod/go.unistack.org/micro-meter-prometheus/v3@v3.8.6/prometheus.go:127 +0x2ec
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.forwardClientToBackend.func1()
      /build/internal/handler/grpc_copy.go:325 +0xac2

Previous write at 0x00c00032d890 by goroutine 619:
  runtime.mapassign_faststr()
      /usr/local/go/src/runtime/map_faststr.go:203 +0x0
  go.unistack.org/micro-meter-prometheus/v3.(*prometheusMeter).Counter()
      /go/pkg/mod/go.unistack.org/micro-meter-prometheus/v3@v3.8.6/prometheus.go:133 +0x86c
  go.unistack.org/micro-broker-kgo/v3.(*hookMeter).OnProduceBatchWritten()
      /go/pkg/mod/go.unistack.org/micro-broker-kgo/v3@v3.8.17/meter.go:106 +0x31c
  github.com/twmb/franz-go/pkg/kgo.produceMetrics.hook.func2()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:1569 +0x37b

Goroutine 596 (running) created at:
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.forwardClientToBackend.func2()
      /build/internal/handler/grpc_copy.go:336 +0x2e
  runtime/pprof.Do()
      /usr/local/go/src/runtime/pprof/runtime.go:51 +0x117
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.forwardClientToBackend()
      /build/internal/handler/grpc_copy.go:335 +0x945
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.GRPCCopy()
      /build/internal/handler/grpc_copy.go:39 +0x404
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.(*HTTPHandlerSwapper).ServeGRPC()
      /build/internal/handler/handler.go:540 +0x4158
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.(*HTTPHandlerSwapper).ServeGRPC-fm()
      <autogenerated>:1 +0x64
  go.unistack.org/micro-server-grpc/v3.(*Server).handler()
      /go/pkg/mod/go.unistack.org/micro-server-grpc/v3@v3.10.13/grpc.go:306 +0x183b
  go.unistack.org/micro-server-grpc/v3.(*Server).handler-fm()
      <autogenerated>:1 +0x64
  google.golang.org/grpc.(*Server).processStreamingRPC()
      /go/pkg/mod/google.golang.org/grpc@v1.62.1/server.go:1680 +0x1fd9
  google.golang.org/grpc.(*Server).handleStream()
      /go/pkg/mod/google.golang.org/grpc@v1.62.1/server.go:1807 +0x1755
  google.golang.org/grpc.(*Server).serveStreams.func2.1()
      /go/pkg/mod/google.golang.org/grpc@v1.62.1/server.go:1027 +0x158

Goroutine 619 (finished) created at:
  github.com/twmb/franz-go/pkg/kgo.produceMetrics.hook()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:1565 +0x3f6
  github.com/twmb/franz-go/pkg/kgo.(*sink).handleReqResp.deferwrap1()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:586 +0x4f
  runtime.deferreturn()
      /usr/local/go/src/runtime/panic.go:602 +0x5d
  github.com/twmb/franz-go/pkg/kgo.(*sink).produce.func3()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:369 +0xaa
  github.com/twmb/franz-go/pkg/kgo.(*sink).handleSeqResps()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:411 +0xe8
  github.com/twmb/franz-go/pkg/kgo.(*sink).doSequenced.gowrap1()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:402 +0x44
==================
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5a45e9d8-8c3a-41b1-83e0-d67a3d6413e7","trace-id":"","span-id":"","time":"2024-04-03T10:23:43+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5a45e9d8-8c3a-41b1-83e0-d67a3d6413e7","trace-id":"","span-id":"","time":"2024-04-03T10:23:43+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5a45e9d8-8c3a-41b1-83e0-d67a3d6413e7","trace-id":"","span-id":"","time":"2024-04-03T10:23:43+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5a45e9d8-8c3a-41b1-83e0-d67a3d6413e7","trace-id":"","span-id":"","time":"2024-04-03T10:23:43+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"5a45e9d8-8c3a-41b1-83e0-d67a3d6413e7","trace-id":"","span-id":"","time":"2024-04-03T10:23:43+05:00","message":"brokerClientStream CloseSend method"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"5a45e9d8-8c3a-41b1-83e0-d67a3d6413e7","trace-id":"","span-id":"","time":"2024-04-03T10:23:43+05:00","message":"failed to CloseSend grpc conn: file already closed"}
==================
WARNING: DATA RACE
Read at 0x00c00054d0f0 by goroutine 415:
  go.unistack.org/micro-meter-prometheus/v3.(*prometheusMeter).Write()
      /go/pkg/mod/go.unistack.org/micro-meter-prometheus/v3@v3.8.6/prometheus.go:298 +0x4e4
  go.unistack.org/micro-server-http/v3/handler/meter.(*Handler).Metrics()
      /go/pkg/mod/go.unistack.org/micro-server-http/v3@v3.11.22/handler/meter/meter.go:112 +0x534
  go.unistack.org/micro-server-http/v3/handler/meter.(*meterServiceServer).Metrics()
      /go/pkg/mod/go.unistack.org/micro-server-http/v3@v3.11.22/handler/meter/meter_micro_http.pb.go:19 +0x65
  go.unistack.org/micro-server-http/v3/handler/meter.(*MeterService2).Metrics()
      <autogenerated>:1 +0x79
  runtime.call64()
      /usr/local/go/src/runtime/asm_amd64.s:772 +0x42
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:380 +0xb5
  go.unistack.org/micro-server-http/v3.(*Server).ServeHTTP.func1()
      /go/pkg/mod/go.unistack.org/micro-server-http/v3@v3.11.22/handler.go:516 +0x2db
  go.unistack.org/micro-server-http/v3.(*Server).ServeHTTP()
      /go/pkg/mod/go.unistack.org/micro-server-http/v3@v3.11.22/handler.go:552 +0x2813
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:3137 +0x2a1
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:2039 +0x13c4
  net/http.(*Server).Serve.gowrap3()
      /usr/local/go/src/net/http/server.go:3285 +0x4f

Previous write at 0x00c00054d0f0 by goroutine 619:
  go.unistack.org/micro-meter-prometheus/v3.(*prometheusMeter).Counter()
      /go/pkg/mod/go.unistack.org/micro-meter-prometheus/v3@v3.8.6/prometheus.go:133 +0x87b
  go.unistack.org/micro-broker-kgo/v3.(*hookMeter).OnProduceBatchWritten()
      /go/pkg/mod/go.unistack.org/micro-broker-kgo/v3@v3.8.17/meter.go:105 +0x1c1
  github.com/twmb/franz-go/pkg/kgo.produceMetrics.hook.func2()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:1569 +0x37b

Goroutine 415 (running) created at:
  net/http.(*Server).Serve()
      /usr/local/go/src/net/http/server.go:3285 +0x8ec
  go.unistack.org/micro-server-http/v3.(*Server).Start.func1()
      /go/pkg/mod/go.unistack.org/micro-server-http/v3@v3.11.22/http.go:596 +0x5b

Goroutine 619 (finished) created at:
  github.com/twmb/franz-go/pkg/kgo.produceMetrics.hook()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:1565 +0x3f6
  github.com/twmb/franz-go/pkg/kgo.(*sink).handleReqResp.deferwrap1()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:586 +0x4f
  runtime.deferreturn()
      /usr/local/go/src/runtime/panic.go:602 +0x5d
  github.com/twmb/franz-go/pkg/kgo.(*sink).produce.func3()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:369 +0xaa
  github.com/twmb/franz-go/pkg/kgo.(*sink).handleSeqResps()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:411 +0xe8
  github.com/twmb/franz-go/pkg/kgo.(*sink).doSequenced.gowrap1()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:402 +0x44
==================
==================
WARNING: DATA RACE
Read at 0x00c000712250 by goroutine 415:
  go.unistack.org/micro-meter-prometheus/v3.(*prometheusMeter).Write()
      /go/pkg/mod/go.unistack.org/micro-meter-prometheus/v3@v3.8.6/prometheus.go:302 +0x585
  go.unistack.org/micro-server-http/v3/handler/meter.(*Handler).Metrics()
      /go/pkg/mod/go.unistack.org/micro-server-http/v3@v3.11.22/handler/meter/meter.go:112 +0x534
  go.unistack.org/micro-server-http/v3/handler/meter.(*meterServiceServer).Metrics()
      /go/pkg/mod/go.unistack.org/micro-server-http/v3@v3.11.22/handler/meter/meter_micro_http.pb.go:19 +0x65
  go.unistack.org/micro-server-http/v3/handler/meter.(*MeterService2).Metrics()
      <autogenerated>:1 +0x79
  runtime.call64()
      /usr/local/go/src/runtime/asm_amd64.s:772 +0x42
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:380 +0xb5
  go.unistack.org/micro-server-http/v3.(*Server).ServeHTTP.func1()
      /go/pkg/mod/go.unistack.org/micro-server-http/v3@v3.11.22/handler.go:516 +0x2db
  go.unistack.org/micro-server-http/v3.(*Server).ServeHTTP()
      /go/pkg/mod/go.unistack.org/micro-server-http/v3@v3.11.22/handler.go:552 +0x2813
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:3137 +0x2a1
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:2039 +0x13c4
  net/http.(*Server).Serve.gowrap3()
      /usr/local/go/src/net/http/server.go:3285 +0x4f

Previous write at 0x00c000712250 by goroutine 619:
  go.unistack.org/micro-meter-prometheus/v3.(*prometheusMeter).Counter()
      /go/pkg/mod/go.unistack.org/micro-meter-prometheus/v3@v3.8.6/prometheus.go:130 +0x645
  go.unistack.org/micro-broker-kgo/v3.(*hookMeter).OnProduceBatchWritten()
      /go/pkg/mod/go.unistack.org/micro-broker-kgo/v3@v3.8.17/meter.go:105 +0x1c1
  github.com/twmb/franz-go/pkg/kgo.produceMetrics.hook.func2()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:1569 +0x37b

Goroutine 415 (running) created at:
  net/http.(*Server).Serve()
      /usr/local/go/src/net/http/server.go:3285 +0x8ec
  go.unistack.org/micro-server-http/v3.(*Server).Start.func1()
      /go/pkg/mod/go.unistack.org/micro-server-http/v3@v3.11.22/http.go:596 +0x5b

Goroutine 619 (finished) created at:
  github.com/twmb/franz-go/pkg/kgo.produceMetrics.hook()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:1565 +0x3f6
  github.com/twmb/franz-go/pkg/kgo.(*sink).handleReqResp.deferwrap1()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:586 +0x4f
  runtime.deferreturn()
      /usr/local/go/src/runtime/panic.go:602 +0x5d
  github.com/twmb/franz-go/pkg/kgo.(*sink).produce.func3()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:369 +0xaa
  github.com/twmb/franz-go/pkg/kgo.(*sink).handleSeqResps()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:411 +0xe8
  github.com/twmb/franz-go/pkg/kgo.(*sink).doSequenced.gowrap1()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:402 +0x44
==================
==================
WARNING: DATA RACE
Read at 0x00c0005fb140 by goroutine 415:
  go.unistack.org/micro-meter-prometheus/v3.(*prometheusMeter).Write()
      /go/pkg/mod/go.unistack.org/micro-meter-prometheus/v3@v3.8.6/prometheus.go:302 +0x5a4
  go.unistack.org/micro-server-http/v3/handler/meter.(*Handler).Metrics()
      /go/pkg/mod/go.unistack.org/micro-server-http/v3@v3.11.22/handler/meter/meter.go:112 +0x534
  go.unistack.org/micro-server-http/v3/handler/meter.(*meterServiceServer).Metrics()
      /go/pkg/mod/go.unistack.org/micro-server-http/v3@v3.11.22/handler/meter/meter_micro_http.pb.go:19 +0x65
  go.unistack.org/micro-server-http/v3/handler/meter.(*MeterService2).Metrics()
      <autogenerated>:1 +0x79
  runtime.call64()
      /usr/local/go/src/runtime/asm_amd64.s:772 +0x42
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:380 +0xb5
  go.unistack.org/micro-server-http/v3.(*Server).ServeHTTP.func1()
      /go/pkg/mod/go.unistack.org/micro-server-http/v3@v3.11.22/handler.go:516 +0x2db
  go.unistack.org/micro-server-http/v3.(*Server).ServeHTTP()
      /go/pkg/mod/go.unistack.org/micro-server-http/v3@v3.11.22/handler.go:552 +0x2813
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:3137 +0x2a1
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:2039 +0x13c4
  net/http.(*Server).Serve.gowrap3()
      /usr/local/go/src/net/http/server.go:3285 +0x4f

Previous write at 0x00c0005fb140 by goroutine 619:
  runtime.mapassign_fast64()
      /usr/local/go/src/runtime/map_fast64.go:93 +0x0
  go.unistack.org/micro-meter-prometheus/v3.(*prometheusMeter).Counter()
      /go/pkg/mod/go.unistack.org/micro-meter-prometheus/v3@v3.8.6/prometheus.go:132 +0x7e7
  go.unistack.org/micro-broker-kgo/v3.(*hookMeter).OnProduceBatchWritten()
      /go/pkg/mod/go.unistack.org/micro-broker-kgo/v3@v3.8.17/meter.go:105 +0x1c1
  github.com/twmb/franz-go/pkg/kgo.produceMetrics.hook.func2()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:1569 +0x37b

Goroutine 415 (running) created at:
  net/http.(*Server).Serve()
      /usr/local/go/src/net/http/server.go:3285 +0x8ec
  go.unistack.org/micro-server-http/v3.(*Server).Start.func1()
      /go/pkg/mod/go.unistack.org/micro-server-http/v3@v3.11.22/http.go:596 +0x5b

Goroutine 619 (finished) created at:
  github.com/twmb/franz-go/pkg/kgo.produceMetrics.hook()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:1565 +0x3f6
  github.com/twmb/franz-go/pkg/kgo.(*sink).handleReqResp.deferwrap1()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:586 +0x4f
  runtime.deferreturn()
      /usr/local/go/src/runtime/panic.go:602 +0x5d
  github.com/twmb/franz-go/pkg/kgo.(*sink).produce.func3()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:369 +0xaa
  github.com/twmb/franz-go/pkg/kgo.(*sink).handleSeqResps()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:411 +0xe8
  github.com/twmb/franz-go/pkg/kgo.(*sink).doSequenced.gowrap1()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:402 +0x44
==================
==================
WARNING: DATA RACE
Read at 0x00c0004e49d8 by goroutine 415:
  go.unistack.org/micro-meter-prometheus/v3.(*prometheusMeter).Write()
      /go/pkg/mod/go.unistack.org/micro-meter-prometheus/v3@v3.8.6/prometheus.go:304 +0x2604
  go.unistack.org/micro-server-http/v3/handler/meter.(*Handler).Metrics()
      /go/pkg/mod/go.unistack.org/micro-server-http/v3@v3.11.22/handler/meter/meter.go:112 +0x534
  go.unistack.org/micro-server-http/v3/handler/meter.(*meterServiceServer).Metrics()
      /go/pkg/mod/go.unistack.org/micro-server-http/v3@v3.11.22/handler/meter/meter_micro_http.pb.go:19 +0x65
  go.unistack.org/micro-server-http/v3/handler/meter.(*MeterService2).Metrics()
      <autogenerated>:1 +0x79
  runtime.call64()
      /usr/local/go/src/runtime/asm_amd64.s:772 +0x42
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:380 +0xb5
  go.unistack.org/micro-server-http/v3.(*Server).ServeHTTP.func1()
      /go/pkg/mod/go.unistack.org/micro-server-http/v3@v3.11.22/handler.go:516 +0x2db
  go.unistack.org/micro-server-http/v3.(*Server).ServeHTTP()
      /go/pkg/mod/go.unistack.org/micro-server-http/v3@v3.11.22/handler.go:552 +0x2813
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:3137 +0x2a1
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:2039 +0x13c4
  net/http.(*Server).Serve.gowrap3()
      /usr/local/go/src/net/http/server.go:3285 +0x4f

Previous write at 0x00c0004e49d8 by goroutine 619:
  go.unistack.org/micro-meter-prometheus/v3.(*prometheusMeter).Counter()
      /go/pkg/mod/go.unistack.org/micro-meter-prometheus/v3@v3.8.6/prometheus.go:132 +0x7f6
  go.unistack.org/micro-broker-kgo/v3.(*hookMeter).OnProduceBatchWritten()
      /go/pkg/mod/go.unistack.org/micro-broker-kgo/v3@v3.8.17/meter.go:105 +0x1c1
  github.com/twmb/franz-go/pkg/kgo.produceMetrics.hook.func2()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:1569 +0x37b

Goroutine 415 (running) created at:
  net/http.(*Server).Serve()
      /usr/local/go/src/net/http/server.go:3285 +0x8ec
  go.unistack.org/micro-server-http/v3.(*Server).Start.func1()
      /go/pkg/mod/go.unistack.org/micro-server-http/v3@v3.11.22/http.go:596 +0x5b

Goroutine 619 (finished) created at:
  github.com/twmb/franz-go/pkg/kgo.produceMetrics.hook()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:1565 +0x3f6
  github.com/twmb/franz-go/pkg/kgo.(*sink).handleReqResp.deferwrap1()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:586 +0x4f
  runtime.deferreturn()
      /usr/local/go/src/runtime/panic.go:602 +0x5d
  github.com/twmb/franz-go/pkg/kgo.(*sink).produce.func3()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:369 +0xaa
  github.com/twmb/franz-go/pkg/kgo.(*sink).handleSeqResps()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:411 +0xe8
  github.com/twmb/franz-go/pkg/kgo.(*sink).doSequenced.gowrap1()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:402 +0x44
==================
==================
WARNING: DATA RACE
Read at 0x00c0005fb170 by goroutine 415:
  go.unistack.org/micro-meter-prometheus/v3.(*prometheusMeter).Write()
      /go/pkg/mod/go.unistack.org/micro-meter-prometheus/v3@v3.8.6/prometheus.go:306 +0x2684
  go.unistack.org/micro-server-http/v3/handler/meter.(*Handler).Metrics()
      /go/pkg/mod/go.unistack.org/micro-server-http/v3@v3.11.22/handler/meter/meter.go:112 +0x534
  go.unistack.org/micro-server-http/v3/handler/meter.(*meterServiceServer).Metrics()
      /go/pkg/mod/go.unistack.org/micro-server-http/v3@v3.11.22/handler/meter/meter_micro_http.pb.go:19 +0x65
  go.unistack.org/micro-server-http/v3/handler/meter.(*MeterService2).Metrics()
      <autogenerated>:1 +0x79
  runtime.call64()
      /usr/local/go/src/runtime/asm_amd64.s:772 +0x42
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:380 +0xb5
  go.unistack.org/micro-server-http/v3.(*Server).ServeHTTP.func1()
      /go/pkg/mod/go.unistack.org/micro-server-http/v3@v3.11.22/handler.go:516 +0x2db
  go.unistack.org/micro-server-http/v3.(*Server).ServeHTTP()
      /go/pkg/mod/go.unistack.org/micro-server-http/v3@v3.11.22/handler.go:552 +0x2813
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:3137 +0x2a1
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:2039 +0x13c4
  net/http.(*Server).Serve.gowrap3()
      /usr/local/go/src/net/http/server.go:3285 +0x4f

Previous write at 0x00c0005fb170 by goroutine 619:
  go.unistack.org/micro-meter-prometheus/v3.(*prometheusMeter).Counter()
      /go/pkg/mod/go.unistack.org/micro-meter-prometheus/v3@v3.8.6/prometheus.go:131 +0x724
  go.unistack.org/micro-broker-kgo/v3.(*hookMeter).OnProduceBatchWritten()
      /go/pkg/mod/go.unistack.org/micro-broker-kgo/v3@v3.8.17/meter.go:105 +0x1c1
  github.com/twmb/franz-go/pkg/kgo.produceMetrics.hook.func2()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:1569 +0x37b

Goroutine 415 (running) created at:
  net/http.(*Server).Serve()
      /usr/local/go/src/net/http/server.go:3285 +0x8ec
  go.unistack.org/micro-server-http/v3.(*Server).Start.func1()
      /go/pkg/mod/go.unistack.org/micro-server-http/v3@v3.11.22/http.go:596 +0x5b

Goroutine 619 (finished) created at:
  github.com/twmb/franz-go/pkg/kgo.produceMetrics.hook()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:1565 +0x3f6
  github.com/twmb/franz-go/pkg/kgo.(*sink).handleReqResp.deferwrap1()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:586 +0x4f
  runtime.deferreturn()
      /usr/local/go/src/runtime/panic.go:602 +0x5d
  github.com/twmb/franz-go/pkg/kgo.(*sink).produce.func3()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:369 +0xaa
  github.com/twmb/franz-go/pkg/kgo.(*sink).handleSeqResps()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:411 +0xe8
  github.com/twmb/franz-go/pkg/kgo.(*sink).doSequenced.gowrap1()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:402 +0x44
==================
==================
WARNING: DATA RACE
Read at 0x00c00054d0f8 by goroutine 415:
  go.unistack.org/micro-meter-prometheus/v3.(*prometheusMeter).Write()
      /go/pkg/mod/go.unistack.org/micro-meter-prometheus/v3@v3.8.6/prometheus.go:298 +0x4e4
  go.unistack.org/micro-server-http/v3/handler/meter.(*Handler).Metrics()
      /go/pkg/mod/go.unistack.org/micro-server-http/v3@v3.11.22/handler/meter/meter.go:112 +0x534
  go.unistack.org/micro-server-http/v3/handler/meter.(*meterServiceServer).Metrics()
      /go/pkg/mod/go.unistack.org/micro-server-http/v3@v3.11.22/handler/meter/meter_micro_http.pb.go:19 +0x65
  go.unistack.org/micro-server-http/v3/handler/meter.(*MeterService2).Metrics()
      <autogenerated>:1 +0x79
  runtime.call64()
      /usr/local/go/src/runtime/asm_amd64.s:772 +0x42
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:380 +0xb5
  go.unistack.org/micro-server-http/v3.(*Server).ServeHTTP.func1()
      /go/pkg/mod/go.unistack.org/micro-server-http/v3@v3.11.22/handler.go:516 +0x2db
  go.unistack.org/micro-server-http/v3.(*Server).ServeHTTP()
      /go/pkg/mod/go.unistack.org/micro-server-http/v3@v3.11.22/handler.go:552 +0x2813
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:3137 +0x2a1
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:2039 +0x13c4
  net/http.(*Server).Serve.gowrap3()
      /usr/local/go/src/net/http/server.go:3285 +0x4f

Previous write at 0x00c00054d0f8 by goroutine 619:
  go.unistack.org/micro-meter-prometheus/v3.(*prometheusMeter).Counter()
      /go/pkg/mod/go.unistack.org/micro-meter-prometheus/v3@v3.8.6/prometheus.go:133 +0x87b
  go.unistack.org/micro-broker-kgo/v3.(*hookMeter).OnProduceBatchWritten()
      /go/pkg/mod/go.unistack.org/micro-broker-kgo/v3@v3.8.17/meter.go:106 +0x31c
  github.com/twmb/franz-go/pkg/kgo.produceMetrics.hook.func2()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:1569 +0x37b

Goroutine 415 (running) created at:
  net/http.(*Server).Serve()
      /usr/local/go/src/net/http/server.go:3285 +0x8ec
  go.unistack.org/micro-server-http/v3.(*Server).Start.func1()
      /go/pkg/mod/go.unistack.org/micro-server-http/v3@v3.11.22/http.go:596 +0x5b

Goroutine 619 (finished) created at:
  github.com/twmb/franz-go/pkg/kgo.produceMetrics.hook()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:1565 +0x3f6
  github.com/twmb/franz-go/pkg/kgo.(*sink).handleReqResp.deferwrap1()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:586 +0x4f
  runtime.deferreturn()
      /usr/local/go/src/runtime/panic.go:602 +0x5d
  github.com/twmb/franz-go/pkg/kgo.(*sink).produce.func3()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:369 +0xaa
  github.com/twmb/franz-go/pkg/kgo.(*sink).handleSeqResps()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:411 +0xe8
  github.com/twmb/franz-go/pkg/kgo.(*sink).doSequenced.gowrap1()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:402 +0x44
==================
==================
WARNING: DATA RACE
Read at 0x00c000712258 by goroutine 415:
  go.unistack.org/micro-meter-prometheus/v3.(*prometheusMeter).Write()
      /go/pkg/mod/go.unistack.org/micro-meter-prometheus/v3@v3.8.6/prometheus.go:302 +0x585
  go.unistack.org/micro-server-http/v3/handler/meter.(*Handler).Metrics()
      /go/pkg/mod/go.unistack.org/micro-server-http/v3@v3.11.22/handler/meter/meter.go:112 +0x534
  go.unistack.org/micro-server-http/v3/handler/meter.(*meterServiceServer).Metrics()
      /go/pkg/mod/go.unistack.org/micro-server-http/v3@v3.11.22/handler/meter/meter_micro_http.pb.go:19 +0x65
  go.unistack.org/micro-server-http/v3/handler/meter.(*MeterService2).Metrics()
      <autogenerated>:1 +0x79
  runtime.call64()
      /usr/local/go/src/runtime/asm_amd64.s:772 +0x42
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:380 +0xb5
  go.unistack.org/micro-server-http/v3.(*Server).ServeHTTP.func1()
      /go/pkg/mod/go.unistack.org/micro-server-http/v3@v3.11.22/handler.go:516 +0x2db
  go.unistack.org/micro-server-http/v3.(*Server).ServeHTTP()
      /go/pkg/mod/go.unistack.org/micro-server-http/v3@v3.11.22/handler.go:552 +0x2813
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:3137 +0x2a1
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:2039 +0x13c4
  net/http.(*Server).Serve.gowrap3()
      /usr/local/go/src/net/http/server.go:3285 +0x4f

Previous write at 0x00c000712258 by goroutine 619:
  go.unistack.org/micro-meter-prometheus/v3.(*prometheusMeter).Counter()
      /go/pkg/mod/go.unistack.org/micro-meter-prometheus/v3@v3.8.6/prometheus.go:130 +0x645
  go.unistack.org/micro-broker-kgo/v3.(*hookMeter).OnProduceBatchWritten()
      /go/pkg/mod/go.unistack.org/micro-broker-kgo/v3@v3.8.17/meter.go:106 +0x31c
  github.com/twmb/franz-go/pkg/kgo.produceMetrics.hook.func2()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:1569 +0x37b

Goroutine 415 (running) created at:
  net/http.(*Server).Serve()
      /usr/local/go/src/net/http/server.go:3285 +0x8ec
  go.unistack.org/micro-server-http/v3.(*Server).Start.func1()
      /go/pkg/mod/go.unistack.org/micro-server-http/v3@v3.11.22/http.go:596 +0x5b

Goroutine 619 (finished) created at:
  github.com/twmb/franz-go/pkg/kgo.produceMetrics.hook()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:1565 +0x3f6
  github.com/twmb/franz-go/pkg/kgo.(*sink).handleReqResp.deferwrap1()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:586 +0x4f
  runtime.deferreturn()
      /usr/local/go/src/runtime/panic.go:602 +0x5d
  github.com/twmb/franz-go/pkg/kgo.(*sink).produce.func3()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:369 +0xaa
  github.com/twmb/franz-go/pkg/kgo.(*sink).handleSeqResps()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:411 +0xe8
  github.com/twmb/franz-go/pkg/kgo.(*sink).doSequenced.gowrap1()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:402 +0x44
==================
==================
WARNING: DATA RACE
Read at 0x00c0005fb1a0 by goroutine 415:
  go.unistack.org/micro-meter-prometheus/v3.(*prometheusMeter).Write()
      /go/pkg/mod/go.unistack.org/micro-meter-prometheus/v3@v3.8.6/prometheus.go:302 +0x5a4
  go.unistack.org/micro-server-http/v3/handler/meter.(*Handler).Metrics()
      /go/pkg/mod/go.unistack.org/micro-server-http/v3@v3.11.22/handler/meter/meter.go:112 +0x534
  go.unistack.org/micro-server-http/v3/handler/meter.(*meterServiceServer).Metrics()
      /go/pkg/mod/go.unistack.org/micro-server-http/v3@v3.11.22/handler/meter/meter_micro_http.pb.go:19 +0x65
  go.unistack.org/micro-server-http/v3/handler/meter.(*MeterService2).Metrics()
      <autogenerated>:1 +0x79
  runtime.call64()
      /usr/local/go/src/runtime/asm_amd64.s:772 +0x42
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:380 +0xb5
  go.unistack.org/micro-server-http/v3.(*Server).ServeHTTP.func1()
      /go/pkg/mod/go.unistack.org/micro-server-http/v3@v3.11.22/handler.go:516 +0x2db
  go.unistack.org/micro-server-http/v3.(*Server).ServeHTTP()
      /go/pkg/mod/go.unistack.org/micro-server-http/v3@v3.11.22/handler.go:552 +0x2813
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:3137 +0x2a1
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:2039 +0x13c4
  net/http.(*Server).Serve.gowrap3()
      /usr/local/go/src/net/http/server.go:3285 +0x4f

Previous write at 0x00c0005fb1a0 by goroutine 619:
  runtime.mapassign_fast64()
      /usr/local/go/src/runtime/map_fast64.go:93 +0x0
  go.unistack.org/micro-meter-prometheus/v3.(*prometheusMeter).Counter()
      /go/pkg/mod/go.unistack.org/micro-meter-prometheus/v3@v3.8.6/prometheus.go:132 +0x7e7
  go.unistack.org/micro-broker-kgo/v3.(*hookMeter).OnProduceBatchWritten()
      /go/pkg/mod/go.unistack.org/micro-broker-kgo/v3@v3.8.17/meter.go:106 +0x31c
  github.com/twmb/franz-go/pkg/kgo.produceMetrics.hook.func2()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:1569 +0x37b

Goroutine 415 (running) created at:
  net/http.(*Server).Serve()
      /usr/local/go/src/net/http/server.go:3285 +0x8ec
  go.unistack.org/micro-server-http/v3.(*Server).Start.func1()
      /go/pkg/mod/go.unistack.org/micro-server-http/v3@v3.11.22/http.go:596 +0x5b

Goroutine 619 (finished) created at:
  github.com/twmb/franz-go/pkg/kgo.produceMetrics.hook()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:1565 +0x3f6
  github.com/twmb/franz-go/pkg/kgo.(*sink).handleReqResp.deferwrap1()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:586 +0x4f
  runtime.deferreturn()
      /usr/local/go/src/runtime/panic.go:602 +0x5d
  github.com/twmb/franz-go/pkg/kgo.(*sink).produce.func3()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:369 +0xaa
  github.com/twmb/franz-go/pkg/kgo.(*sink).handleSeqResps()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:411 +0xe8
  github.com/twmb/franz-go/pkg/kgo.(*sink).doSequenced.gowrap1()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:402 +0x44
==================
==================
WARNING: DATA RACE
Read at 0x00c0004e4a68 by goroutine 415:
  go.unistack.org/micro-meter-prometheus/v3.(*prometheusMeter).Write()
      /go/pkg/mod/go.unistack.org/micro-meter-prometheus/v3@v3.8.6/prometheus.go:304 +0x2604
  go.unistack.org/micro-server-http/v3/handler/meter.(*Handler).Metrics()
      /go/pkg/mod/go.unistack.org/micro-server-http/v3@v3.11.22/handler/meter/meter.go:112 +0x534
  go.unistack.org/micro-server-http/v3/handler/meter.(*meterServiceServer).Metrics()
      /go/pkg/mod/go.unistack.org/micro-server-http/v3@v3.11.22/handler/meter/meter_micro_http.pb.go:19 +0x65
  go.unistack.org/micro-server-http/v3/handler/meter.(*MeterService2).Metrics()
      <autogenerated>:1 +0x79
  runtime.call64()
      /usr/local/go/src/runtime/asm_amd64.s:772 +0x42
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:380 +0xb5
  go.unistack.org/micro-server-http/v3.(*Server).ServeHTTP.func1()
      /go/pkg/mod/go.unistack.org/micro-server-http/v3@v3.11.22/handler.go:516 +0x2db
  go.unistack.org/micro-server-http/v3.(*Server).ServeHTTP()
      /go/pkg/mod/go.unistack.org/micro-server-http/v3@v3.11.22/handler.go:552 +0x2813
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:3137 +0x2a1
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:2039 +0x13c4
  net/http.(*Server).Serve.gowrap3()
      /usr/local/go/src/net/http/server.go:3285 +0x4f

Previous write at 0x00c0004e4a68 by goroutine 619:
  go.unistack.org/micro-meter-prometheus/v3.(*prometheusMeter).Counter()
      /go/pkg/mod/go.unistack.org/micro-meter-prometheus/v3@v3.8.6/prometheus.go:132 +0x7f6
  go.unistack.org/micro-broker-kgo/v3.(*hookMeter).OnProduceBatchWritten()
      /go/pkg/mod/go.unistack.org/micro-broker-kgo/v3@v3.8.17/meter.go:106 +0x31c
  github.com/twmb/franz-go/pkg/kgo.produceMetrics.hook.func2()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:1569 +0x37b

Goroutine 415 (running) created at:
  net/http.(*Server).Serve()
      /usr/local/go/src/net/http/server.go:3285 +0x8ec
  go.unistack.org/micro-server-http/v3.(*Server).Start.func1()
      /go/pkg/mod/go.unistack.org/micro-server-http/v3@v3.11.22/http.go:596 +0x5b

Goroutine 619 (finished) created at:
  github.com/twmb/franz-go/pkg/kgo.produceMetrics.hook()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:1565 +0x3f6
  github.com/twmb/franz-go/pkg/kgo.(*sink).handleReqResp.deferwrap1()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:586 +0x4f
  runtime.deferreturn()
      /usr/local/go/src/runtime/panic.go:602 +0x5d
  github.com/twmb/franz-go/pkg/kgo.(*sink).produce.func3()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:369 +0xaa
  github.com/twmb/franz-go/pkg/kgo.(*sink).handleSeqResps()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:411 +0xe8
  github.com/twmb/franz-go/pkg/kgo.(*sink).doSequenced.gowrap1()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:402 +0x44
==================
==================
WARNING: DATA RACE
Read at 0x00c0005fb1d0 by goroutine 415:
  go.unistack.org/micro-meter-prometheus/v3.(*prometheusMeter).Write()
      /go/pkg/mod/go.unistack.org/micro-meter-prometheus/v3@v3.8.6/prometheus.go:306 +0x2684
  go.unistack.org/micro-server-http/v3/handler/meter.(*Handler).Metrics()
      /go/pkg/mod/go.unistack.org/micro-server-http/v3@v3.11.22/handler/meter/meter.go:112 +0x534
  go.unistack.org/micro-server-http/v3/handler/meter.(*meterServiceServer).Metrics()
      /go/pkg/mod/go.unistack.org/micro-server-http/v3@v3.11.22/handler/meter/meter_micro_http.pb.go:19 +0x65
  go.unistack.org/micro-server-http/v3/handler/meter.(*MeterService2).Metrics()
      <autogenerated>:1 +0x79
  runtime.call64()
      /usr/local/go/src/runtime/asm_amd64.s:772 +0x42
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:380 +0xb5
  go.unistack.org/micro-server-http/v3.(*Server).ServeHTTP.func1()
      /go/pkg/mod/go.unistack.org/micro-server-http/v3@v3.11.22/handler.go:516 +0x2db
  go.unistack.org/micro-server-http/v3.(*Server).ServeHTTP()
      /go/pkg/mod/go.unistack.org/micro-server-http/v3@v3.11.22/handler.go:552 +0x2813
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:3137 +0x2a1
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:2039 +0x13c4
  net/http.(*Server).Serve.gowrap3()
      /usr/local/go/src/net/http/server.go:3285 +0x4f

Previous write at 0x00c0005fb1d0 by goroutine 619:
  go.unistack.org/micro-meter-prometheus/v3.(*prometheusMeter).Counter()
      /go/pkg/mod/go.unistack.org/micro-meter-prometheus/v3@v3.8.6/prometheus.go:131 +0x724
  go.unistack.org/micro-broker-kgo/v3.(*hookMeter).OnProduceBatchWritten()
      /go/pkg/mod/go.unistack.org/micro-broker-kgo/v3@v3.8.17/meter.go:106 +0x31c
  github.com/twmb/franz-go/pkg/kgo.produceMetrics.hook.func2()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:1569 +0x37b

Goroutine 415 (running) created at:
  net/http.(*Server).Serve()
      /usr/local/go/src/net/http/server.go:3285 +0x8ec
  go.unistack.org/micro-server-http/v3.(*Server).Start.func1()
      /go/pkg/mod/go.unistack.org/micro-server-http/v3@v3.11.22/http.go:596 +0x5b

Goroutine 619 (finished) created at:
  github.com/twmb/franz-go/pkg/kgo.produceMetrics.hook()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:1565 +0x3f6
  github.com/twmb/franz-go/pkg/kgo.(*sink).handleReqResp.deferwrap1()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:586 +0x4f
  runtime.deferreturn()
      /usr/local/go/src/runtime/panic.go:602 +0x5d
  github.com/twmb/franz-go/pkg/kgo.(*sink).produce.func3()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:369 +0xaa
  github.com/twmb/franz-go/pkg/kgo.(*sink).handleSeqResps()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:411 +0xe8
  github.com/twmb/franz-go/pkg/kgo.(*sink).doSequenced.gowrap1()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:402 +0x44
==================
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5a45e9d8-8c3a-41b1-83e0-d67a3d6413e7","trace-id":"","span-id":"","time":"2024-04-03T10:23:48+05:00","message":"forwardBackendToClient src.RecvMsg err rpc error: code = DeadlineExceeded desc = i/o timeout"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5a45e9d8-8c3a-41b1-83e0-d67a3d6413e7","trace-id":"","span-id":"","time":"2024-04-03T10:23:48+05:00","message":"b2cErr := <-b2cErrChan: err: rpc error: code = DeadlineExceeded desc = i/o timeout"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"5a45e9d8-8c3a-41b1-83e0-d67a3d6413e7","trace-id":"","span-id":"","time":"2024-04-03T10:23:48+05:00","message":"brokerClientStream Trailer method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5a45e9d8-8c3a-41b1-83e0-d67a3d6413e7","trace-id":"","span-id":"","time":"2024-04-03T10:23:48+05:00","message":"grpcConnDel /clientpass.ClientpassService/StartClientPass 5a45e9d8-8c3a-41b1-83e0-d67a3d6413e7"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"5a45e9d8-8c3a-41b1-83e0-d67a3d6413e7","trace-id":"","span-id":"","time":"2024-04-03T10:23:48+05:00","message":"grpc handler exit"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"5a45e9d8-8c3a-41b1-83e0-d67a3d6413e7","trace-id":"","span-id":"","time":"2024-04-03T10:23:48+05:00","message":"brokerClientStream RecvMsg s.ctx.Done()"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"5a45e9d8-8c3a-41b1-83e0-d67a3d6413e7","trace-id":"","span-id":"","time":"2024-04-03T10:23:48+05:00","message":"brokerClientStream Close method"}
{"level":"info","time":"2024-04-03T10:23:48+05:00","message":"sync failed with RebalanceInProgress, rejoininggroupapigw"}
{"level":"info","time":"2024-04-03T10:23:48+05:00","message":"sync failed with RebalanceInProgress, rejoininggroupapigw"}
{"level":"info","time":"2024-04-03T10:23:48+05:00","message":"joinedgroupapigwmember_idapigw-d85da684-2159-4659-a772-cecf53b5e7c1instance_id<nil>generation15leaderfalse"}
{"level":"info","time":"2024-04-03T10:23:48+05:00","message":"syncinggroupapigwprotocol_typeconsumerprotocolcooperative-sticky"}
{"level":"info","time":"2024-04-03T10:23:48+05:00","message":"joined, balancing groupgroupapigwmember_idapigw-e33eab56-7502-4373-ad7b-7a327edd79ddinstance_id<nil>generation15balance_protocolcooperative-stickyleadertrue"}
{"level":"info","time":"2024-04-03T10:23:48+05:00","message":"balancing group as leader"}
{"level":"info","time":"2024-04-03T10:23:48+05:00","message":"group members indicated interest in topics the leader is not assigned, fetching metadata for all group topics"}
{"level":"info","time":"2024-04-03T10:23:48+05:00","message":"balance group memberidapigw-d85da684-2159-4659-a772-cecf53b5e7c1interestsinterested topics: [apigw.events], previously owned: "}
{"level":"info","time":"2024-04-03T10:23:48+05:00","message":"balance group memberidapigw-e33eab56-7502-4373-ad7b-7a327edd79ddinterestsinterested topics: [apigw.in], previously owned: "}
{"level":"info","time":"2024-04-03T10:23:48+05:00","message":"balancedplanapigw-d85da684-2159-4659-a772-cecf53b5e7c1{apigw.events[0 1 2 3 4]}, apigw-e33eab56-7502-4373-ad7b-7a327edd79dd{apigw.in[0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63]}"}
{"level":"info","time":"2024-04-03T10:23:48+05:00","message":"syncinggroupapigwprotocol_typeconsumerprotocolcooperative-sticky"}
{"level":"info","time":"2024-04-03T10:23:48+05:00","message":"syncedgroupapigwassignedapigw.in[0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63]"}
{"level":"info","time":"2024-04-03T10:23:48+05:00","message":"new group session begungroupapigwaddedapigw.in[0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63]lost"}
{"level":"info","time":"2024-04-03T10:23:48+05:00","message":"beginning heartbeat loopgroupapigw"}
{"level":"info","time":"2024-04-03T10:23:48+05:00","message":"syncedgroupapigwassignedapigw.events[0 1 2 3 4]"}
{"level":"info","time":"2024-04-03T10:23:48+05:00","message":"new group session begungroupapigwaddedapigw.events[0 1 2 3 4]lost"}
{"level":"info","time":"2024-04-03T10:23:48+05:00","message":"beginning heartbeat loopgroupapigw"}
{"level":"info","time":"2024-04-03T10:23:48+05:00","message":"assigning partitionswhynewly fetched offsets for group apigwhowassigning everything new, keeping current assignmentinputapigw.events[1{-2 e-1 ce0} 2{-2 e-1 ce0} 0{-2 e-1 ce0} 3{-2 e-1 ce0} 4{-2 e-1 ce0}]"}
{"level":"info","time":"2024-04-03T10:23:48+05:00","message":"metadata update triggeredwhyloading offsets in new session from assign"}
{"level":"info","time":"2024-04-03T10:23:48+05:00","message":"assigning partitionswhynewly fetched offsets for group apigwhowassigning everything new, keeping current assignmentinputapigw.in[45{2 e0 ce0} 8{6 e0 ce0} 53{9 e0 ce0} 33{1 e0 ce0} 5{39 e0 ce0} 13{28 e0 ce0} 15{327 e0 ce0} 43{1 e0 ce0} 10{-2 e-1 ce0} 12{-2 e-1 ce0} 36{4 e0 ce0} 38{28 e0 ce0} 25{12 e0 ce0} 14{4 e0 ce0} 22{12 e0 ce0} 63{2 e0 ce0} 1{2 e0 ce0} 46{43 e0 ce0} 21{1 e0 ce0} 35{3 e0 ce0} 52{2 e0 ce0} 61{4 e0 ce0} 16{35 e0 ce0} 58{1 e0 ce0} 47{5 e0 ce0} 19{20 e0 ce0} 20{2 e0 ce0} 48{3 e0 ce0} 6{3 e0 ce0} 18{2 e0 ce0} 3{42 e0 ce0} 54{2 e0 ce0} 34{2 e0 ce0} 62{-2 e-1 ce0} 49{6 e0 ce0} 41{1 e0 ce0} 2{3 e0 ce0} 7{109 e0 ce0} 28{-2 e-1 ce0} 51{2 e0 ce0} 55{75 e0 ce0} 11{32 e0 ce0} 4{14 e0 ce0} 39{2 e0 ce0} 30{2 e0 ce0} 17{1 e0 ce0} 37{1 e0 ce0} 32{1 e0 ce0} 23{-2 e-1 ce0} 0{1 e0 ce0} 29{1 e0 ce0} 27{-2 e-1 ce0} 9{1 e0 ce0} 40{10 e0 ce0} 59{1 e0 ce0} 57{3 e0 ce0} 44{1 e0 ce0} 26{7 e0 ce0} 60{46 e0 ce0} 56{42 e0 ce0} 42{6 e0 ce0} 24{49 e0 ce0} 31{-2 e-1 ce0} 50{2 e0 ce0}]"}
{"level":"info","time":"2024-04-03T10:23:48+05:00","message":"metadata update triggeredwhyloading offsets in new session from assign"}
{"level":"info","X-Request-Id":"5a45e9d8-8c3a-41b1-83e0-d67a3d6413e7","trace-id":"","span-id":"","time":"2024-04-03T10:23:49+05:00","message":"get message for service: /clientpass.ClientpassService/StartClientPass with md map[Authorization:Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjA5IiwiZXhwIjoxNzEyOTg1ODIyLCJuYmYiOjE3MTIxMjE4MjIsImlhdCI6MTcxMjEyMTgyMiwianRpIjoiMjVlZTI0N2MtNWJkYy00NzBkLWExYTktNTBkMThiYjQ3ZmU3IiwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbIm1pYl91c2VyIl19LCJjdXN0b20iOnsiY2xpZW50X2lkIjoibWliXzMwX2lvcyIsIm5vbmNlIjoiZWdtdWdhaWtucW55cXhxIiwicGhvbmUiOiIrNzcwMTc3MDkwMjMiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6Ijg5MDQxMDMwMDMwMCJ9fQ.U4ol-d9i-Wmq8-mHUelqAuTwSlMu9E_AYekA6izv4uVD1xqBXzIx8iX5IMgaoHYG9GprkIkVwdGxZC_nGIyaNwoG5E_F3y1x2CDgL9s9-SklhanIc4gIH96PfUEonUWvXwkZB1E_IgQZC3WeRuOsWHSxdiHVqgnVvSR1C9k74dpfzc7sI-mEyhiTabm_ddjYoBcPGNea2UoXAvGb9ED5rKFm11tG2h3KmTzCHFcr53GWLGfa8O7u8weA64pkgtIWW6CxGobMJBerHLKsdcZww2CRfa3Aji111iA_ibUlvTThtbmLsEHz96b4aAvrdDqyXX0UDDxnBwbnr8hn-wyNMg Client-Ip:172.23.20.6 Content-Type:application/grpc Micro-Topic:apigw.in Otp_datetime:1712121822 Phone:+77017709023 Source-Service:/clientpass.ClientpassService/StartClientPass Uber-Trace-Id:10c5f0bc7b2d809a:734ba01fe31ad67d:10c5f0bc7b2d809a:1 User-Id:209 Username:890410300300 X-Forwarded-For:172.23.20.6 X-Forwarded-Port:443 X-Real-Ip:172.23.20.6 X-Request-Id:5a45e9d8-8c3a-41b1-83e0-d67a3d6413e7]"}
{"level":"info","x-request-id":"5a45e9d8-8c3a-41b1-83e0-d67a3d6413e7","trace-id":"","span-id":"","time":"2024-04-03T10:23:49+05:00","message":"get message for service: /clientpass.ClientpassService/StartClientPass"}
{"level":"debug","x-request-id":"5a45e9d8-8c3a-41b1-83e0-d67a3d6413e7","trace-id":"","span-id":"","time":"2024-04-03T10:23:49+05:00","message":"grpcConnGet: /clientpass.ClientpassService/StartClientPass via 5a45e9d8-8c3a-41b1-83e0-d67a3d6413e7"}
{"level":"error","x-request-id":"5a45e9d8-8c3a-41b1-83e0-d67a3d6413e7","trace-id":"","span-id":"","time":"2024-04-03T10:23:49+05:00","message":"failed to find conn"}
{"level":"debug","x-request-id":"c831aecf-2b5b-41f9-8333-ba78f0559fc1","time":"2024-04-03T10:23:49+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"c831aecf-2b5b-41f9-8333-ba78f0559fc1","time":"2024-04-03T10:23:49+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Login"}
{"level":"info","x-request-id":"c831aecf-2b5b-41f9-8333-ba78f0559fc1","time":"2024-04-03T10:23:49+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"c831aecf-2b5b-41f9-8333-ba78f0559fc1","time":"2024-04-03T10:23:49+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"c831aecf-2b5b-41f9-8333-ba78f0559fc1","time":"2024-04-03T10:23:49+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"c831aecf-2b5b-41f9-8333-ba78f0559fc1","time":"2024-04-03T10:23:49+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"c831aecf-2b5b-41f9-8333-ba78f0559fc1","time":"2024-04-03T10:23:49+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"c831aecf-2b5b-41f9-8333-ba78f0559fc1","time":"2024-04-03T10:23:49+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"c831aecf-2b5b-41f9-8333-ba78f0559fc1","time":"2024-04-03T10:23:49+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"c831aecf-2b5b-41f9-8333-ba78f0559fc1","time":"2024-04-03T10:23:49+05:00","message":"jwt.extract jwt claims empty"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c831aecf-2b5b-41f9-8333-ba78f0559fc1","trace-id":"","span-id":"","time":"2024-04-03T10:23:49+05:00","message":"grpc request with md: metadata.MD{\":authority\":[]string{\"upstream_balancer\"}, \":path\":[]string{\"/authn.AuthnService/Login\"}, \"client-ip\":[]string{\"172.23.20.6\"}, \"content-type\":[]string{\"application/grpc\"}, \"grpc-accept-encoding\":[]string{\"identity, deflate, gzip\"}, \"source-service\":[]string{\"/authn.AuthnService/Login\"}, \"user-agent\":[]string{\"grpc-python/1.59.0 grpc-c/36.0.0 (osx; chttp2)\"}, \"x-forwarded-for\":[]string{\"172.23.20.6\"}, \"x-forwarded-host\":[]string{\"dev-apigw-grpc.fortebank.com:443\"}, \"x-forwarded-port\":[]string{\"443\"}, \"x-forwarded-proto\":[]string{\"https\"}, \"x-forwarded-scheme\":[]string{\"https\"}, \"x-real-ip\":[]string{\"172.23.20.6\"}, \"x-request-id\":[]string{\"c831aecf-2b5b-41f9-8333-ba78f0559fc1\"}, \"x-scheme\":[]string{\"https\"}}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c831aecf-2b5b-41f9-8333-ba78f0559fc1","trace-id":"","span-id":"","time":"2024-04-03T10:23:49+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c831aecf-2b5b-41f9-8333-ba78f0559fc1","trace-id":"","span-id":"","time":"2024-04-03T10:23:49+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c831aecf-2b5b-41f9-8333-ba78f0559fc1","trace-id":"","span-id":"","time":"2024-04-03T10:23:49+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c831aecf-2b5b-41f9-8333-ba78f0559fc1","trace-id":"","span-id":"","time":"2024-04-03T10:23:49+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c831aecf-2b5b-41f9-8333-ba78f0559fc1","trace-id":"","span-id":"","time":"2024-04-03T10:23:49+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c831aecf-2b5b-41f9-8333-ba78f0559fc1","trace-id":"","span-id":"","time":"2024-04-03T10:23:49+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c831aecf-2b5b-41f9-8333-ba78f0559fc1","trace-id":"","span-id":"","time":"2024-04-03T10:23:49+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c831aecf-2b5b-41f9-8333-ba78f0559fc1","trace-id":"","span-id":"","time":"2024-04-03T10:23:49+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c831aecf-2b5b-41f9-8333-ba78f0559fc1","trace-id":"","span-id":"","time":"2024-04-03T10:23:49+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c831aecf-2b5b-41f9-8333-ba78f0559fc1","trace-id":"","span-id":"","time":"2024-04-03T10:23:49+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c831aecf-2b5b-41f9-8333-ba78f0559fc1","trace-id":"","span-id":"","time":"2024-04-03T10:23:49+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c831aecf-2b5b-41f9-8333-ba78f0559fc1","trace-id":"","span-id":"","time":"2024-04-03T10:23:49+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c831aecf-2b5b-41f9-8333-ba78f0559fc1","trace-id":"","span-id":"","time":"2024-04-03T10:23:49+05:00","message":"forwardBackendToClient src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c831aecf-2b5b-41f9-8333-ba78f0559fc1","trace-id":"","span-id":"","time":"2024-04-03T10:23:49+05:00","message":"forwardBackendToClient set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c831aecf-2b5b-41f9-8333-ba78f0559fc1","trace-id":"","span-id":"","time":"2024-04-03T10:23:49+05:00","message":"forwardBackendToClient src.Header"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c831aecf-2b5b-41f9-8333-ba78f0559fc1","trace-id":"","span-id":"","time":"2024-04-03T10:23:49+05:00","message":"forwardBackendToClient dst.SetHeader"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c831aecf-2b5b-41f9-8333-ba78f0559fc1","trace-id":"","span-id":"","time":"2024-04-03T10:23:49+05:00","message":"forwardBackendToClient try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c831aecf-2b5b-41f9-8333-ba78f0559fc1","trace-id":"","span-id":"","time":"2024-04-03T10:23:49+05:00","message":"forwardBackendToClient dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c831aecf-2b5b-41f9-8333-ba78f0559fc1","trace-id":"","span-id":"","time":"2024-04-03T10:23:49+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c831aecf-2b5b-41f9-8333-ba78f0559fc1","trace-id":"","span-id":"","time":"2024-04-03T10:23:49+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c831aecf-2b5b-41f9-8333-ba78f0559fc1","trace-id":"","span-id":"","time":"2024-04-03T10:23:49+05:00","message":"forwardBackendToClient src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c831aecf-2b5b-41f9-8333-ba78f0559fc1","trace-id":"","span-id":"","time":"2024-04-03T10:23:49+05:00","message":"b2cErr := <-b2cErrChan: err: EOF"}
{"level":"debug","x-request-id":"e814912b-627a-43b2-a682-934a883f888f","time":"2024-04-03T10:23:51+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"e814912b-627a-43b2-a682-934a883f888f","time":"2024-04-03T10:23:51+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Login"}
{"level":"info","x-request-id":"e814912b-627a-43b2-a682-934a883f888f","time":"2024-04-03T10:23:51+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"e814912b-627a-43b2-a682-934a883f888f","time":"2024-04-03T10:23:51+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"e814912b-627a-43b2-a682-934a883f888f","time":"2024-04-03T10:23:51+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"e814912b-627a-43b2-a682-934a883f888f","time":"2024-04-03T10:23:51+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"e814912b-627a-43b2-a682-934a883f888f","time":"2024-04-03T10:23:51+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"e814912b-627a-43b2-a682-934a883f888f","time":"2024-04-03T10:23:51+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"e814912b-627a-43b2-a682-934a883f888f","time":"2024-04-03T10:23:51+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"e814912b-627a-43b2-a682-934a883f888f","time":"2024-04-03T10:23:51+05:00","message":"jwt.extract jwt claims empty"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e814912b-627a-43b2-a682-934a883f888f","trace-id":"","span-id":"","time":"2024-04-03T10:23:51+05:00","message":"grpc request with md: metadata.MD{\":authority\":[]string{\"upstream_balancer\"}, \":path\":[]string{\"/authn.AuthnService/Login\"}, \"client-ip\":[]string{\"172.23.20.6\"}, \"content-type\":[]string{\"application/grpc\"}, \"grpc-accept-encoding\":[]string{\"identity, deflate, gzip\"}, \"source-service\":[]string{\"/authn.AuthnService/Login\"}, \"user-agent\":[]string{\"grpc-python/1.59.0 grpc-c/36.0.0 (osx; chttp2)\"}, \"x-forwarded-for\":[]string{\"172.23.20.6\"}, \"x-forwarded-host\":[]string{\"dev-apigw-grpc.fortebank.com:443\"}, \"x-forwarded-port\":[]string{\"443\"}, \"x-forwarded-proto\":[]string{\"https\"}, \"x-forwarded-scheme\":[]string{\"https\"}, \"x-real-ip\":[]string{\"172.23.20.6\"}, \"x-request-id\":[]string{\"e814912b-627a-43b2-a682-934a883f888f\"}, \"x-scheme\":[]string{\"https\"}}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e814912b-627a-43b2-a682-934a883f888f","trace-id":"","span-id":"","time":"2024-04-03T10:23:51+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e814912b-627a-43b2-a682-934a883f888f","trace-id":"","span-id":"","time":"2024-04-03T10:23:51+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e814912b-627a-43b2-a682-934a883f888f","trace-id":"","span-id":"","time":"2024-04-03T10:23:51+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e814912b-627a-43b2-a682-934a883f888f","trace-id":"","span-id":"","time":"2024-04-03T10:23:51+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e814912b-627a-43b2-a682-934a883f888f","trace-id":"","span-id":"","time":"2024-04-03T10:23:51+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e814912b-627a-43b2-a682-934a883f888f","trace-id":"","span-id":"","time":"2024-04-03T10:23:51+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e814912b-627a-43b2-a682-934a883f888f","trace-id":"","span-id":"","time":"2024-04-03T10:23:51+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e814912b-627a-43b2-a682-934a883f888f","trace-id":"","span-id":"","time":"2024-04-03T10:23:51+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e814912b-627a-43b2-a682-934a883f888f","trace-id":"","span-id":"","time":"2024-04-03T10:23:51+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e814912b-627a-43b2-a682-934a883f888f","trace-id":"","span-id":"","time":"2024-04-03T10:23:51+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e814912b-627a-43b2-a682-934a883f888f","trace-id":"","span-id":"","time":"2024-04-03T10:23:51+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e814912b-627a-43b2-a682-934a883f888f","trace-id":"","span-id":"","time":"2024-04-03T10:23:51+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e814912b-627a-43b2-a682-934a883f888f","trace-id":"","span-id":"","time":"2024-04-03T10:23:51+05:00","message":"forwardBackendToClient src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e814912b-627a-43b2-a682-934a883f888f","trace-id":"","span-id":"","time":"2024-04-03T10:23:51+05:00","message":"forwardBackendToClient set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e814912b-627a-43b2-a682-934a883f888f","trace-id":"","span-id":"","time":"2024-04-03T10:23:51+05:00","message":"forwardBackendToClient src.Header"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e814912b-627a-43b2-a682-934a883f888f","trace-id":"","span-id":"","time":"2024-04-03T10:23:51+05:00","message":"forwardBackendToClient dst.SetHeader"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e814912b-627a-43b2-a682-934a883f888f","trace-id":"","span-id":"","time":"2024-04-03T10:23:51+05:00","message":"forwardBackendToClient try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e814912b-627a-43b2-a682-934a883f888f","trace-id":"","span-id":"","time":"2024-04-03T10:23:51+05:00","message":"forwardBackendToClient dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e814912b-627a-43b2-a682-934a883f888f","trace-id":"","span-id":"","time":"2024-04-03T10:23:51+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e814912b-627a-43b2-a682-934a883f888f","trace-id":"","span-id":"","time":"2024-04-03T10:23:51+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e814912b-627a-43b2-a682-934a883f888f","trace-id":"","span-id":"","time":"2024-04-03T10:23:51+05:00","message":"forwardBackendToClient src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e814912b-627a-43b2-a682-934a883f888f","trace-id":"","span-id":"","time":"2024-04-03T10:23:51+05:00","message":"b2cErr := <-b2cErrChan: err: EOF"}
{"level":"debug","x-request-id":"baabb088-5768-4c39-8ef1-b8b104c1a6a4","time":"2024-04-03T10:23:51+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"baabb088-5768-4c39-8ef1-b8b104c1a6a4","time":"2024-04-03T10:23:51+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Token"}
{"level":"info","x-request-id":"baabb088-5768-4c39-8ef1-b8b104c1a6a4","time":"2024-04-03T10:23:51+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"baabb088-5768-4c39-8ef1-b8b104c1a6a4","time":"2024-04-03T10:23:51+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"baabb088-5768-4c39-8ef1-b8b104c1a6a4","time":"2024-04-03T10:23:51+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"baabb088-5768-4c39-8ef1-b8b104c1a6a4","time":"2024-04-03T10:23:51+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"baabb088-5768-4c39-8ef1-b8b104c1a6a4","time":"2024-04-03T10:23:51+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"baabb088-5768-4c39-8ef1-b8b104c1a6a4","time":"2024-04-03T10:23:51+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"baabb088-5768-4c39-8ef1-b8b104c1a6a4","time":"2024-04-03T10:23:51+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"baabb088-5768-4c39-8ef1-b8b104c1a6a4","time":"2024-04-03T10:23:51+05:00","message":"jwt.extract jwt claims empty"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"baabb088-5768-4c39-8ef1-b8b104c1a6a4","trace-id":"","span-id":"","time":"2024-04-03T10:23:51+05:00","message":"grpc request with md: metadata.MD{\":authority\":[]string{\"upstream_balancer\"}, \":path\":[]string{\"/authn.AuthnService/Token\"}, \"client-ip\":[]string{\"172.23.20.6\"}, \"content-type\":[]string{\"application/grpc\"}, \"grpc-accept-encoding\":[]string{\"identity, deflate, gzip\"}, \"source-service\":[]string{\"/authn.AuthnService/Token\"}, \"user-agent\":[]string{\"grpc-python/1.59.0 grpc-c/36.0.0 (osx; chttp2)\"}, \"x-forwarded-for\":[]string{\"172.23.20.6\"}, \"x-forwarded-host\":[]string{\"dev-apigw-grpc.fortebank.com:443\"}, \"x-forwarded-port\":[]string{\"443\"}, \"x-forwarded-proto\":[]string{\"https\"}, \"x-forwarded-scheme\":[]string{\"https\"}, \"x-real-ip\":[]string{\"172.23.20.6\"}, \"x-request-id\":[]string{\"baabb088-5768-4c39-8ef1-b8b104c1a6a4\"}, \"x-scheme\":[]string{\"https\"}}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"baabb088-5768-4c39-8ef1-b8b104c1a6a4","trace-id":"","span-id":"","time":"2024-04-03T10:23:51+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"baabb088-5768-4c39-8ef1-b8b104c1a6a4","trace-id":"","span-id":"","time":"2024-04-03T10:23:51+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"baabb088-5768-4c39-8ef1-b8b104c1a6a4","trace-id":"","span-id":"","time":"2024-04-03T10:23:51+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"baabb088-5768-4c39-8ef1-b8b104c1a6a4","trace-id":"","span-id":"","time":"2024-04-03T10:23:51+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"baabb088-5768-4c39-8ef1-b8b104c1a6a4","trace-id":"","span-id":"","time":"2024-04-03T10:23:51+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"baabb088-5768-4c39-8ef1-b8b104c1a6a4","trace-id":"","span-id":"","time":"2024-04-03T10:23:51+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"baabb088-5768-4c39-8ef1-b8b104c1a6a4","trace-id":"","span-id":"","time":"2024-04-03T10:23:51+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"baabb088-5768-4c39-8ef1-b8b104c1a6a4","trace-id":"","span-id":"","time":"2024-04-03T10:23:51+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"baabb088-5768-4c39-8ef1-b8b104c1a6a4","trace-id":"","span-id":"","time":"2024-04-03T10:23:51+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"baabb088-5768-4c39-8ef1-b8b104c1a6a4","trace-id":"","span-id":"","time":"2024-04-03T10:23:51+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"baabb088-5768-4c39-8ef1-b8b104c1a6a4","trace-id":"","span-id":"","time":"2024-04-03T10:23:51+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"baabb088-5768-4c39-8ef1-b8b104c1a6a4","trace-id":"","span-id":"","time":"2024-04-03T10:23:51+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"baabb088-5768-4c39-8ef1-b8b104c1a6a4","trace-id":"","span-id":"","time":"2024-04-03T10:23:51+05:00","message":"forwardBackendToClient src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"baabb088-5768-4c39-8ef1-b8b104c1a6a4","trace-id":"","span-id":"","time":"2024-04-03T10:23:51+05:00","message":"forwardBackendToClient set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"baabb088-5768-4c39-8ef1-b8b104c1a6a4","trace-id":"","span-id":"","time":"2024-04-03T10:23:51+05:00","message":"forwardBackendToClient src.Header"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"baabb088-5768-4c39-8ef1-b8b104c1a6a4","trace-id":"","span-id":"","time":"2024-04-03T10:23:51+05:00","message":"forwardBackendToClient dst.SetHeader"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"baabb088-5768-4c39-8ef1-b8b104c1a6a4","trace-id":"","span-id":"","time":"2024-04-03T10:23:51+05:00","message":"forwardBackendToClient try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"baabb088-5768-4c39-8ef1-b8b104c1a6a4","trace-id":"","span-id":"","time":"2024-04-03T10:23:51+05:00","message":"forwardBackendToClient dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"baabb088-5768-4c39-8ef1-b8b104c1a6a4","trace-id":"","span-id":"","time":"2024-04-03T10:23:51+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"baabb088-5768-4c39-8ef1-b8b104c1a6a4","trace-id":"","span-id":"","time":"2024-04-03T10:23:51+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"baabb088-5768-4c39-8ef1-b8b104c1a6a4","trace-id":"","span-id":"","time":"2024-04-03T10:23:51+05:00","message":"forwardBackendToClient src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"baabb088-5768-4c39-8ef1-b8b104c1a6a4","trace-id":"","span-id":"","time":"2024-04-03T10:23:51+05:00","message":"b2cErr := <-b2cErrChan: err: EOF"}
{"level":"debug","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","time":"2024-04-03T10:23:53+05:00","message":"authn.cookie not found"}
{"level":"debug","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","time":"2024-04-03T10:23:53+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","time":"2024-04-03T10:23:53+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ruqywzexmntjufz\", \"phone\":\"+77053332900\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"801124300133\"}, \"exp\":1.712985831e+09, \"iat\":1.712121831e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"103b6755-e59a-4bcb-ac49-0a83b9a93c57\", \"nbf\":1.712121831e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"1085\"}"}
{"level":"info","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","time":"2024-04-03T10:23:53+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","time":"2024-04-03T10:23:53+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ruqywzexmntjufz\", \"phone\":\"+77053332900\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"801124300133\"}, \"exp\":1.712985831e+09, \"iat\":1.712121831e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"103b6755-e59a-4bcb-ac49-0a83b9a93c57\", \"nbf\":1.712121831e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"1085\"}"}
{"level":"info","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","time":"2024-04-03T10:23:53+05:00","message":"jwt.extract set User-Id to 1085"}
{"level":"info","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","time":"2024-04-03T10:23:53+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","time":"2024-04-03T10:23:53+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ruqywzexmntjufz\", \"phone\":\"+77053332900\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"801124300133\"}, \"exp\":1.712985831e+09, \"iat\":1.712121831e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"103b6755-e59a-4bcb-ac49-0a83b9a93c57\", \"nbf\":1.712121831e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"1085\"}"}
{"level":"info","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","time":"2024-04-03T10:23:53+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","time":"2024-04-03T10:23:53+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ruqywzexmntjufz\", \"phone\":\"+77053332900\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"801124300133\"}, \"exp\":1.712985831e+09, \"iat\":1.712121831e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"103b6755-e59a-4bcb-ac49-0a83b9a93c57\", \"nbf\":1.712121831e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"1085\"}"}
{"level":"info","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","time":"2024-04-03T10:23:53+05:00","message":"jwt.extract set Username to 801124300133"}
{"level":"info","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","time":"2024-04-03T10:23:53+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","time":"2024-04-03T10:23:53+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ruqywzexmntjufz\", \"phone\":\"+77053332900\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"801124300133\"}, \"exp\":1.712985831e+09, \"iat\":1.712121831e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"103b6755-e59a-4bcb-ac49-0a83b9a93c57\", \"nbf\":1.712121831e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"1085\"}"}
{"level":"info","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","time":"2024-04-03T10:23:53+05:00","message":"jwt.extract set Phone to +77053332900"}
{"level":"info","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","time":"2024-04-03T10:23:53+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","time":"2024-04-03T10:23:53+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ruqywzexmntjufz\", \"phone\":\"+77053332900\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"801124300133\"}, \"exp\":1.712985831e+09, \"iat\":1.712121831e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"103b6755-e59a-4bcb-ac49-0a83b9a93c57\", \"nbf\":1.712121831e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"1085\"}"}
{"level":"info","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","time":"2024-04-03T10:23:53+05:00","message":"jwt.extract set otp_datetime to 1712121831"}
{"level":"info","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","time":"2024-04-03T10:23:53+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","time":"2024-04-03T10:23:53+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ruqywzexmntjufz\", \"phone\":\"+77053332900\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"801124300133\"}, \"exp\":1.712985831e+09, \"iat\":1.712121831e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"103b6755-e59a-4bcb-ac49-0a83b9a93c57\", \"nbf\":1.712121831e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"1085\"}"}
{"level":"info","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","time":"2024-04-03T10:23:53+05:00","message":"jwt.extract set username to 801124300133"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"grpcConnAdd /clientpass.ClientpassService/StartClientPass c0d8a3ff-6445-4fcb-b558-7b124da2f690"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"brokerClientStream brokerClientStream SendMsg method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"brokerClientStream try to publish to client.clientpass.startclientpass.in msg with hdr: metadata.Metadata{\"Authorization\":\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMTA4NSIsImV4cCI6MTcxMjk4NTgzMSwibmJmIjoxNzEyMTIxODMxLCJpYXQiOjE3MTIxMjE4MzEsImp0aSI6IjEwM2I2NzU1LWU1OWEtNGJjYi1hYzQ5LTBhODNiOWE5M2M1NyIsInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJtaWJfdXNlciJdfSwiY3VzdG9tIjp7ImNsaWVudF9pZCI6Im1pYl8zMF9hbmRyb2lkIiwibm9uY2UiOiJydXF5d3pleG1udGp1ZnoiLCJwaG9uZSI6Iis3NzA1MzMzMjkwMCIsInNjb3BlIjoib2ZmbGluZV9hY2Nlc3MiLCJ0b2tlbl90eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcl9hY3Rpb24iOiJyZWdpc3RyYXRpb24iLCJ1c2VyX3JvbGVzIjpbIm1pYl91c2VyIl0sInVzZXJuYW1lIjoiODAxMTI0MzAwMTMzIn19.s6GRPKy7ND7NmHq4QtEMhEDUT16IByET8YFuYGHDgcpyN4EMzA2vpBFF1haeSD_5BtmXDycDO64oFF_LYYWwqjAOStxixTHEHCzicyAsbgk6hkuL62Avqld6X43yXibXyXsnIhX3wweCkrR3AmdbOBxg2uELtdHfYqJNvJzGn16gH5DTdTPD-vkOpd49Rr3EW-wyUBo_k_nekjgczFp3MOPFoaNCaDEPvDaTTw_4mSSHw1gaErEX4pHv37sRbxi6PejMnD5mNMuUjkYqip-UveQXTraSKS4TyvIkoB_hjx2ktpD5wYbyJKiVo2-FdhqJEc6pIpLnwqmKLBP3RYlxhA\", \"Client-Ip\":\"172.23.20.6\", \"Content-Type\":\"application/grpc\", \"Otp_datetime\":\"1712121831\", \"Phone\":\"+77053332900\", \"Source-Service\":\"/clientpass.ClientpassService/StartClientPass\", \"User-Id\":\"1085\", \"Username\":\"801124300133\", \"X-Forwarded-For\":\"172.23.20.6\", \"X-Forwarded-Port\":\"443\", \"X-Real-Ip\":\"172.23.20.6\", \"X-Request-Id\":\"c0d8a3ff-6445-4fcb-b558-7b124da2f690\"}"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"brokerClientStream CloseSend method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"brokerClientStream CloseSend method"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"failed to CloseSend grpc conn: file already closed"}
{"level":"info","X-Request-Id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"get message for service: /clientpass.ClientpassService/StartClientPass with md map[Authorization:Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMTA4NSIsImV4cCI6MTcxMjk4NTgzMSwibmJmIjoxNzEyMTIxODMxLCJpYXQiOjE3MTIxMjE4MzEsImp0aSI6IjEwM2I2NzU1LWU1OWEtNGJjYi1hYzQ5LTBhODNiOWE5M2M1NyIsInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJtaWJfdXNlciJdfSwiY3VzdG9tIjp7ImNsaWVudF9pZCI6Im1pYl8zMF9hbmRyb2lkIiwibm9uY2UiOiJydXF5d3pleG1udGp1ZnoiLCJwaG9uZSI6Iis3NzA1MzMzMjkwMCIsInNjb3BlIjoib2ZmbGluZV9hY2Nlc3MiLCJ0b2tlbl90eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcl9hY3Rpb24iOiJyZWdpc3RyYXRpb24iLCJ1c2VyX3JvbGVzIjpbIm1pYl91c2VyIl0sInVzZXJuYW1lIjoiODAxMTI0MzAwMTMzIn19.s6GRPKy7ND7NmHq4QtEMhEDUT16IByET8YFuYGHDgcpyN4EMzA2vpBFF1haeSD_5BtmXDycDO64oFF_LYYWwqjAOStxixTHEHCzicyAsbgk6hkuL62Avqld6X43yXibXyXsnIhX3wweCkrR3AmdbOBxg2uELtdHfYqJNvJzGn16gH5DTdTPD-vkOpd49Rr3EW-wyUBo_k_nekjgczFp3MOPFoaNCaDEPvDaTTw_4mSSHw1gaErEX4pHv37sRbxi6PejMnD5mNMuUjkYqip-UveQXTraSKS4TyvIkoB_hjx2ktpD5wYbyJKiVo2-FdhqJEc6pIpLnwqmKLBP3RYlxhA Client-Ip:172.23.20.6 Content-Type:application/grpc Micro-Topic:apigw.in Otp_datetime:1712121831 Phone:+77053332900 Source-Service:/clientpass.ClientpassService/StartClientPass Uber-Trace-Id:005685198fa1df08:005685198fa1df08:0000000000000000:1 User-Id:1085 Username:801124300133 X-Forwarded-For:172.23.20.6 X-Forwarded-Port:443 X-Real-Ip:172.23.20.6 X-Request-Id:c0d8a3ff-6445-4fcb-b558-7b124da2f690]"}
{"level":"info","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"get message for service: /clientpass.ClientpassService/StartClientPass"}
{"level":"debug","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"grpcConnGet: /clientpass.ClientpassService/StartClientPass via c0d8a3ff-6445-4fcb-b558-7b124da2f690"}
{"level":"debug","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"grpc use stream conn: &handler.grpcProxy{grpcStream:(*handler.grpcServerStream)(0xc0001380b0), kafkaStream:(*handler.grpcClientStream)(0xc000138210)} sourceService: /clientpass.ClientpassService/StartClientPass"}
{"level":"info","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"start transfer response from kafka"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"brokerClientStream SetHeader method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"brokerClientStream SetMsg method"}
{"level":"info","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"stop transfer response from kafka"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"brokerClientStream RecvMsg method data"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"forwardBackendToClient src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"forwardBackendToClient set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"forwardBackendToClient src.Header"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"brokerClientStream Header method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"forwardBackendToClient dst.SetHeader"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"forwardBackendToClient try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"forwardBackendToClient dst.SendMsg err <nil>"}
==================
WARNING: DATA RACE
Write at 0x00c00032d890 by goroutine 910:
  runtime.mapassign_faststr()
      /usr/local/go/src/runtime/map_faststr.go:203 +0x0
  go.unistack.org/micro-meter-prometheus/v3.(*prometheusMeter).Counter()
      /go/pkg/mod/go.unistack.org/micro-meter-prometheus/v3@v3.8.6/prometheus.go:140 +0x56c
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.serverResponseMetrics()
      /build/internal/handler/grpc_copy.go:355 +0x1a1
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.serverResponseMetricsSuccess()
      /build/internal/handler/grpc_copy.go:346 +0x1ea
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.forwardBackendToClient.func1()
      /build/internal/handler/grpc_copy.go:225 +0x188

Previous read at 0x00c00032d890 by goroutine 925:
  runtime.mapaccess2_faststr()
      /usr/local/go/src/runtime/map_faststr.go:108 +0x0
  go.unistack.org/micro-meter-prometheus/v3.(*prometheusMeter).Counter()
      /go/pkg/mod/go.unistack.org/micro-meter-prometheus/v3@v3.8.6/prometheus.go:127 +0x2ec
  go.unistack.org/micro-broker-kgo/v3.(*hookMeter).OnBrokerWrite()
      /go/pkg/mod/go.unistack.org/micro-broker-kgo/v3@v3.8.17/meter.go:81 +0x2c2
  github.com/twmb/franz-go/pkg/kgo.(*brokerCxn).writeRequest.func1()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/broker.go:1035 +0x225
  github.com/twmb/franz-go/pkg/kgo.hooks.each()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/hooks.go:32 +0xa59
  github.com/twmb/franz-go/pkg/kgo.(*brokerCxn).writeRequest()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/broker.go:1033 +0x79f
  github.com/twmb/franz-go/pkg/kgo.(*broker).handleReq()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/broker.go:441 +0x11cc
  github.com/twmb/franz-go/pkg/kgo.(*broker).handleReqs()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/broker.go:286 +0xfb
  github.com/twmb/franz-go/pkg/kgo.(*broker).do.gowrap1()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/broker.go:260 +0xab

Goroutine 910 (running) created at:
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.forwardBackendToClient.func2()
      /build/internal/handler/grpc_copy.go:235 +0x2e
  runtime/pprof.Do()
      /usr/local/go/src/runtime/pprof/runtime.go:51 +0x117
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.forwardBackendToClient()
      /build/internal/handler/grpc_copy.go:234 +0x945
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.GRPCCopy()
      /build/internal/handler/grpc_copy.go:40 +0x473
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.(*HTTPHandlerSwapper).ServeGRPC()
      /build/internal/handler/handler.go:540 +0x4158
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.(*HTTPHandlerSwapper).ServeGRPC-fm()
      <autogenerated>:1 +0x64
  go.unistack.org/micro-server-grpc/v3.(*Server).handler()
      /go/pkg/mod/go.unistack.org/micro-server-grpc/v3@v3.10.13/grpc.go:306 +0x183b
  go.unistack.org/micro-server-grpc/v3.(*Server).handler-fm()
      <autogenerated>:1 +0x64
  google.golang.org/grpc.(*Server).processStreamingRPC()
      /go/pkg/mod/google.golang.org/grpc@v1.62.1/server.go:1680 +0x1fd9
  google.golang.org/grpc.(*Server).handleStream()
      /go/pkg/mod/google.golang.org/grpc@v1.62.1/server.go:1807 +0x1755
  google.golang.org/grpc.(*Server).serveStreams.func2.1()
      /go/pkg/mod/google.golang.org/grpc@v1.62.1/server.go:1027 +0x158

Goroutine 925 (finished) created at:
  github.com/twmb/franz-go/pkg/kgo.(*broker).do()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/broker.go:260 +0x2e4
  github.com/twmb/franz-go/pkg/kgo.(*source).fetch()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/source.go:740 +0x491
  github.com/twmb/franz-go/pkg/kgo.(*source).loopFetch()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/source.go:657 +0x4c6
  github.com/twmb/franz-go/pkg/kgo.(*source).maybeConsume.gowrap1()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/source.go:587 +0x33
==================
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"brokerClientStream Close method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"brokerClientStream RecvMsg method !s.serverStream && s.recvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"forwardBackendToClient src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"b2cErr := <-b2cErrChan: err: EOF"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"brokerClientStream Trailer method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"grpcConnDel /clientpass.ClientpassService/StartClientPass c0d8a3ff-6445-4fcb-b558-7b124da2f690"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"c0d8a3ff-6445-4fcb-b558-7b124da2f690","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"grpc handler exit"}
{"level":"debug","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","time":"2024-04-03T10:23:53+05:00","message":"authn.cookie not found"}
{"level":"debug","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","time":"2024-04-03T10:23:53+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","time":"2024-04-03T10:23:53+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ruqywzexmntjufz\", \"phone\":\"+77053332900\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"801124300133\"}, \"exp\":1.712985831e+09, \"iat\":1.712121831e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"103b6755-e59a-4bcb-ac49-0a83b9a93c57\", \"nbf\":1.712121831e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"1085\"}"}
{"level":"info","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","time":"2024-04-03T10:23:53+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","time":"2024-04-03T10:23:53+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ruqywzexmntjufz\", \"phone\":\"+77053332900\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"801124300133\"}, \"exp\":1.712985831e+09, \"iat\":1.712121831e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"103b6755-e59a-4bcb-ac49-0a83b9a93c57\", \"nbf\":1.712121831e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"1085\"}"}
{"level":"info","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","time":"2024-04-03T10:23:53+05:00","message":"jwt.extract set User-Id to 1085"}
{"level":"info","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","time":"2024-04-03T10:23:53+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","time":"2024-04-03T10:23:53+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ruqywzexmntjufz\", \"phone\":\"+77053332900\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"801124300133\"}, \"exp\":1.712985831e+09, \"iat\":1.712121831e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"103b6755-e59a-4bcb-ac49-0a83b9a93c57\", \"nbf\":1.712121831e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"1085\"}"}
{"level":"info","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","time":"2024-04-03T10:23:53+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","time":"2024-04-03T10:23:53+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ruqywzexmntjufz\", \"phone\":\"+77053332900\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"801124300133\"}, \"exp\":1.712985831e+09, \"iat\":1.712121831e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"103b6755-e59a-4bcb-ac49-0a83b9a93c57\", \"nbf\":1.712121831e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"1085\"}"}
{"level":"info","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","time":"2024-04-03T10:23:53+05:00","message":"jwt.extract set Username to 801124300133"}
{"level":"info","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","time":"2024-04-03T10:23:53+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","time":"2024-04-03T10:23:53+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ruqywzexmntjufz\", \"phone\":\"+77053332900\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"801124300133\"}, \"exp\":1.712985831e+09, \"iat\":1.712121831e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"103b6755-e59a-4bcb-ac49-0a83b9a93c57\", \"nbf\":1.712121831e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"1085\"}"}
{"level":"info","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","time":"2024-04-03T10:23:53+05:00","message":"jwt.extract set Phone to +77053332900"}
{"level":"info","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","time":"2024-04-03T10:23:53+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","time":"2024-04-03T10:23:53+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ruqywzexmntjufz\", \"phone\":\"+77053332900\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"801124300133\"}, \"exp\":1.712985831e+09, \"iat\":1.712121831e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"103b6755-e59a-4bcb-ac49-0a83b9a93c57\", \"nbf\":1.712121831e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"1085\"}"}
{"level":"info","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","time":"2024-04-03T10:23:53+05:00","message":"jwt.extract set username to 801124300133"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"grpcConnAdd /clientpass.ClientpassService/OnboardingPass feed1ccf-d14a-44cd-8587-796646abef32"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"brokerClientStream brokerClientStream SendMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"brokerClientStream try to publish to client.clientpass.onboarding.in msg with hdr: metadata.Metadata{\"Authorization\":\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMTA4NSIsImV4cCI6MTcxMjk4NTgzMSwibmJmIjoxNzEyMTIxODMxLCJpYXQiOjE3MTIxMjE4MzEsImp0aSI6IjEwM2I2NzU1LWU1OWEtNGJjYi1hYzQ5LTBhODNiOWE5M2M1NyIsInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJtaWJfdXNlciJdfSwiY3VzdG9tIjp7ImNsaWVudF9pZCI6Im1pYl8zMF9hbmRyb2lkIiwibm9uY2UiOiJydXF5d3pleG1udGp1ZnoiLCJwaG9uZSI6Iis3NzA1MzMzMjkwMCIsInNjb3BlIjoib2ZmbGluZV9hY2Nlc3MiLCJ0b2tlbl90eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcl9hY3Rpb24iOiJyZWdpc3RyYXRpb24iLCJ1c2VyX3JvbGVzIjpbIm1pYl91c2VyIl0sInVzZXJuYW1lIjoiODAxMTI0MzAwMTMzIn19.s6GRPKy7ND7NmHq4QtEMhEDUT16IByET8YFuYGHDgcpyN4EMzA2vpBFF1haeSD_5BtmXDycDO64oFF_LYYWwqjAOStxixTHEHCzicyAsbgk6hkuL62Avqld6X43yXibXyXsnIhX3wweCkrR3AmdbOBxg2uELtdHfYqJNvJzGn16gH5DTdTPD-vkOpd49Rr3EW-wyUBo_k_nekjgczFp3MOPFoaNCaDEPvDaTTw_4mSSHw1gaErEX4pHv37sRbxi6PejMnD5mNMuUjkYqip-UveQXTraSKS4TyvIkoB_hjx2ktpD5wYbyJKiVo2-FdhqJEc6pIpLnwqmKLBP3RYlxhA\", \"Client-Ip\":\"172.23.20.6\", \"Content-Type\":\"application/grpc\", \"Phone\":\"+77053332900\", \"Source-Service\":\"/clientpass.ClientpassService/OnboardingPass\", \"User-Id\":\"1085\", \"Username\":\"801124300133\", \"X-Forwarded-For\":\"172.23.20.6\", \"X-Forwarded-Port\":\"443\", \"X-Real-Ip\":\"172.23.20.6\", \"X-Request-Id\":\"feed1ccf-d14a-44cd-8587-796646abef32\"}"}
{"level":"info","time":"2024-04-03T10:23:53+05:00","message":"producing to a new topic for the first time, fetching metadata to learn its partitionstopicclient.clientpass.onboarding.in"}
{"level":"info","time":"2024-04-03T10:23:53+05:00","message":"immediate metadata update triggeredwhyforced load because we are producing to a topic for the first time"}
{"level":"info","time":"2024-04-03T10:23:53+05:00","message":"done waiting for metadata for new topictopicclient.clientpass.onboarding.in"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"brokerClientStream CloseSend method"}
==================
WARNING: DATA RACE
Read at 0x00c00032d890 by goroutine 937:
  runtime.mapaccess2_faststr()
      /usr/local/go/src/runtime/map_faststr.go:108 +0x0
  go.unistack.org/micro-meter-prometheus/v3.(*prometheusMeter).Counter()
      /go/pkg/mod/go.unistack.org/micro-meter-prometheus/v3@v3.8.6/prometheus.go:127 +0x2ec
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.forwardClientToBackend.func1()
      /build/internal/handler/grpc_copy.go:325 +0xac2

Previous write at 0x00c00032d890 by goroutine 957:
  runtime.mapassign_faststr()
      /usr/local/go/src/runtime/map_faststr.go:203 +0x0
  go.unistack.org/micro-meter-prometheus/v3.(*prometheusMeter).Counter()
      /go/pkg/mod/go.unistack.org/micro-meter-prometheus/v3@v3.8.6/prometheus.go:140 +0x56c
  go.unistack.org/micro-broker-kgo/v3.(*hookMeter).OnProduceBatchWritten()
      /go/pkg/mod/go.unistack.org/micro-broker-kgo/v3@v3.8.17/meter.go:106 +0x31c
  github.com/twmb/franz-go/pkg/kgo.produceMetrics.hook.func2()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:1569 +0x37b

Goroutine 937 (running) created at:
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.forwardClientToBackend.func2()
      /build/internal/handler/grpc_copy.go:336 +0x2e
  runtime/pprof.Do()
      /usr/local/go/src/runtime/pprof/runtime.go:51 +0x117
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.forwardClientToBackend()
      /build/internal/handler/grpc_copy.go:335 +0x945
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.GRPCCopy()
      /build/internal/handler/grpc_copy.go:39 +0x404
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.(*HTTPHandlerSwapper).ServeGRPC()
      /build/internal/handler/handler.go:540 +0x4158
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.(*HTTPHandlerSwapper).ServeGRPC-fm()
      <autogenerated>:1 +0x64
  go.unistack.org/micro-server-grpc/v3.(*Server).handler()
      /go/pkg/mod/go.unistack.org/micro-server-grpc/v3@v3.10.13/grpc.go:306 +0x183b
  go.unistack.org/micro-server-grpc/v3.(*Server).handler-fm()
      <autogenerated>:1 +0x64
  google.golang.org/grpc.(*Server).processStreamingRPC()
      /go/pkg/mod/google.golang.org/grpc@v1.62.1/server.go:1680 +0x1fd9
  google.golang.org/grpc.(*Server).handleStream()
      /go/pkg/mod/google.golang.org/grpc@v1.62.1/server.go:1807 +0x1755
  google.golang.org/grpc.(*Server).serveStreams.func2.1()
      /go/pkg/mod/google.golang.org/grpc@v1.62.1/server.go:1027 +0x158

Goroutine 957 (finished) created at:
  github.com/twmb/franz-go/pkg/kgo.produceMetrics.hook()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:1565 +0x3f6
  github.com/twmb/franz-go/pkg/kgo.(*sink).handleReqResp.deferwrap1()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:586 +0x4f
  runtime.deferreturn()
      /usr/local/go/src/runtime/panic.go:602 +0x5d
  github.com/twmb/franz-go/pkg/kgo.(*sink).produce.func3()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:369 +0xaa
  github.com/twmb/franz-go/pkg/kgo.(*sink).handleSeqResps()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:411 +0xe8
  github.com/twmb/franz-go/pkg/kgo.(*sink).doSequenced.gowrap1()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:402 +0x44
==================
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"brokerClientStream CloseSend method"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"failed to CloseSend grpc conn: file already closed"}
{"level":"info","X-Request-Id":"feed1ccf-d14a-44cd-8587-796646abef32","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"get message for service: /clientpass.ClientpassService/OnboardingPass with md map[Authorization:Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMTA4NSIsImV4cCI6MTcxMjk4NTgzMSwibmJmIjoxNzEyMTIxODMxLCJpYXQiOjE3MTIxMjE4MzEsImp0aSI6IjEwM2I2NzU1LWU1OWEtNGJjYi1hYzQ5LTBhODNiOWE5M2M1NyIsInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJtaWJfdXNlciJdfSwiY3VzdG9tIjp7ImNsaWVudF9pZCI6Im1pYl8zMF9hbmRyb2lkIiwibm9uY2UiOiJydXF5d3pleG1udGp1ZnoiLCJwaG9uZSI6Iis3NzA1MzMzMjkwMCIsInNjb3BlIjoib2ZmbGluZV9hY2Nlc3MiLCJ0b2tlbl90eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcl9hY3Rpb24iOiJyZWdpc3RyYXRpb24iLCJ1c2VyX3JvbGVzIjpbIm1pYl91c2VyIl0sInVzZXJuYW1lIjoiODAxMTI0MzAwMTMzIn19.s6GRPKy7ND7NmHq4QtEMhEDUT16IByET8YFuYGHDgcpyN4EMzA2vpBFF1haeSD_5BtmXDycDO64oFF_LYYWwqjAOStxixTHEHCzicyAsbgk6hkuL62Avqld6X43yXibXyXsnIhX3wweCkrR3AmdbOBxg2uELtdHfYqJNvJzGn16gH5DTdTPD-vkOpd49Rr3EW-wyUBo_k_nekjgczFp3MOPFoaNCaDEPvDaTTw_4mSSHw1gaErEX4pHv37sRbxi6PejMnD5mNMuUjkYqip-UveQXTraSKS4TyvIkoB_hjx2ktpD5wYbyJKiVo2-FdhqJEc6pIpLnwqmKLBP3RYlxhA Client-Ip:172.23.20.6 Content-Type:application/grpc Micro-Topic:apigw.in Phone:+77053332900 Source-Service:/clientpass.ClientpassService/OnboardingPass Uber-Trace-Id:4be1f22a7bc86695:5cde40f8d56e6029:4be1f22a7bc86695:1 User-Id:1085 Username:801124300133 X-Forwarded-For:172.23.20.6 X-Forwarded-Port:443 X-Real-Ip:172.23.20.6 X-Request-Id:feed1ccf-d14a-44cd-8587-796646abef32]"}
{"level":"info","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"get message for service: /clientpass.ClientpassService/OnboardingPass"}
{"level":"debug","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"grpcConnGet: /clientpass.ClientpassService/OnboardingPass via feed1ccf-d14a-44cd-8587-796646abef32"}
{"level":"debug","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"grpc use stream conn: &handler.grpcProxy{grpcStream:(*handler.grpcServerStream)(0xc0001382c0), kafkaStream:(*handler.grpcClientStream)(0xc000138370)} sourceService: /clientpass.ClientpassService/OnboardingPass"}
{"level":"info","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"start transfer response from kafka"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"brokerClientStream SetHeader method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"brokerClientStream SetMsg method"}
{"level":"info","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"stop transfer response from kafka"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"brokerClientStream RecvMsg method data"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"forwardBackendToClient src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"forwardBackendToClient set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"forwardBackendToClient src.Header"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"brokerClientStream Header method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"forwardBackendToClient dst.SetHeader"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"forwardBackendToClient try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"forwardBackendToClient dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"brokerClientStream Close method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"brokerClientStream RecvMsg method !s.serverStream && s.recvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"forwardBackendToClient src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"b2cErr := <-b2cErrChan: err: EOF"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"brokerClientStream Trailer method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"grpcConnDel /clientpass.ClientpassService/OnboardingPass feed1ccf-d14a-44cd-8587-796646abef32"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"feed1ccf-d14a-44cd-8587-796646abef32","trace-id":"","span-id":"","time":"2024-04-03T10:23:53+05:00","message":"grpc handler exit"}
{"level":"debug","x-request-id":"dabb5d55-0d7a-416f-a3ec-1b3081447876","time":"2024-04-03T10:23:54+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"dabb5d55-0d7a-416f-a3ec-1b3081447876","time":"2024-04-03T10:23:54+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Login"}
{"level":"info","x-request-id":"dabb5d55-0d7a-416f-a3ec-1b3081447876","time":"2024-04-03T10:23:54+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"dabb5d55-0d7a-416f-a3ec-1b3081447876","time":"2024-04-03T10:23:54+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"dabb5d55-0d7a-416f-a3ec-1b3081447876","time":"2024-04-03T10:23:54+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"dabb5d55-0d7a-416f-a3ec-1b3081447876","time":"2024-04-03T10:23:54+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"dabb5d55-0d7a-416f-a3ec-1b3081447876","time":"2024-04-03T10:23:54+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"dabb5d55-0d7a-416f-a3ec-1b3081447876","time":"2024-04-03T10:23:54+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"dabb5d55-0d7a-416f-a3ec-1b3081447876","time":"2024-04-03T10:23:54+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"dabb5d55-0d7a-416f-a3ec-1b3081447876","time":"2024-04-03T10:23:54+05:00","message":"jwt.extract jwt claims empty"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"dabb5d55-0d7a-416f-a3ec-1b3081447876","trace-id":"","span-id":"","time":"2024-04-03T10:23:54+05:00","message":"grpc request with md: metadata.MD{\":authority\":[]string{\"upstream_balancer\"}, \":path\":[]string{\"/authn.AuthnService/Login\"}, \"client-ip\":[]string{\"172.23.20.6\"}, \"content-type\":[]string{\"application/grpc\"}, \"grpc-accept-encoding\":[]string{\"identity, deflate, gzip\"}, \"source-service\":[]string{\"/authn.AuthnService/Login\"}, \"user-agent\":[]string{\"grpc-python/1.59.0 grpc-c/36.0.0 (osx; chttp2)\"}, \"x-forwarded-for\":[]string{\"172.23.20.6\"}, \"x-forwarded-host\":[]string{\"dev-apigw-grpc.fortebank.com:443\"}, \"x-forwarded-port\":[]string{\"443\"}, \"x-forwarded-proto\":[]string{\"https\"}, \"x-forwarded-scheme\":[]string{\"https\"}, \"x-real-ip\":[]string{\"172.23.20.6\"}, \"x-request-id\":[]string{\"dabb5d55-0d7a-416f-a3ec-1b3081447876\"}, \"x-scheme\":[]string{\"https\"}}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"dabb5d55-0d7a-416f-a3ec-1b3081447876","trace-id":"","span-id":"","time":"2024-04-03T10:23:54+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"dabb5d55-0d7a-416f-a3ec-1b3081447876","trace-id":"","span-id":"","time":"2024-04-03T10:23:54+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"dabb5d55-0d7a-416f-a3ec-1b3081447876","trace-id":"","span-id":"","time":"2024-04-03T10:23:54+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"dabb5d55-0d7a-416f-a3ec-1b3081447876","trace-id":"","span-id":"","time":"2024-04-03T10:23:54+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"dabb5d55-0d7a-416f-a3ec-1b3081447876","trace-id":"","span-id":"","time":"2024-04-03T10:23:54+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"dabb5d55-0d7a-416f-a3ec-1b3081447876","trace-id":"","span-id":"","time":"2024-04-03T10:23:54+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"dabb5d55-0d7a-416f-a3ec-1b3081447876","trace-id":"","span-id":"","time":"2024-04-03T10:23:54+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"dabb5d55-0d7a-416f-a3ec-1b3081447876","trace-id":"","span-id":"","time":"2024-04-03T10:23:54+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"dabb5d55-0d7a-416f-a3ec-1b3081447876","trace-id":"","span-id":"","time":"2024-04-03T10:23:54+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"dabb5d55-0d7a-416f-a3ec-1b3081447876","trace-id":"","span-id":"","time":"2024-04-03T10:23:54+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"dabb5d55-0d7a-416f-a3ec-1b3081447876","trace-id":"","span-id":"","time":"2024-04-03T10:23:54+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"dabb5d55-0d7a-416f-a3ec-1b3081447876","trace-id":"","span-id":"","time":"2024-04-03T10:23:54+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"dabb5d55-0d7a-416f-a3ec-1b3081447876","trace-id":"","span-id":"","time":"2024-04-03T10:23:54+05:00","message":"forwardBackendToClient src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"dabb5d55-0d7a-416f-a3ec-1b3081447876","trace-id":"","span-id":"","time":"2024-04-03T10:23:54+05:00","message":"forwardBackendToClient set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"dabb5d55-0d7a-416f-a3ec-1b3081447876","trace-id":"","span-id":"","time":"2024-04-03T10:23:54+05:00","message":"forwardBackendToClient src.Header"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"dabb5d55-0d7a-416f-a3ec-1b3081447876","trace-id":"","span-id":"","time":"2024-04-03T10:23:54+05:00","message":"forwardBackendToClient dst.SetHeader"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"dabb5d55-0d7a-416f-a3ec-1b3081447876","trace-id":"","span-id":"","time":"2024-04-03T10:23:54+05:00","message":"forwardBackendToClient try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"dabb5d55-0d7a-416f-a3ec-1b3081447876","trace-id":"","span-id":"","time":"2024-04-03T10:23:54+05:00","message":"forwardBackendToClient dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"dabb5d55-0d7a-416f-a3ec-1b3081447876","trace-id":"","span-id":"","time":"2024-04-03T10:23:54+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"dabb5d55-0d7a-416f-a3ec-1b3081447876","trace-id":"","span-id":"","time":"2024-04-03T10:23:54+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"dabb5d55-0d7a-416f-a3ec-1b3081447876","trace-id":"","span-id":"","time":"2024-04-03T10:23:54+05:00","message":"forwardBackendToClient src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"dabb5d55-0d7a-416f-a3ec-1b3081447876","trace-id":"","span-id":"","time":"2024-04-03T10:23:54+05:00","message":"b2cErr := <-b2cErrChan: err: EOF"}
{"level":"debug","x-request-id":"01478698-64ff-4e35-9e38-d266b7daffae","time":"2024-04-03T10:23:56+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"01478698-64ff-4e35-9e38-d266b7daffae","time":"2024-04-03T10:23:56+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Login"}
{"level":"info","x-request-id":"01478698-64ff-4e35-9e38-d266b7daffae","time":"2024-04-03T10:23:56+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"01478698-64ff-4e35-9e38-d266b7daffae","time":"2024-04-03T10:23:56+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"01478698-64ff-4e35-9e38-d266b7daffae","time":"2024-04-03T10:23:56+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"01478698-64ff-4e35-9e38-d266b7daffae","time":"2024-04-03T10:23:56+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"01478698-64ff-4e35-9e38-d266b7daffae","time":"2024-04-03T10:23:56+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"01478698-64ff-4e35-9e38-d266b7daffae","time":"2024-04-03T10:23:56+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"01478698-64ff-4e35-9e38-d266b7daffae","time":"2024-04-03T10:23:56+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"01478698-64ff-4e35-9e38-d266b7daffae","time":"2024-04-03T10:23:56+05:00","message":"jwt.extract jwt claims empty"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"01478698-64ff-4e35-9e38-d266b7daffae","trace-id":"","span-id":"","time":"2024-04-03T10:23:56+05:00","message":"grpc request with md: metadata.MD{\":authority\":[]string{\"upstream_balancer\"}, \":path\":[]string{\"/authn.AuthnService/Login\"}, \"client-ip\":[]string{\"172.23.20.6\"}, \"content-type\":[]string{\"application/grpc\"}, \"grpc-accept-encoding\":[]string{\"identity, deflate, gzip\"}, \"source-service\":[]string{\"/authn.AuthnService/Login\"}, \"user-agent\":[]string{\"grpc-python/1.59.0 grpc-c/36.0.0 (osx; chttp2)\"}, \"x-forwarded-for\":[]string{\"172.23.20.6\"}, \"x-forwarded-host\":[]string{\"dev-apigw-grpc.fortebank.com:443\"}, \"x-forwarded-port\":[]string{\"443\"}, \"x-forwarded-proto\":[]string{\"https\"}, \"x-forwarded-scheme\":[]string{\"https\"}, \"x-real-ip\":[]string{\"172.23.20.6\"}, \"x-request-id\":[]string{\"01478698-64ff-4e35-9e38-d266b7daffae\"}, \"x-scheme\":[]string{\"https\"}}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"01478698-64ff-4e35-9e38-d266b7daffae","trace-id":"","span-id":"","time":"2024-04-03T10:23:56+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"01478698-64ff-4e35-9e38-d266b7daffae","trace-id":"","span-id":"","time":"2024-04-03T10:23:56+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"01478698-64ff-4e35-9e38-d266b7daffae","trace-id":"","span-id":"","time":"2024-04-03T10:23:56+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"01478698-64ff-4e35-9e38-d266b7daffae","trace-id":"","span-id":"","time":"2024-04-03T10:23:56+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"01478698-64ff-4e35-9e38-d266b7daffae","trace-id":"","span-id":"","time":"2024-04-03T10:23:56+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"01478698-64ff-4e35-9e38-d266b7daffae","trace-id":"","span-id":"","time":"2024-04-03T10:23:56+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"01478698-64ff-4e35-9e38-d266b7daffae","trace-id":"","span-id":"","time":"2024-04-03T10:23:56+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"01478698-64ff-4e35-9e38-d266b7daffae","trace-id":"","span-id":"","time":"2024-04-03T10:23:56+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"01478698-64ff-4e35-9e38-d266b7daffae","trace-id":"","span-id":"","time":"2024-04-03T10:23:56+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"01478698-64ff-4e35-9e38-d266b7daffae","trace-id":"","span-id":"","time":"2024-04-03T10:23:56+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"01478698-64ff-4e35-9e38-d266b7daffae","trace-id":"","span-id":"","time":"2024-04-03T10:23:56+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"01478698-64ff-4e35-9e38-d266b7daffae","trace-id":"","span-id":"","time":"2024-04-03T10:23:56+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"01478698-64ff-4e35-9e38-d266b7daffae","trace-id":"","span-id":"","time":"2024-04-03T10:23:56+05:00","message":"forwardBackendToClient src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"01478698-64ff-4e35-9e38-d266b7daffae","trace-id":"","span-id":"","time":"2024-04-03T10:23:56+05:00","message":"forwardBackendToClient set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"01478698-64ff-4e35-9e38-d266b7daffae","trace-id":"","span-id":"","time":"2024-04-03T10:23:56+05:00","message":"forwardBackendToClient src.Header"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"01478698-64ff-4e35-9e38-d266b7daffae","trace-id":"","span-id":"","time":"2024-04-03T10:23:56+05:00","message":"forwardBackendToClient dst.SetHeader"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"01478698-64ff-4e35-9e38-d266b7daffae","trace-id":"","span-id":"","time":"2024-04-03T10:23:56+05:00","message":"forwardBackendToClient try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"01478698-64ff-4e35-9e38-d266b7daffae","trace-id":"","span-id":"","time":"2024-04-03T10:23:56+05:00","message":"forwardBackendToClient dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"01478698-64ff-4e35-9e38-d266b7daffae","trace-id":"","span-id":"","time":"2024-04-03T10:23:56+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"01478698-64ff-4e35-9e38-d266b7daffae","trace-id":"","span-id":"","time":"2024-04-03T10:23:56+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"01478698-64ff-4e35-9e38-d266b7daffae","trace-id":"","span-id":"","time":"2024-04-03T10:23:56+05:00","message":"forwardBackendToClient src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"01478698-64ff-4e35-9e38-d266b7daffae","trace-id":"","span-id":"","time":"2024-04-03T10:23:56+05:00","message":"b2cErr := <-b2cErrChan: err: EOF"}
{"level":"debug","x-request-id":"df7df742-5e5d-42f5-bab4-cf29ecc42f7b","time":"2024-04-03T10:23:56+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"df7df742-5e5d-42f5-bab4-cf29ecc42f7b","time":"2024-04-03T10:23:56+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Token"}
{"level":"info","x-request-id":"df7df742-5e5d-42f5-bab4-cf29ecc42f7b","time":"2024-04-03T10:23:56+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"df7df742-5e5d-42f5-bab4-cf29ecc42f7b","time":"2024-04-03T10:23:56+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"df7df742-5e5d-42f5-bab4-cf29ecc42f7b","time":"2024-04-03T10:23:56+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"df7df742-5e5d-42f5-bab4-cf29ecc42f7b","time":"2024-04-03T10:23:56+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"df7df742-5e5d-42f5-bab4-cf29ecc42f7b","time":"2024-04-03T10:23:56+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"df7df742-5e5d-42f5-bab4-cf29ecc42f7b","time":"2024-04-03T10:23:56+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"df7df742-5e5d-42f5-bab4-cf29ecc42f7b","time":"2024-04-03T10:23:56+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"df7df742-5e5d-42f5-bab4-cf29ecc42f7b","time":"2024-04-03T10:23:56+05:00","message":"jwt.extract jwt claims empty"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"df7df742-5e5d-42f5-bab4-cf29ecc42f7b","trace-id":"","span-id":"","time":"2024-04-03T10:23:56+05:00","message":"grpc request with md: metadata.MD{\":authority\":[]string{\"upstream_balancer\"}, \":path\":[]string{\"/authn.AuthnService/Token\"}, \"client-ip\":[]string{\"172.23.20.6\"}, \"content-type\":[]string{\"application/grpc\"}, \"grpc-accept-encoding\":[]string{\"identity, deflate, gzip\"}, \"source-service\":[]string{\"/authn.AuthnService/Token\"}, \"user-agent\":[]string{\"grpc-python/1.59.0 grpc-c/36.0.0 (osx; chttp2)\"}, \"x-forwarded-for\":[]string{\"172.23.20.6\"}, \"x-forwarded-host\":[]string{\"dev-apigw-grpc.fortebank.com:443\"}, \"x-forwarded-port\":[]string{\"443\"}, \"x-forwarded-proto\":[]string{\"https\"}, \"x-forwarded-scheme\":[]string{\"https\"}, \"x-real-ip\":[]string{\"172.23.20.6\"}, \"x-request-id\":[]string{\"df7df742-5e5d-42f5-bab4-cf29ecc42f7b\"}, \"x-scheme\":[]string{\"https\"}}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"df7df742-5e5d-42f5-bab4-cf29ecc42f7b","trace-id":"","span-id":"","time":"2024-04-03T10:23:56+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"df7df742-5e5d-42f5-bab4-cf29ecc42f7b","trace-id":"","span-id":"","time":"2024-04-03T10:23:56+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"df7df742-5e5d-42f5-bab4-cf29ecc42f7b","trace-id":"","span-id":"","time":"2024-04-03T10:23:56+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"df7df742-5e5d-42f5-bab4-cf29ecc42f7b","trace-id":"","span-id":"","time":"2024-04-03T10:23:56+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"df7df742-5e5d-42f5-bab4-cf29ecc42f7b","trace-id":"","span-id":"","time":"2024-04-03T10:23:56+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"df7df742-5e5d-42f5-bab4-cf29ecc42f7b","trace-id":"","span-id":"","time":"2024-04-03T10:23:56+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"df7df742-5e5d-42f5-bab4-cf29ecc42f7b","trace-id":"","span-id":"","time":"2024-04-03T10:23:56+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"df7df742-5e5d-42f5-bab4-cf29ecc42f7b","trace-id":"","span-id":"","time":"2024-04-03T10:23:56+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"df7df742-5e5d-42f5-bab4-cf29ecc42f7b","trace-id":"","span-id":"","time":"2024-04-03T10:23:56+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"df7df742-5e5d-42f5-bab4-cf29ecc42f7b","trace-id":"","span-id":"","time":"2024-04-03T10:23:56+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"df7df742-5e5d-42f5-bab4-cf29ecc42f7b","trace-id":"","span-id":"","time":"2024-04-03T10:23:56+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"df7df742-5e5d-42f5-bab4-cf29ecc42f7b","trace-id":"","span-id":"","time":"2024-04-03T10:23:56+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"df7df742-5e5d-42f5-bab4-cf29ecc42f7b","trace-id":"","span-id":"","time":"2024-04-03T10:23:56+05:00","message":"forwardBackendToClient src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"df7df742-5e5d-42f5-bab4-cf29ecc42f7b","trace-id":"","span-id":"","time":"2024-04-03T10:23:56+05:00","message":"forwardBackendToClient set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"df7df742-5e5d-42f5-bab4-cf29ecc42f7b","trace-id":"","span-id":"","time":"2024-04-03T10:23:56+05:00","message":"forwardBackendToClient src.Header"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"df7df742-5e5d-42f5-bab4-cf29ecc42f7b","trace-id":"","span-id":"","time":"2024-04-03T10:23:56+05:00","message":"forwardBackendToClient dst.SetHeader"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"df7df742-5e5d-42f5-bab4-cf29ecc42f7b","trace-id":"","span-id":"","time":"2024-04-03T10:23:56+05:00","message":"forwardBackendToClient try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"df7df742-5e5d-42f5-bab4-cf29ecc42f7b","trace-id":"","span-id":"","time":"2024-04-03T10:23:56+05:00","message":"forwardBackendToClient dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"df7df742-5e5d-42f5-bab4-cf29ecc42f7b","trace-id":"","span-id":"","time":"2024-04-03T10:23:56+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"df7df742-5e5d-42f5-bab4-cf29ecc42f7b","trace-id":"","span-id":"","time":"2024-04-03T10:23:56+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"df7df742-5e5d-42f5-bab4-cf29ecc42f7b","trace-id":"","span-id":"","time":"2024-04-03T10:23:56+05:00","message":"forwardBackendToClient src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"df7df742-5e5d-42f5-bab4-cf29ecc42f7b","trace-id":"","span-id":"","time":"2024-04-03T10:23:56+05:00","message":"b2cErr := <-b2cErrChan: err: EOF"}
{"level":"debug","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","time":"2024-04-03T10:23:58+05:00","message":"authn.cookie not found"}
{"level":"debug","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","time":"2024-04-03T10:23:58+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","time":"2024-04-03T10:23:58+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"rvsnmwxampuwaec\", \"phone\":\"+77761731133\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910327450784\"}, \"exp\":1.712985836e+09, \"iat\":1.712121836e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"623bc701-6e8a-408c-b17a-2b7444219800\", \"nbf\":1.712121836e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"2003\"}"}
{"level":"info","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","time":"2024-04-03T10:23:58+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","time":"2024-04-03T10:23:58+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"rvsnmwxampuwaec\", \"phone\":\"+77761731133\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910327450784\"}, \"exp\":1.712985836e+09, \"iat\":1.712121836e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"623bc701-6e8a-408c-b17a-2b7444219800\", \"nbf\":1.712121836e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"2003\"}"}
{"level":"info","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","time":"2024-04-03T10:23:58+05:00","message":"jwt.extract set User-Id to 2003"}
{"level":"info","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","time":"2024-04-03T10:23:58+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","time":"2024-04-03T10:23:58+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"rvsnmwxampuwaec\", \"phone\":\"+77761731133\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910327450784\"}, \"exp\":1.712985836e+09, \"iat\":1.712121836e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"623bc701-6e8a-408c-b17a-2b7444219800\", \"nbf\":1.712121836e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"2003\"}"}
{"level":"info","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","time":"2024-04-03T10:23:58+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","time":"2024-04-03T10:23:58+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"rvsnmwxampuwaec\", \"phone\":\"+77761731133\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910327450784\"}, \"exp\":1.712985836e+09, \"iat\":1.712121836e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"623bc701-6e8a-408c-b17a-2b7444219800\", \"nbf\":1.712121836e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"2003\"}"}
{"level":"info","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","time":"2024-04-03T10:23:58+05:00","message":"jwt.extract set Username to 910327450784"}
{"level":"info","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","time":"2024-04-03T10:23:58+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","time":"2024-04-03T10:23:58+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"rvsnmwxampuwaec\", \"phone\":\"+77761731133\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910327450784\"}, \"exp\":1.712985836e+09, \"iat\":1.712121836e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"623bc701-6e8a-408c-b17a-2b7444219800\", \"nbf\":1.712121836e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"2003\"}"}
{"level":"info","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","time":"2024-04-03T10:23:58+05:00","message":"jwt.extract set Phone to +77761731133"}
{"level":"info","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","time":"2024-04-03T10:23:58+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","time":"2024-04-03T10:23:58+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"rvsnmwxampuwaec\", \"phone\":\"+77761731133\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910327450784\"}, \"exp\":1.712985836e+09, \"iat\":1.712121836e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"623bc701-6e8a-408c-b17a-2b7444219800\", \"nbf\":1.712121836e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"2003\"}"}
{"level":"info","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","time":"2024-04-03T10:23:58+05:00","message":"jwt.extract set otp_datetime to 1712121836"}
{"level":"info","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","time":"2024-04-03T10:23:58+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","time":"2024-04-03T10:23:58+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"rvsnmwxampuwaec\", \"phone\":\"+77761731133\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910327450784\"}, \"exp\":1.712985836e+09, \"iat\":1.712121836e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"623bc701-6e8a-408c-b17a-2b7444219800\", \"nbf\":1.712121836e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"2003\"}"}
{"level":"info","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","time":"2024-04-03T10:23:58+05:00","message":"jwt.extract set username to 910327450784"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","trace-id":"","span-id":"","time":"2024-04-03T10:23:58+05:00","message":"grpcConnAdd /clientpass.ClientpassService/StartClientPass 198453d0-947d-4e78-b367-dc65f7f17292"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","trace-id":"","span-id":"","time":"2024-04-03T10:23:58+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","trace-id":"","span-id":"","time":"2024-04-03T10:23:58+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","trace-id":"","span-id":"","time":"2024-04-03T10:23:58+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","trace-id":"","span-id":"","time":"2024-04-03T10:23:58+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","trace-id":"","span-id":"","time":"2024-04-03T10:23:58+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","trace-id":"","span-id":"","time":"2024-04-03T10:23:58+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","trace-id":"","span-id":"","time":"2024-04-03T10:23:58+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","trace-id":"","span-id":"","time":"2024-04-03T10:23:58+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","trace-id":"","span-id":"","time":"2024-04-03T10:23:58+05:00","message":"brokerClientStream brokerClientStream SendMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","trace-id":"","span-id":"","time":"2024-04-03T10:23:58+05:00","message":"brokerClientStream try to publish to client.clientpass.startclientpass.in msg with hdr: metadata.Metadata{\"Authorization\":\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjAwMyIsImV4cCI6MTcxMjk4NTgzNiwibmJmIjoxNzEyMTIxODM2LCJpYXQiOjE3MTIxMjE4MzYsImp0aSI6IjYyM2JjNzAxLTZlOGEtNDA4Yy1iMTdhLTJiNzQ0NDIxOTgwMCIsInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJtaWJfdXNlciJdfSwiY3VzdG9tIjp7ImNsaWVudF9pZCI6Im1pYl8zMF9hbmRyb2lkIiwibm9uY2UiOiJydnNubXd4YW1wdXdhZWMiLCJwaG9uZSI6Iis3Nzc2MTczMTEzMyIsInNjb3BlIjoib2ZmbGluZV9hY2Nlc3MiLCJ0b2tlbl90eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcl9hY3Rpb24iOiJyZWdpc3RyYXRpb24iLCJ1c2VyX3JvbGVzIjpbIm1pYl91c2VyIl0sInVzZXJuYW1lIjoiOTEwMzI3NDUwNzg0In19.Tji1Xzj9qpzTdBz5R5YoYAe4-sZCdGK0nLHlzkCuvw9Ur8Rcn676_52vjAopuUcCoCwg6Hd0LHhvtBg1adMxXvKYLn0EXRCKvdUhmu7k0pnedTiwnfypGRKZdlRE8KPqb-qkOqi2n0VWkDy-yf4q3c-z90vaJqaHOekNZrujMZKnJLgL9FoUQ8eN9dlumlVWTb_w4NnBsYdhjkfHlIhiUdeAIJG1J8Clfx-NpmhAkZAcIWCgDcvFzCFmg4jg6hc-cGyunB33ndFXig-q3jFE8Y5fyOX4Uag8RCwpfgbuZZfnXHQXRz8L7zGi-zcqUkwuNPh6toB_975pylcRJDULmQ\", \"Client-Ip\":\"172.23.20.6\", \"Content-Type\":\"application/grpc\", \"Otp_datetime\":\"1712121836\", \"Phone\":\"+77761731133\", \"Source-Service\":\"/clientpass.ClientpassService/StartClientPass\", \"User-Id\":\"2003\", \"Username\":\"910327450784\", \"X-Forwarded-For\":\"172.23.20.6\", \"X-Forwarded-Port\":\"443\", \"X-Real-Ip\":\"172.23.20.6\", \"X-Request-Id\":\"198453d0-947d-4e78-b367-dc65f7f17292\"}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","trace-id":"","span-id":"","time":"2024-04-03T10:23:58+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","trace-id":"","span-id":"","time":"2024-04-03T10:23:58+05:00","message":"brokerClientStream CloseSend method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","trace-id":"","span-id":"","time":"2024-04-03T10:23:58+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","trace-id":"","span-id":"","time":"2024-04-03T10:23:58+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","trace-id":"","span-id":"","time":"2024-04-03T10:23:58+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","trace-id":"","span-id":"","time":"2024-04-03T10:23:58+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","trace-id":"","span-id":"","time":"2024-04-03T10:23:58+05:00","message":"brokerClientStream CloseSend method"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","trace-id":"","span-id":"","time":"2024-04-03T10:23:58+05:00","message":"failed to CloseSend grpc conn: file already closed"}
{"level":"info","X-Request-Id":"198453d0-947d-4e78-b367-dc65f7f17292","trace-id":"","span-id":"","time":"2024-04-03T10:23:58+05:00","message":"get message for service: /clientpass.ClientpassService/StartClientPass with md map[Authorization:Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjAwMyIsImV4cCI6MTcxMjk4NTgzNiwibmJmIjoxNzEyMTIxODM2LCJpYXQiOjE3MTIxMjE4MzYsImp0aSI6IjYyM2JjNzAxLTZlOGEtNDA4Yy1iMTdhLTJiNzQ0NDIxOTgwMCIsInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJtaWJfdXNlciJdfSwiY3VzdG9tIjp7ImNsaWVudF9pZCI6Im1pYl8zMF9hbmRyb2lkIiwibm9uY2UiOiJydnNubXd4YW1wdXdhZWMiLCJwaG9uZSI6Iis3Nzc2MTczMTEzMyIsInNjb3BlIjoib2ZmbGluZV9hY2Nlc3MiLCJ0b2tlbl90eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcl9hY3Rpb24iOiJyZWdpc3RyYXRpb24iLCJ1c2VyX3JvbGVzIjpbIm1pYl91c2VyIl0sInVzZXJuYW1lIjoiOTEwMzI3NDUwNzg0In19.Tji1Xzj9qpzTdBz5R5YoYAe4-sZCdGK0nLHlzkCuvw9Ur8Rcn676_52vjAopuUcCoCwg6Hd0LHhvtBg1adMxXvKYLn0EXRCKvdUhmu7k0pnedTiwnfypGRKZdlRE8KPqb-qkOqi2n0VWkDy-yf4q3c-z90vaJqaHOekNZrujMZKnJLgL9FoUQ8eN9dlumlVWTb_w4NnBsYdhjkfHlIhiUdeAIJG1J8Clfx-NpmhAkZAcIWCgDcvFzCFmg4jg6hc-cGyunB33ndFXig-q3jFE8Y5fyOX4Uag8RCwpfgbuZZfnXHQXRz8L7zGi-zcqUkwuNPh6toB_975pylcRJDULmQ Client-Ip:172.23.20.6 Content-Type:application/grpc Micro-Topic:apigw.in Otp_datetime:1712121836 Phone:+77761731133 Source-Service:/clientpass.ClientpassService/StartClientPass Uber-Trace-Id:78108564fe9091ae:362a38da0f7e87dc:2175469d5344cbb7:1 User-Id:2003 Username:910327450784 X-Forwarded-For:172.23.20.6 X-Forwarded-Port:443 X-Real-Ip:172.23.20.6 X-Request-Id:198453d0-947d-4e78-b367-dc65f7f17292]"}
{"level":"info","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","trace-id":"","span-id":"","time":"2024-04-03T10:23:58+05:00","message":"get message for service: /clientpass.ClientpassService/StartClientPass"}
{"level":"debug","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","trace-id":"","span-id":"","time":"2024-04-03T10:23:58+05:00","message":"grpcConnGet: /clientpass.ClientpassService/StartClientPass via 198453d0-947d-4e78-b367-dc65f7f17292"}
{"level":"debug","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","trace-id":"","span-id":"","time":"2024-04-03T10:23:58+05:00","message":"grpc use stream conn: &handler.grpcProxy{grpcStream:(*handler.grpcServerStream)(0xc000668420), kafkaStream:(*handler.grpcClientStream)(0xc0006684d0)} sourceService: /clientpass.ClientpassService/StartClientPass"}
{"level":"info","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","trace-id":"","span-id":"","time":"2024-04-03T10:23:58+05:00","message":"start transfer response from kafka"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","trace-id":"","span-id":"","time":"2024-04-03T10:23:58+05:00","message":"brokerClientStream SetHeader method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","trace-id":"","span-id":"","time":"2024-04-03T10:23:58+05:00","message":"brokerClientStream SetMsg method"}
{"level":"info","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","trace-id":"","span-id":"","time":"2024-04-03T10:23:58+05:00","message":"stop transfer response from kafka"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","trace-id":"","span-id":"","time":"2024-04-03T10:23:58+05:00","message":"brokerClientStream RecvMsg method data"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","trace-id":"","span-id":"","time":"2024-04-03T10:23:58+05:00","message":"forwardBackendToClient src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","trace-id":"","span-id":"","time":"2024-04-03T10:23:58+05:00","message":"forwardBackendToClient set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","trace-id":"","span-id":"","time":"2024-04-03T10:23:58+05:00","message":"forwardBackendToClient src.Header"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","trace-id":"","span-id":"","time":"2024-04-03T10:23:58+05:00","message":"brokerClientStream Header method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","trace-id":"","span-id":"","time":"2024-04-03T10:23:58+05:00","message":"forwardBackendToClient dst.SetHeader"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","trace-id":"","span-id":"","time":"2024-04-03T10:23:58+05:00","message":"forwardBackendToClient try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","trace-id":"","span-id":"","time":"2024-04-03T10:23:58+05:00","message":"forwardBackendToClient dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","trace-id":"","span-id":"","time":"2024-04-03T10:23:58+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","trace-id":"","span-id":"","time":"2024-04-03T10:23:58+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","trace-id":"","span-id":"","time":"2024-04-03T10:23:58+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","trace-id":"","span-id":"","time":"2024-04-03T10:23:58+05:00","message":"brokerClientStream Close method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","trace-id":"","span-id":"","time":"2024-04-03T10:23:58+05:00","message":"brokerClientStream RecvMsg method !s.serverStream && s.recvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","trace-id":"","span-id":"","time":"2024-04-03T10:23:58+05:00","message":"forwardBackendToClient src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","trace-id":"","span-id":"","time":"2024-04-03T10:23:58+05:00","message":"b2cErr := <-b2cErrChan: err: EOF"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","trace-id":"","span-id":"","time":"2024-04-03T10:23:58+05:00","message":"brokerClientStream Trailer method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","trace-id":"","span-id":"","time":"2024-04-03T10:23:58+05:00","message":"grpcConnDel /clientpass.ClientpassService/StartClientPass 198453d0-947d-4e78-b367-dc65f7f17292"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"198453d0-947d-4e78-b367-dc65f7f17292","trace-id":"","span-id":"","time":"2024-04-03T10:23:58+05:00","message":"grpc handler exit"}
{"level":"debug","x-request-id":"cfe15331-812e-4700-96e4-aa5827bdd6e4","time":"2024-04-03T10:24:00+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"cfe15331-812e-4700-96e4-aa5827bdd6e4","time":"2024-04-03T10:24:00+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Login"}
{"level":"info","x-request-id":"cfe15331-812e-4700-96e4-aa5827bdd6e4","time":"2024-04-03T10:24:00+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"cfe15331-812e-4700-96e4-aa5827bdd6e4","time":"2024-04-03T10:24:00+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"cfe15331-812e-4700-96e4-aa5827bdd6e4","time":"2024-04-03T10:24:00+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"cfe15331-812e-4700-96e4-aa5827bdd6e4","time":"2024-04-03T10:24:00+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"cfe15331-812e-4700-96e4-aa5827bdd6e4","time":"2024-04-03T10:24:00+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"cfe15331-812e-4700-96e4-aa5827bdd6e4","time":"2024-04-03T10:24:00+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"cfe15331-812e-4700-96e4-aa5827bdd6e4","time":"2024-04-03T10:24:00+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"cfe15331-812e-4700-96e4-aa5827bdd6e4","time":"2024-04-03T10:24:00+05:00","message":"jwt.extract jwt claims empty"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cfe15331-812e-4700-96e4-aa5827bdd6e4","trace-id":"","span-id":"","time":"2024-04-03T10:24:00+05:00","message":"grpc request with md: metadata.MD{\":authority\":[]string{\"upstream_balancer\"}, \":path\":[]string{\"/authn.AuthnService/Login\"}, \"client-ip\":[]string{\"172.23.20.6\"}, \"content-type\":[]string{\"application/grpc\"}, \"grpc-accept-encoding\":[]string{\"identity, deflate, gzip\"}, \"source-service\":[]string{\"/authn.AuthnService/Login\"}, \"user-agent\":[]string{\"grpc-python/1.59.0 grpc-c/36.0.0 (osx; chttp2)\"}, \"x-forwarded-for\":[]string{\"172.23.20.6\"}, \"x-forwarded-host\":[]string{\"dev-apigw-grpc.fortebank.com:443\"}, \"x-forwarded-port\":[]string{\"443\"}, \"x-forwarded-proto\":[]string{\"https\"}, \"x-forwarded-scheme\":[]string{\"https\"}, \"x-real-ip\":[]string{\"172.23.20.6\"}, \"x-request-id\":[]string{\"cfe15331-812e-4700-96e4-aa5827bdd6e4\"}, \"x-scheme\":[]string{\"https\"}}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cfe15331-812e-4700-96e4-aa5827bdd6e4","trace-id":"","span-id":"","time":"2024-04-03T10:24:00+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cfe15331-812e-4700-96e4-aa5827bdd6e4","trace-id":"","span-id":"","time":"2024-04-03T10:24:00+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cfe15331-812e-4700-96e4-aa5827bdd6e4","trace-id":"","span-id":"","time":"2024-04-03T10:24:00+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cfe15331-812e-4700-96e4-aa5827bdd6e4","trace-id":"","span-id":"","time":"2024-04-03T10:24:00+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cfe15331-812e-4700-96e4-aa5827bdd6e4","trace-id":"","span-id":"","time":"2024-04-03T10:24:00+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cfe15331-812e-4700-96e4-aa5827bdd6e4","trace-id":"","span-id":"","time":"2024-04-03T10:24:00+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cfe15331-812e-4700-96e4-aa5827bdd6e4","trace-id":"","span-id":"","time":"2024-04-03T10:24:00+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cfe15331-812e-4700-96e4-aa5827bdd6e4","trace-id":"","span-id":"","time":"2024-04-03T10:24:00+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cfe15331-812e-4700-96e4-aa5827bdd6e4","trace-id":"","span-id":"","time":"2024-04-03T10:24:00+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cfe15331-812e-4700-96e4-aa5827bdd6e4","trace-id":"","span-id":"","time":"2024-04-03T10:24:00+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cfe15331-812e-4700-96e4-aa5827bdd6e4","trace-id":"","span-id":"","time":"2024-04-03T10:24:00+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cfe15331-812e-4700-96e4-aa5827bdd6e4","trace-id":"","span-id":"","time":"2024-04-03T10:24:00+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cfe15331-812e-4700-96e4-aa5827bdd6e4","trace-id":"","span-id":"","time":"2024-04-03T10:24:00+05:00","message":"forwardBackendToClient src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cfe15331-812e-4700-96e4-aa5827bdd6e4","trace-id":"","span-id":"","time":"2024-04-03T10:24:00+05:00","message":"forwardBackendToClient set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cfe15331-812e-4700-96e4-aa5827bdd6e4","trace-id":"","span-id":"","time":"2024-04-03T10:24:00+05:00","message":"forwardBackendToClient src.Header"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cfe15331-812e-4700-96e4-aa5827bdd6e4","trace-id":"","span-id":"","time":"2024-04-03T10:24:00+05:00","message":"forwardBackendToClient dst.SetHeader"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cfe15331-812e-4700-96e4-aa5827bdd6e4","trace-id":"","span-id":"","time":"2024-04-03T10:24:00+05:00","message":"forwardBackendToClient try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cfe15331-812e-4700-96e4-aa5827bdd6e4","trace-id":"","span-id":"","time":"2024-04-03T10:24:00+05:00","message":"forwardBackendToClient dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cfe15331-812e-4700-96e4-aa5827bdd6e4","trace-id":"","span-id":"","time":"2024-04-03T10:24:00+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cfe15331-812e-4700-96e4-aa5827bdd6e4","trace-id":"","span-id":"","time":"2024-04-03T10:24:00+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cfe15331-812e-4700-96e4-aa5827bdd6e4","trace-id":"","span-id":"","time":"2024-04-03T10:24:00+05:00","message":"forwardBackendToClient src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cfe15331-812e-4700-96e4-aa5827bdd6e4","trace-id":"","span-id":"","time":"2024-04-03T10:24:00+05:00","message":"b2cErr := <-b2cErrChan: err: EOF"}
{"level":"debug","x-request-id":"c0855d0e-9d34-4332-9bc4-4507337ad8f3","time":"2024-04-03T10:24:01+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"c0855d0e-9d34-4332-9bc4-4507337ad8f3","time":"2024-04-03T10:24:01+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Login"}
{"level":"info","x-request-id":"c0855d0e-9d34-4332-9bc4-4507337ad8f3","time":"2024-04-03T10:24:01+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"c0855d0e-9d34-4332-9bc4-4507337ad8f3","time":"2024-04-03T10:24:01+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"c0855d0e-9d34-4332-9bc4-4507337ad8f3","time":"2024-04-03T10:24:01+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"c0855d0e-9d34-4332-9bc4-4507337ad8f3","time":"2024-04-03T10:24:01+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"c0855d0e-9d34-4332-9bc4-4507337ad8f3","time":"2024-04-03T10:24:01+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"c0855d0e-9d34-4332-9bc4-4507337ad8f3","time":"2024-04-03T10:24:01+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"c0855d0e-9d34-4332-9bc4-4507337ad8f3","time":"2024-04-03T10:24:01+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"c0855d0e-9d34-4332-9bc4-4507337ad8f3","time":"2024-04-03T10:24:01+05:00","message":"jwt.extract jwt claims empty"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c0855d0e-9d34-4332-9bc4-4507337ad8f3","trace-id":"","span-id":"","time":"2024-04-03T10:24:01+05:00","message":"grpc request with md: metadata.MD{\":authority\":[]string{\"upstream_balancer\"}, \":path\":[]string{\"/authn.AuthnService/Login\"}, \"client-ip\":[]string{\"172.23.20.6\"}, \"content-type\":[]string{\"application/grpc\"}, \"grpc-accept-encoding\":[]string{\"identity, deflate, gzip\"}, \"source-service\":[]string{\"/authn.AuthnService/Login\"}, \"user-agent\":[]string{\"grpc-python/1.59.0 grpc-c/36.0.0 (osx; chttp2)\"}, \"x-forwarded-for\":[]string{\"172.23.20.6\"}, \"x-forwarded-host\":[]string{\"dev-apigw-grpc.fortebank.com:443\"}, \"x-forwarded-port\":[]string{\"443\"}, \"x-forwarded-proto\":[]string{\"https\"}, \"x-forwarded-scheme\":[]string{\"https\"}, \"x-real-ip\":[]string{\"172.23.20.6\"}, \"x-request-id\":[]string{\"c0855d0e-9d34-4332-9bc4-4507337ad8f3\"}, \"x-scheme\":[]string{\"https\"}}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c0855d0e-9d34-4332-9bc4-4507337ad8f3","trace-id":"","span-id":"","time":"2024-04-03T10:24:01+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c0855d0e-9d34-4332-9bc4-4507337ad8f3","trace-id":"","span-id":"","time":"2024-04-03T10:24:01+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c0855d0e-9d34-4332-9bc4-4507337ad8f3","trace-id":"","span-id":"","time":"2024-04-03T10:24:01+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c0855d0e-9d34-4332-9bc4-4507337ad8f3","trace-id":"","span-id":"","time":"2024-04-03T10:24:01+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c0855d0e-9d34-4332-9bc4-4507337ad8f3","trace-id":"","span-id":"","time":"2024-04-03T10:24:01+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c0855d0e-9d34-4332-9bc4-4507337ad8f3","trace-id":"","span-id":"","time":"2024-04-03T10:24:01+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c0855d0e-9d34-4332-9bc4-4507337ad8f3","trace-id":"","span-id":"","time":"2024-04-03T10:24:01+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c0855d0e-9d34-4332-9bc4-4507337ad8f3","trace-id":"","span-id":"","time":"2024-04-03T10:24:01+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c0855d0e-9d34-4332-9bc4-4507337ad8f3","trace-id":"","span-id":"","time":"2024-04-03T10:24:01+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c0855d0e-9d34-4332-9bc4-4507337ad8f3","trace-id":"","span-id":"","time":"2024-04-03T10:24:01+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c0855d0e-9d34-4332-9bc4-4507337ad8f3","trace-id":"","span-id":"","time":"2024-04-03T10:24:01+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c0855d0e-9d34-4332-9bc4-4507337ad8f3","trace-id":"","span-id":"","time":"2024-04-03T10:24:01+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c0855d0e-9d34-4332-9bc4-4507337ad8f3","trace-id":"","span-id":"","time":"2024-04-03T10:24:01+05:00","message":"forwardBackendToClient src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c0855d0e-9d34-4332-9bc4-4507337ad8f3","trace-id":"","span-id":"","time":"2024-04-03T10:24:01+05:00","message":"forwardBackendToClient set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c0855d0e-9d34-4332-9bc4-4507337ad8f3","trace-id":"","span-id":"","time":"2024-04-03T10:24:01+05:00","message":"forwardBackendToClient src.Header"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c0855d0e-9d34-4332-9bc4-4507337ad8f3","trace-id":"","span-id":"","time":"2024-04-03T10:24:01+05:00","message":"forwardBackendToClient dst.SetHeader"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c0855d0e-9d34-4332-9bc4-4507337ad8f3","trace-id":"","span-id":"","time":"2024-04-03T10:24:01+05:00","message":"forwardBackendToClient try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c0855d0e-9d34-4332-9bc4-4507337ad8f3","trace-id":"","span-id":"","time":"2024-04-03T10:24:01+05:00","message":"forwardBackendToClient dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c0855d0e-9d34-4332-9bc4-4507337ad8f3","trace-id":"","span-id":"","time":"2024-04-03T10:24:01+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c0855d0e-9d34-4332-9bc4-4507337ad8f3","trace-id":"","span-id":"","time":"2024-04-03T10:24:01+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c0855d0e-9d34-4332-9bc4-4507337ad8f3","trace-id":"","span-id":"","time":"2024-04-03T10:24:01+05:00","message":"forwardBackendToClient src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c0855d0e-9d34-4332-9bc4-4507337ad8f3","trace-id":"","span-id":"","time":"2024-04-03T10:24:01+05:00","message":"b2cErr := <-b2cErrChan: err: EOF"}
{"level":"debug","x-request-id":"840f013a-0882-4642-8408-40b16d7b06e9","time":"2024-04-03T10:24:01+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"840f013a-0882-4642-8408-40b16d7b06e9","time":"2024-04-03T10:24:01+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Token"}
{"level":"info","x-request-id":"840f013a-0882-4642-8408-40b16d7b06e9","time":"2024-04-03T10:24:01+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"840f013a-0882-4642-8408-40b16d7b06e9","time":"2024-04-03T10:24:01+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"840f013a-0882-4642-8408-40b16d7b06e9","time":"2024-04-03T10:24:01+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"840f013a-0882-4642-8408-40b16d7b06e9","time":"2024-04-03T10:24:01+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"840f013a-0882-4642-8408-40b16d7b06e9","time":"2024-04-03T10:24:01+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"840f013a-0882-4642-8408-40b16d7b06e9","time":"2024-04-03T10:24:01+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"840f013a-0882-4642-8408-40b16d7b06e9","time":"2024-04-03T10:24:01+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"840f013a-0882-4642-8408-40b16d7b06e9","time":"2024-04-03T10:24:01+05:00","message":"jwt.extract jwt claims empty"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"840f013a-0882-4642-8408-40b16d7b06e9","trace-id":"","span-id":"","time":"2024-04-03T10:24:01+05:00","message":"grpc request with md: metadata.MD{\":authority\":[]string{\"upstream_balancer\"}, \":path\":[]string{\"/authn.AuthnService/Token\"}, \"client-ip\":[]string{\"172.23.20.6\"}, \"content-type\":[]string{\"application/grpc\"}, \"grpc-accept-encoding\":[]string{\"identity, deflate, gzip\"}, \"source-service\":[]string{\"/authn.AuthnService/Token\"}, \"user-agent\":[]string{\"grpc-python/1.59.0 grpc-c/36.0.0 (osx; chttp2)\"}, \"x-forwarded-for\":[]string{\"172.23.20.6\"}, \"x-forwarded-host\":[]string{\"dev-apigw-grpc.fortebank.com:443\"}, \"x-forwarded-port\":[]string{\"443\"}, \"x-forwarded-proto\":[]string{\"https\"}, \"x-forwarded-scheme\":[]string{\"https\"}, \"x-real-ip\":[]string{\"172.23.20.6\"}, \"x-request-id\":[]string{\"840f013a-0882-4642-8408-40b16d7b06e9\"}, \"x-scheme\":[]string{\"https\"}}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"840f013a-0882-4642-8408-40b16d7b06e9","trace-id":"","span-id":"","time":"2024-04-03T10:24:01+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"840f013a-0882-4642-8408-40b16d7b06e9","trace-id":"","span-id":"","time":"2024-04-03T10:24:01+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"840f013a-0882-4642-8408-40b16d7b06e9","trace-id":"","span-id":"","time":"2024-04-03T10:24:01+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"840f013a-0882-4642-8408-40b16d7b06e9","trace-id":"","span-id":"","time":"2024-04-03T10:24:01+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"840f013a-0882-4642-8408-40b16d7b06e9","trace-id":"","span-id":"","time":"2024-04-03T10:24:01+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"840f013a-0882-4642-8408-40b16d7b06e9","trace-id":"","span-id":"","time":"2024-04-03T10:24:01+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"840f013a-0882-4642-8408-40b16d7b06e9","trace-id":"","span-id":"","time":"2024-04-03T10:24:01+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"840f013a-0882-4642-8408-40b16d7b06e9","trace-id":"","span-id":"","time":"2024-04-03T10:24:01+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"840f013a-0882-4642-8408-40b16d7b06e9","trace-id":"","span-id":"","time":"2024-04-03T10:24:01+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"840f013a-0882-4642-8408-40b16d7b06e9","trace-id":"","span-id":"","time":"2024-04-03T10:24:01+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"840f013a-0882-4642-8408-40b16d7b06e9","trace-id":"","span-id":"","time":"2024-04-03T10:24:01+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"840f013a-0882-4642-8408-40b16d7b06e9","trace-id":"","span-id":"","time":"2024-04-03T10:24:01+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"840f013a-0882-4642-8408-40b16d7b06e9","trace-id":"","span-id":"","time":"2024-04-03T10:24:01+05:00","message":"forwardBackendToClient src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"840f013a-0882-4642-8408-40b16d7b06e9","trace-id":"","span-id":"","time":"2024-04-03T10:24:01+05:00","message":"forwardBackendToClient set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"840f013a-0882-4642-8408-40b16d7b06e9","trace-id":"","span-id":"","time":"2024-04-03T10:24:01+05:00","message":"forwardBackendToClient src.Header"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"840f013a-0882-4642-8408-40b16d7b06e9","trace-id":"","span-id":"","time":"2024-04-03T10:24:01+05:00","message":"forwardBackendToClient dst.SetHeader"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"840f013a-0882-4642-8408-40b16d7b06e9","trace-id":"","span-id":"","time":"2024-04-03T10:24:01+05:00","message":"forwardBackendToClient try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"840f013a-0882-4642-8408-40b16d7b06e9","trace-id":"","span-id":"","time":"2024-04-03T10:24:01+05:00","message":"forwardBackendToClient dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"840f013a-0882-4642-8408-40b16d7b06e9","trace-id":"","span-id":"","time":"2024-04-03T10:24:01+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"840f013a-0882-4642-8408-40b16d7b06e9","trace-id":"","span-id":"","time":"2024-04-03T10:24:01+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"840f013a-0882-4642-8408-40b16d7b06e9","trace-id":"","span-id":"","time":"2024-04-03T10:24:01+05:00","message":"forwardBackendToClient src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"840f013a-0882-4642-8408-40b16d7b06e9","trace-id":"","span-id":"","time":"2024-04-03T10:24:01+05:00","message":"b2cErr := <-b2cErrChan: err: EOF"}
{"level":"debug","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","time":"2024-04-03T10:24:03+05:00","message":"authn.cookie not found"}
{"level":"debug","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","time":"2024-04-03T10:24:03+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","time":"2024-04-03T10:24:03+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"acjgkpkbuocjyuf\", \"phone\":\"+77770655673\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"760827050427\"}, \"exp\":1.712985841e+09, \"iat\":1.712121841e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"a9b037ce-ef09-4b39-be07-ae5050546473\", \"nbf\":1.712121841e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15930\"}"}
{"level":"info","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","time":"2024-04-03T10:24:03+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","time":"2024-04-03T10:24:03+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"acjgkpkbuocjyuf\", \"phone\":\"+77770655673\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"760827050427\"}, \"exp\":1.712985841e+09, \"iat\":1.712121841e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"a9b037ce-ef09-4b39-be07-ae5050546473\", \"nbf\":1.712121841e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15930\"}"}
{"level":"info","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","time":"2024-04-03T10:24:03+05:00","message":"jwt.extract set User-Id to 15930"}
{"level":"info","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","time":"2024-04-03T10:24:03+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","time":"2024-04-03T10:24:03+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"acjgkpkbuocjyuf\", \"phone\":\"+77770655673\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"760827050427\"}, \"exp\":1.712985841e+09, \"iat\":1.712121841e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"a9b037ce-ef09-4b39-be07-ae5050546473\", \"nbf\":1.712121841e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15930\"}"}
{"level":"info","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","time":"2024-04-03T10:24:03+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","time":"2024-04-03T10:24:03+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"acjgkpkbuocjyuf\", \"phone\":\"+77770655673\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"760827050427\"}, \"exp\":1.712985841e+09, \"iat\":1.712121841e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"a9b037ce-ef09-4b39-be07-ae5050546473\", \"nbf\":1.712121841e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15930\"}"}
{"level":"info","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","time":"2024-04-03T10:24:03+05:00","message":"jwt.extract set Username to 760827050427"}
{"level":"info","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","time":"2024-04-03T10:24:03+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","time":"2024-04-03T10:24:03+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"acjgkpkbuocjyuf\", \"phone\":\"+77770655673\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"760827050427\"}, \"exp\":1.712985841e+09, \"iat\":1.712121841e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"a9b037ce-ef09-4b39-be07-ae5050546473\", \"nbf\":1.712121841e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15930\"}"}
{"level":"info","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","time":"2024-04-03T10:24:03+05:00","message":"jwt.extract set Phone to +77770655673"}
{"level":"info","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","time":"2024-04-03T10:24:03+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","time":"2024-04-03T10:24:03+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"acjgkpkbuocjyuf\", \"phone\":\"+77770655673\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"760827050427\"}, \"exp\":1.712985841e+09, \"iat\":1.712121841e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"a9b037ce-ef09-4b39-be07-ae5050546473\", \"nbf\":1.712121841e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15930\"}"}
{"level":"info","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","time":"2024-04-03T10:24:03+05:00","message":"jwt.extract set otp_datetime to 1712121841"}
{"level":"info","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","time":"2024-04-03T10:24:03+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","time":"2024-04-03T10:24:03+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"acjgkpkbuocjyuf\", \"phone\":\"+77770655673\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"760827050427\"}, \"exp\":1.712985841e+09, \"iat\":1.712121841e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"a9b037ce-ef09-4b39-be07-ae5050546473\", \"nbf\":1.712121841e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15930\"}"}
{"level":"info","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","time":"2024-04-03T10:24:03+05:00","message":"jwt.extract set username to 760827050427"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","trace-id":"","span-id":"","time":"2024-04-03T10:24:03+05:00","message":"grpcConnAdd /clientpass.ClientpassService/StartClientPass 60f1abec-b263-47cd-b6d1-3a8c80b27f8c"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","trace-id":"","span-id":"","time":"2024-04-03T10:24:03+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","trace-id":"","span-id":"","time":"2024-04-03T10:24:03+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","trace-id":"","span-id":"","time":"2024-04-03T10:24:03+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","trace-id":"","span-id":"","time":"2024-04-03T10:24:03+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","trace-id":"","span-id":"","time":"2024-04-03T10:24:03+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","trace-id":"","span-id":"","time":"2024-04-03T10:24:03+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","trace-id":"","span-id":"","time":"2024-04-03T10:24:03+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","trace-id":"","span-id":"","time":"2024-04-03T10:24:03+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","trace-id":"","span-id":"","time":"2024-04-03T10:24:03+05:00","message":"brokerClientStream brokerClientStream SendMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","trace-id":"","span-id":"","time":"2024-04-03T10:24:03+05:00","message":"brokerClientStream try to publish to client.clientpass.startclientpass.in msg with hdr: metadata.Metadata{\"Authorization\":\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMTU5MzAiLCJleHAiOjE3MTI5ODU4NDEsIm5iZiI6MTcxMjEyMTg0MSwiaWF0IjoxNzEyMTIxODQxLCJqdGkiOiJhOWIwMzdjZS1lZjA5LTRiMzktYmUwNy1hZTUwNTA1NDY0NzMiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoiYWNqZ2twa2J1b2NqeXVmIiwicGhvbmUiOiIrNzc3NzA2NTU2NzMiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6Ijc2MDgyNzA1MDQyNyJ9fQ.B76a-kNhK61irPZC8cGimzBtkeHenI3qpD5t69gvMCxLHJWsMc8NVTaTwAcE-FVMLpDje0RhdwqQDBQ9q20sVIUE7OhQL2CDx7cQ3hsi9Aj9awhKxkpuDsNvEbAbhhN5OcKxMd80qxbh4otfmZrO1nvKQ0WnFJkenFjIOG7zhezy-TLS35CpstV-WoEA5ukbfOJkvrRWnc9K0ohZF7ZirhoE07gCY41S0P6tf3Bb1y95PfQA3gfFPqd522QG24nVHlJY2-QgzGImQN9rFf5JiVf2loSHV8-EBLfoiZaXcnj1PqfoVShHrMedR3pUe7qv7kiGbdvxEqig6ChFYHAaUQ\", \"Client-Ip\":\"172.23.20.6\", \"Content-Type\":\"application/grpc\", \"Otp_datetime\":\"1712121841\", \"Phone\":\"+77770655673\", \"Source-Service\":\"/clientpass.ClientpassService/StartClientPass\", \"User-Id\":\"15930\", \"Username\":\"760827050427\", \"X-Forwarded-For\":\"172.23.20.6\", \"X-Forwarded-Port\":\"443\", \"X-Real-Ip\":\"172.23.20.6\", \"X-Request-Id\":\"60f1abec-b263-47cd-b6d1-3a8c80b27f8c\"}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","trace-id":"","span-id":"","time":"2024-04-03T10:24:03+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","trace-id":"","span-id":"","time":"2024-04-03T10:24:03+05:00","message":"brokerClientStream CloseSend method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","trace-id":"","span-id":"","time":"2024-04-03T10:24:03+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","trace-id":"","span-id":"","time":"2024-04-03T10:24:03+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","trace-id":"","span-id":"","time":"2024-04-03T10:24:03+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","trace-id":"","span-id":"","time":"2024-04-03T10:24:03+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","trace-id":"","span-id":"","time":"2024-04-03T10:24:03+05:00","message":"brokerClientStream CloseSend method"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","trace-id":"","span-id":"","time":"2024-04-03T10:24:03+05:00","message":"failed to CloseSend grpc conn: file already closed"}
{"level":"info","X-Request-Id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","trace-id":"","span-id":"","time":"2024-04-03T10:24:03+05:00","message":"get message for service: /clientpass.ClientpassService/StartClientPass with md map[Authorization:Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMTU5MzAiLCJleHAiOjE3MTI5ODU4NDEsIm5iZiI6MTcxMjEyMTg0MSwiaWF0IjoxNzEyMTIxODQxLCJqdGkiOiJhOWIwMzdjZS1lZjA5LTRiMzktYmUwNy1hZTUwNTA1NDY0NzMiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoiYWNqZ2twa2J1b2NqeXVmIiwicGhvbmUiOiIrNzc3NzA2NTU2NzMiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6Ijc2MDgyNzA1MDQyNyJ9fQ.B76a-kNhK61irPZC8cGimzBtkeHenI3qpD5t69gvMCxLHJWsMc8NVTaTwAcE-FVMLpDje0RhdwqQDBQ9q20sVIUE7OhQL2CDx7cQ3hsi9Aj9awhKxkpuDsNvEbAbhhN5OcKxMd80qxbh4otfmZrO1nvKQ0WnFJkenFjIOG7zhezy-TLS35CpstV-WoEA5ukbfOJkvrRWnc9K0ohZF7ZirhoE07gCY41S0P6tf3Bb1y95PfQA3gfFPqd522QG24nVHlJY2-QgzGImQN9rFf5JiVf2loSHV8-EBLfoiZaXcnj1PqfoVShHrMedR3pUe7qv7kiGbdvxEqig6ChFYHAaUQ Client-Ip:172.23.20.6 Content-Type:application/grpc Micro-Topic:apigw.in Otp_datetime:1712121841 Phone:+77770655673 Source-Service:/clientpass.ClientpassService/StartClientPass Uber-Trace-Id:5fee2310575cfa65:1478a41a43abf959:5fee2310575cfa65:1 User-Id:15930 Username:760827050427 X-Forwarded-For:172.23.20.6 X-Forwarded-Port:443 X-Real-Ip:172.23.20.6 X-Request-Id:60f1abec-b263-47cd-b6d1-3a8c80b27f8c]"}
{"level":"info","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","trace-id":"","span-id":"","time":"2024-04-03T10:24:03+05:00","message":"get message for service: /clientpass.ClientpassService/StartClientPass"}
{"level":"debug","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","trace-id":"","span-id":"","time":"2024-04-03T10:24:03+05:00","message":"grpcConnGet: /clientpass.ClientpassService/StartClientPass via 60f1abec-b263-47cd-b6d1-3a8c80b27f8c"}
{"level":"debug","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","trace-id":"","span-id":"","time":"2024-04-03T10:24:03+05:00","message":"grpc use stream conn: &handler.grpcProxy{grpcStream:(*handler.grpcServerStream)(0xc0001380b0), kafkaStream:(*handler.grpcClientStream)(0xc000138210)} sourceService: /clientpass.ClientpassService/StartClientPass"}
{"level":"info","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","trace-id":"","span-id":"","time":"2024-04-03T10:24:03+05:00","message":"start transfer response from kafka"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","trace-id":"","span-id":"","time":"2024-04-03T10:24:03+05:00","message":"brokerClientStream SetHeader method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","trace-id":"","span-id":"","time":"2024-04-03T10:24:03+05:00","message":"brokerClientStream SetMsg method"}
{"level":"info","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","trace-id":"","span-id":"","time":"2024-04-03T10:24:03+05:00","message":"stop transfer response from kafka"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","trace-id":"","span-id":"","time":"2024-04-03T10:24:03+05:00","message":"brokerClientStream RecvMsg method data"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","trace-id":"","span-id":"","time":"2024-04-03T10:24:03+05:00","message":"forwardBackendToClient src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","trace-id":"","span-id":"","time":"2024-04-03T10:24:03+05:00","message":"forwardBackendToClient set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","trace-id":"","span-id":"","time":"2024-04-03T10:24:03+05:00","message":"forwardBackendToClient src.Header"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","trace-id":"","span-id":"","time":"2024-04-03T10:24:03+05:00","message":"brokerClientStream Header method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","trace-id":"","span-id":"","time":"2024-04-03T10:24:03+05:00","message":"forwardBackendToClient dst.SetHeader"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","trace-id":"","span-id":"","time":"2024-04-03T10:24:03+05:00","message":"forwardBackendToClient try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","trace-id":"","span-id":"","time":"2024-04-03T10:24:03+05:00","message":"forwardBackendToClient dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","trace-id":"","span-id":"","time":"2024-04-03T10:24:03+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","trace-id":"","span-id":"","time":"2024-04-03T10:24:03+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","trace-id":"","span-id":"","time":"2024-04-03T10:24:03+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","trace-id":"","span-id":"","time":"2024-04-03T10:24:03+05:00","message":"brokerClientStream Close method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","trace-id":"","span-id":"","time":"2024-04-03T10:24:03+05:00","message":"brokerClientStream RecvMsg method !s.serverStream && s.recvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","trace-id":"","span-id":"","time":"2024-04-03T10:24:03+05:00","message":"forwardBackendToClient src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","trace-id":"","span-id":"","time":"2024-04-03T10:24:03+05:00","message":"b2cErr := <-b2cErrChan: err: EOF"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","trace-id":"","span-id":"","time":"2024-04-03T10:24:03+05:00","message":"brokerClientStream Trailer method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","trace-id":"","span-id":"","time":"2024-04-03T10:24:03+05:00","message":"grpcConnDel /clientpass.ClientpassService/StartClientPass 60f1abec-b263-47cd-b6d1-3a8c80b27f8c"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"60f1abec-b263-47cd-b6d1-3a8c80b27f8c","trace-id":"","span-id":"","time":"2024-04-03T10:24:03+05:00","message":"grpc handler exit"}
{"level":"debug","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","time":"2024-04-03T10:24:04+05:00","message":"authn.cookie not found"}
{"level":"debug","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","time":"2024-04-03T10:24:04+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","time":"2024-04-03T10:24:04+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"acjgkpkbuocjyuf\", \"phone\":\"+77770655673\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"760827050427\"}, \"exp\":1.712985841e+09, \"iat\":1.712121841e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"a9b037ce-ef09-4b39-be07-ae5050546473\", \"nbf\":1.712121841e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15930\"}"}
{"level":"info","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","time":"2024-04-03T10:24:04+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","time":"2024-04-03T10:24:04+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"acjgkpkbuocjyuf\", \"phone\":\"+77770655673\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"760827050427\"}, \"exp\":1.712985841e+09, \"iat\":1.712121841e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"a9b037ce-ef09-4b39-be07-ae5050546473\", \"nbf\":1.712121841e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15930\"}"}
{"level":"info","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","time":"2024-04-03T10:24:04+05:00","message":"jwt.extract set User-Id to 15930"}
{"level":"info","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","time":"2024-04-03T10:24:04+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","time":"2024-04-03T10:24:04+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"acjgkpkbuocjyuf\", \"phone\":\"+77770655673\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"760827050427\"}, \"exp\":1.712985841e+09, \"iat\":1.712121841e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"a9b037ce-ef09-4b39-be07-ae5050546473\", \"nbf\":1.712121841e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15930\"}"}
{"level":"info","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","time":"2024-04-03T10:24:04+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","time":"2024-04-03T10:24:04+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"acjgkpkbuocjyuf\", \"phone\":\"+77770655673\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"760827050427\"}, \"exp\":1.712985841e+09, \"iat\":1.712121841e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"a9b037ce-ef09-4b39-be07-ae5050546473\", \"nbf\":1.712121841e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15930\"}"}
{"level":"info","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","time":"2024-04-03T10:24:04+05:00","message":"jwt.extract set Username to 760827050427"}
{"level":"info","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","time":"2024-04-03T10:24:04+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","time":"2024-04-03T10:24:04+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"acjgkpkbuocjyuf\", \"phone\":\"+77770655673\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"760827050427\"}, \"exp\":1.712985841e+09, \"iat\":1.712121841e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"a9b037ce-ef09-4b39-be07-ae5050546473\", \"nbf\":1.712121841e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15930\"}"}
{"level":"info","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","time":"2024-04-03T10:24:04+05:00","message":"jwt.extract set Phone to +77770655673"}
{"level":"info","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","time":"2024-04-03T10:24:04+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","time":"2024-04-03T10:24:04+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"acjgkpkbuocjyuf\", \"phone\":\"+77770655673\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"760827050427\"}, \"exp\":1.712985841e+09, \"iat\":1.712121841e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"a9b037ce-ef09-4b39-be07-ae5050546473\", \"nbf\":1.712121841e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15930\"}"}
{"level":"info","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","time":"2024-04-03T10:24:04+05:00","message":"jwt.extract set username to 760827050427"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","trace-id":"","span-id":"","time":"2024-04-03T10:24:04+05:00","message":"grpcConnAdd /clientpass.ClientpassService/OnboardingPass cee7b2bb-53be-4c29-bec1-d1c0e7a23634"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","trace-id":"","span-id":"","time":"2024-04-03T10:24:04+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","trace-id":"","span-id":"","time":"2024-04-03T10:24:04+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","trace-id":"","span-id":"","time":"2024-04-03T10:24:04+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","trace-id":"","span-id":"","time":"2024-04-03T10:24:04+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","trace-id":"","span-id":"","time":"2024-04-03T10:24:04+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","trace-id":"","span-id":"","time":"2024-04-03T10:24:04+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","trace-id":"","span-id":"","time":"2024-04-03T10:24:04+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","trace-id":"","span-id":"","time":"2024-04-03T10:24:04+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","trace-id":"","span-id":"","time":"2024-04-03T10:24:04+05:00","message":"brokerClientStream brokerClientStream SendMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","trace-id":"","span-id":"","time":"2024-04-03T10:24:04+05:00","message":"brokerClientStream try to publish to client.clientpass.onboarding.in msg with hdr: metadata.Metadata{\"Authorization\":\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMTU5MzAiLCJleHAiOjE3MTI5ODU4NDEsIm5iZiI6MTcxMjEyMTg0MSwiaWF0IjoxNzEyMTIxODQxLCJqdGkiOiJhOWIwMzdjZS1lZjA5LTRiMzktYmUwNy1hZTUwNTA1NDY0NzMiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoiYWNqZ2twa2J1b2NqeXVmIiwicGhvbmUiOiIrNzc3NzA2NTU2NzMiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6Ijc2MDgyNzA1MDQyNyJ9fQ.B76a-kNhK61irPZC8cGimzBtkeHenI3qpD5t69gvMCxLHJWsMc8NVTaTwAcE-FVMLpDje0RhdwqQDBQ9q20sVIUE7OhQL2CDx7cQ3hsi9Aj9awhKxkpuDsNvEbAbhhN5OcKxMd80qxbh4otfmZrO1nvKQ0WnFJkenFjIOG7zhezy-TLS35CpstV-WoEA5ukbfOJkvrRWnc9K0ohZF7ZirhoE07gCY41S0P6tf3Bb1y95PfQA3gfFPqd522QG24nVHlJY2-QgzGImQN9rFf5JiVf2loSHV8-EBLfoiZaXcnj1PqfoVShHrMedR3pUe7qv7kiGbdvxEqig6ChFYHAaUQ\", \"Client-Ip\":\"172.23.20.6\", \"Content-Type\":\"application/grpc\", \"Phone\":\"+77770655673\", \"Source-Service\":\"/clientpass.ClientpassService/OnboardingPass\", \"User-Id\":\"15930\", \"Username\":\"760827050427\", \"X-Forwarded-For\":\"172.23.20.6\", \"X-Forwarded-Port\":\"443\", \"X-Real-Ip\":\"172.23.20.6\", \"X-Request-Id\":\"cee7b2bb-53be-4c29-bec1-d1c0e7a23634\"}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","trace-id":"","span-id":"","time":"2024-04-03T10:24:04+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","trace-id":"","span-id":"","time":"2024-04-03T10:24:04+05:00","message":"brokerClientStream CloseSend method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","trace-id":"","span-id":"","time":"2024-04-03T10:24:04+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","trace-id":"","span-id":"","time":"2024-04-03T10:24:04+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","trace-id":"","span-id":"","time":"2024-04-03T10:24:04+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","trace-id":"","span-id":"","time":"2024-04-03T10:24:04+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","trace-id":"","span-id":"","time":"2024-04-03T10:24:04+05:00","message":"brokerClientStream CloseSend method"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","trace-id":"","span-id":"","time":"2024-04-03T10:24:04+05:00","message":"failed to CloseSend grpc conn: file already closed"}
{"level":"info","X-Request-Id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","trace-id":"","span-id":"","time":"2024-04-03T10:24:04+05:00","message":"get message for service: /clientpass.ClientpassService/OnboardingPass with md map[Authorization:Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMTU5MzAiLCJleHAiOjE3MTI5ODU4NDEsIm5iZiI6MTcxMjEyMTg0MSwiaWF0IjoxNzEyMTIxODQxLCJqdGkiOiJhOWIwMzdjZS1lZjA5LTRiMzktYmUwNy1hZTUwNTA1NDY0NzMiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoiYWNqZ2twa2J1b2NqeXVmIiwicGhvbmUiOiIrNzc3NzA2NTU2NzMiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6Ijc2MDgyNzA1MDQyNyJ9fQ.B76a-kNhK61irPZC8cGimzBtkeHenI3qpD5t69gvMCxLHJWsMc8NVTaTwAcE-FVMLpDje0RhdwqQDBQ9q20sVIUE7OhQL2CDx7cQ3hsi9Aj9awhKxkpuDsNvEbAbhhN5OcKxMd80qxbh4otfmZrO1nvKQ0WnFJkenFjIOG7zhezy-TLS35CpstV-WoEA5ukbfOJkvrRWnc9K0ohZF7ZirhoE07gCY41S0P6tf3Bb1y95PfQA3gfFPqd522QG24nVHlJY2-QgzGImQN9rFf5JiVf2loSHV8-EBLfoiZaXcnj1PqfoVShHrMedR3pUe7qv7kiGbdvxEqig6ChFYHAaUQ Client-Ip:172.23.20.6 Content-Type:application/grpc Micro-Topic:apigw.in Phone:+77770655673 Source-Service:/clientpass.ClientpassService/OnboardingPass Uber-Trace-Id:570bad9f1fb90ab7:74a43eddc93d7777:5794d06a55c8ab2e:1 User-Id:15930 Username:760827050427 X-Forwarded-For:172.23.20.6 X-Forwarded-Port:443 X-Real-Ip:172.23.20.6 X-Request-Id:cee7b2bb-53be-4c29-bec1-d1c0e7a23634]"}
{"level":"info","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","trace-id":"","span-id":"","time":"2024-04-03T10:24:04+05:00","message":"get message for service: /clientpass.ClientpassService/OnboardingPass"}
{"level":"debug","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","trace-id":"","span-id":"","time":"2024-04-03T10:24:04+05:00","message":"grpcConnGet: /clientpass.ClientpassService/OnboardingPass via cee7b2bb-53be-4c29-bec1-d1c0e7a23634"}
{"level":"debug","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","trace-id":"","span-id":"","time":"2024-04-03T10:24:04+05:00","message":"grpc use stream conn: &handler.grpcProxy{grpcStream:(*handler.grpcServerStream)(0xc000410c60), kafkaStream:(*handler.grpcClientStream)(0xc000410d10)} sourceService: /clientpass.ClientpassService/OnboardingPass"}
{"level":"info","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","trace-id":"","span-id":"","time":"2024-04-03T10:24:04+05:00","message":"start transfer response from kafka"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","trace-id":"","span-id":"","time":"2024-04-03T10:24:04+05:00","message":"brokerClientStream SetHeader method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","trace-id":"","span-id":"","time":"2024-04-03T10:24:04+05:00","message":"brokerClientStream SetMsg method"}
{"level":"info","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","trace-id":"","span-id":"","time":"2024-04-03T10:24:04+05:00","message":"stop transfer response from kafka"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","trace-id":"","span-id":"","time":"2024-04-03T10:24:04+05:00","message":"brokerClientStream RecvMsg method data"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","trace-id":"","span-id":"","time":"2024-04-03T10:24:04+05:00","message":"forwardBackendToClient src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","trace-id":"","span-id":"","time":"2024-04-03T10:24:04+05:00","message":"forwardBackendToClient set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","trace-id":"","span-id":"","time":"2024-04-03T10:24:04+05:00","message":"forwardBackendToClient src.Header"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","trace-id":"","span-id":"","time":"2024-04-03T10:24:04+05:00","message":"brokerClientStream Header method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","trace-id":"","span-id":"","time":"2024-04-03T10:24:04+05:00","message":"forwardBackendToClient dst.SetHeader"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","trace-id":"","span-id":"","time":"2024-04-03T10:24:04+05:00","message":"forwardBackendToClient try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","trace-id":"","span-id":"","time":"2024-04-03T10:24:04+05:00","message":"forwardBackendToClient dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","trace-id":"","span-id":"","time":"2024-04-03T10:24:04+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","trace-id":"","span-id":"","time":"2024-04-03T10:24:04+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","trace-id":"","span-id":"","time":"2024-04-03T10:24:04+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","trace-id":"","span-id":"","time":"2024-04-03T10:24:04+05:00","message":"brokerClientStream Close method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","trace-id":"","span-id":"","time":"2024-04-03T10:24:04+05:00","message":"brokerClientStream RecvMsg method !s.serverStream && s.recvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","trace-id":"","span-id":"","time":"2024-04-03T10:24:04+05:00","message":"forwardBackendToClient src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","trace-id":"","span-id":"","time":"2024-04-03T10:24:04+05:00","message":"b2cErr := <-b2cErrChan: err: EOF"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","trace-id":"","span-id":"","time":"2024-04-03T10:24:04+05:00","message":"brokerClientStream Trailer method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","trace-id":"","span-id":"","time":"2024-04-03T10:24:04+05:00","message":"grpcConnDel /clientpass.ClientpassService/OnboardingPass cee7b2bb-53be-4c29-bec1-d1c0e7a23634"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"cee7b2bb-53be-4c29-bec1-d1c0e7a23634","trace-id":"","span-id":"","time":"2024-04-03T10:24:04+05:00","message":"grpc handler exit"}
{"level":"debug","x-request-id":"50593b6c-bfbf-4825-b9b8-ee045a7b67b1","time":"2024-04-03T10:24:05+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"50593b6c-bfbf-4825-b9b8-ee045a7b67b1","time":"2024-04-03T10:24:05+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Login"}
{"level":"info","x-request-id":"50593b6c-bfbf-4825-b9b8-ee045a7b67b1","time":"2024-04-03T10:24:05+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"50593b6c-bfbf-4825-b9b8-ee045a7b67b1","time":"2024-04-03T10:24:05+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"50593b6c-bfbf-4825-b9b8-ee045a7b67b1","time":"2024-04-03T10:24:05+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"50593b6c-bfbf-4825-b9b8-ee045a7b67b1","time":"2024-04-03T10:24:05+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"50593b6c-bfbf-4825-b9b8-ee045a7b67b1","time":"2024-04-03T10:24:05+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"50593b6c-bfbf-4825-b9b8-ee045a7b67b1","time":"2024-04-03T10:24:05+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"50593b6c-bfbf-4825-b9b8-ee045a7b67b1","time":"2024-04-03T10:24:05+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"50593b6c-bfbf-4825-b9b8-ee045a7b67b1","time":"2024-04-03T10:24:05+05:00","message":"jwt.extract jwt claims empty"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"50593b6c-bfbf-4825-b9b8-ee045a7b67b1","trace-id":"","span-id":"","time":"2024-04-03T10:24:05+05:00","message":"grpc request with md: metadata.MD{\":authority\":[]string{\"upstream_balancer\"}, \":path\":[]string{\"/authn.AuthnService/Login\"}, \"client-ip\":[]string{\"172.23.20.6\"}, \"content-type\":[]string{\"application/grpc\"}, \"grpc-accept-encoding\":[]string{\"identity, deflate, gzip\"}, \"source-service\":[]string{\"/authn.AuthnService/Login\"}, \"user-agent\":[]string{\"grpc-python/1.59.0 grpc-c/36.0.0 (osx; chttp2)\"}, \"x-forwarded-for\":[]string{\"172.23.20.6\"}, \"x-forwarded-host\":[]string{\"dev-apigw-grpc.fortebank.com:443\"}, \"x-forwarded-port\":[]string{\"443\"}, \"x-forwarded-proto\":[]string{\"https\"}, \"x-forwarded-scheme\":[]string{\"https\"}, \"x-real-ip\":[]string{\"172.23.20.6\"}, \"x-request-id\":[]string{\"50593b6c-bfbf-4825-b9b8-ee045a7b67b1\"}, \"x-scheme\":[]string{\"https\"}}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"50593b6c-bfbf-4825-b9b8-ee045a7b67b1","trace-id":"","span-id":"","time":"2024-04-03T10:24:05+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"50593b6c-bfbf-4825-b9b8-ee045a7b67b1","trace-id":"","span-id":"","time":"2024-04-03T10:24:05+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"50593b6c-bfbf-4825-b9b8-ee045a7b67b1","trace-id":"","span-id":"","time":"2024-04-03T10:24:05+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"50593b6c-bfbf-4825-b9b8-ee045a7b67b1","trace-id":"","span-id":"","time":"2024-04-03T10:24:05+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"50593b6c-bfbf-4825-b9b8-ee045a7b67b1","trace-id":"","span-id":"","time":"2024-04-03T10:24:05+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"50593b6c-bfbf-4825-b9b8-ee045a7b67b1","trace-id":"","span-id":"","time":"2024-04-03T10:24:05+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"50593b6c-bfbf-4825-b9b8-ee045a7b67b1","trace-id":"","span-id":"","time":"2024-04-03T10:24:05+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"50593b6c-bfbf-4825-b9b8-ee045a7b67b1","trace-id":"","span-id":"","time":"2024-04-03T10:24:05+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"50593b6c-bfbf-4825-b9b8-ee045a7b67b1","trace-id":"","span-id":"","time":"2024-04-03T10:24:05+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"50593b6c-bfbf-4825-b9b8-ee045a7b67b1","trace-id":"","span-id":"","time":"2024-04-03T10:24:05+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"50593b6c-bfbf-4825-b9b8-ee045a7b67b1","trace-id":"","span-id":"","time":"2024-04-03T10:24:05+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"50593b6c-bfbf-4825-b9b8-ee045a7b67b1","trace-id":"","span-id":"","time":"2024-04-03T10:24:05+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"50593b6c-bfbf-4825-b9b8-ee045a7b67b1","trace-id":"","span-id":"","time":"2024-04-03T10:24:05+05:00","message":"forwardBackendToClient src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"50593b6c-bfbf-4825-b9b8-ee045a7b67b1","trace-id":"","span-id":"","time":"2024-04-03T10:24:05+05:00","message":"forwardBackendToClient set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"50593b6c-bfbf-4825-b9b8-ee045a7b67b1","trace-id":"","span-id":"","time":"2024-04-03T10:24:05+05:00","message":"forwardBackendToClient src.Header"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"50593b6c-bfbf-4825-b9b8-ee045a7b67b1","trace-id":"","span-id":"","time":"2024-04-03T10:24:05+05:00","message":"forwardBackendToClient dst.SetHeader"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"50593b6c-bfbf-4825-b9b8-ee045a7b67b1","trace-id":"","span-id":"","time":"2024-04-03T10:24:05+05:00","message":"forwardBackendToClient try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"50593b6c-bfbf-4825-b9b8-ee045a7b67b1","trace-id":"","span-id":"","time":"2024-04-03T10:24:05+05:00","message":"forwardBackendToClient dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"50593b6c-bfbf-4825-b9b8-ee045a7b67b1","trace-id":"","span-id":"","time":"2024-04-03T10:24:05+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"50593b6c-bfbf-4825-b9b8-ee045a7b67b1","trace-id":"","span-id":"","time":"2024-04-03T10:24:05+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"50593b6c-bfbf-4825-b9b8-ee045a7b67b1","trace-id":"","span-id":"","time":"2024-04-03T10:24:05+05:00","message":"forwardBackendToClient src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"50593b6c-bfbf-4825-b9b8-ee045a7b67b1","trace-id":"","span-id":"","time":"2024-04-03T10:24:05+05:00","message":"b2cErr := <-b2cErrChan: err: EOF"}
{"level":"debug","x-request-id":"513cb4a5-43e1-4ee7-829d-5328714bca65","time":"2024-04-03T10:24:06+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"513cb4a5-43e1-4ee7-829d-5328714bca65","time":"2024-04-03T10:24:06+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Login"}
{"level":"info","x-request-id":"513cb4a5-43e1-4ee7-829d-5328714bca65","time":"2024-04-03T10:24:06+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"513cb4a5-43e1-4ee7-829d-5328714bca65","time":"2024-04-03T10:24:06+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"513cb4a5-43e1-4ee7-829d-5328714bca65","time":"2024-04-03T10:24:06+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"513cb4a5-43e1-4ee7-829d-5328714bca65","time":"2024-04-03T10:24:06+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"513cb4a5-43e1-4ee7-829d-5328714bca65","time":"2024-04-03T10:24:06+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"513cb4a5-43e1-4ee7-829d-5328714bca65","time":"2024-04-03T10:24:06+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"513cb4a5-43e1-4ee7-829d-5328714bca65","time":"2024-04-03T10:24:06+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"513cb4a5-43e1-4ee7-829d-5328714bca65","time":"2024-04-03T10:24:06+05:00","message":"jwt.extract jwt claims empty"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"513cb4a5-43e1-4ee7-829d-5328714bca65","trace-id":"","span-id":"","time":"2024-04-03T10:24:06+05:00","message":"grpc request with md: metadata.MD{\":authority\":[]string{\"upstream_balancer\"}, \":path\":[]string{\"/authn.AuthnService/Login\"}, \"client-ip\":[]string{\"172.23.20.6\"}, \"content-type\":[]string{\"application/grpc\"}, \"grpc-accept-encoding\":[]string{\"identity, deflate, gzip\"}, \"source-service\":[]string{\"/authn.AuthnService/Login\"}, \"user-agent\":[]string{\"grpc-python/1.59.0 grpc-c/36.0.0 (osx; chttp2)\"}, \"x-forwarded-for\":[]string{\"172.23.20.6\"}, \"x-forwarded-host\":[]string{\"dev-apigw-grpc.fortebank.com:443\"}, \"x-forwarded-port\":[]string{\"443\"}, \"x-forwarded-proto\":[]string{\"https\"}, \"x-forwarded-scheme\":[]string{\"https\"}, \"x-real-ip\":[]string{\"172.23.20.6\"}, \"x-request-id\":[]string{\"513cb4a5-43e1-4ee7-829d-5328714bca65\"}, \"x-scheme\":[]string{\"https\"}}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"513cb4a5-43e1-4ee7-829d-5328714bca65","trace-id":"","span-id":"","time":"2024-04-03T10:24:06+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"513cb4a5-43e1-4ee7-829d-5328714bca65","trace-id":"","span-id":"","time":"2024-04-03T10:24:06+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"513cb4a5-43e1-4ee7-829d-5328714bca65","trace-id":"","span-id":"","time":"2024-04-03T10:24:06+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"513cb4a5-43e1-4ee7-829d-5328714bca65","trace-id":"","span-id":"","time":"2024-04-03T10:24:06+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"513cb4a5-43e1-4ee7-829d-5328714bca65","trace-id":"","span-id":"","time":"2024-04-03T10:24:06+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"513cb4a5-43e1-4ee7-829d-5328714bca65","trace-id":"","span-id":"","time":"2024-04-03T10:24:06+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"513cb4a5-43e1-4ee7-829d-5328714bca65","trace-id":"","span-id":"","time":"2024-04-03T10:24:06+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"513cb4a5-43e1-4ee7-829d-5328714bca65","trace-id":"","span-id":"","time":"2024-04-03T10:24:06+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"513cb4a5-43e1-4ee7-829d-5328714bca65","trace-id":"","span-id":"","time":"2024-04-03T10:24:06+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"513cb4a5-43e1-4ee7-829d-5328714bca65","trace-id":"","span-id":"","time":"2024-04-03T10:24:06+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"513cb4a5-43e1-4ee7-829d-5328714bca65","trace-id":"","span-id":"","time":"2024-04-03T10:24:06+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"513cb4a5-43e1-4ee7-829d-5328714bca65","trace-id":"","span-id":"","time":"2024-04-03T10:24:06+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"513cb4a5-43e1-4ee7-829d-5328714bca65","trace-id":"","span-id":"","time":"2024-04-03T10:24:07+05:00","message":"forwardBackendToClient src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"513cb4a5-43e1-4ee7-829d-5328714bca65","trace-id":"","span-id":"","time":"2024-04-03T10:24:07+05:00","message":"forwardBackendToClient set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"513cb4a5-43e1-4ee7-829d-5328714bca65","trace-id":"","span-id":"","time":"2024-04-03T10:24:07+05:00","message":"forwardBackendToClient src.Header"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"513cb4a5-43e1-4ee7-829d-5328714bca65","trace-id":"","span-id":"","time":"2024-04-03T10:24:07+05:00","message":"forwardBackendToClient dst.SetHeader"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"513cb4a5-43e1-4ee7-829d-5328714bca65","trace-id":"","span-id":"","time":"2024-04-03T10:24:07+05:00","message":"forwardBackendToClient try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"513cb4a5-43e1-4ee7-829d-5328714bca65","trace-id":"","span-id":"","time":"2024-04-03T10:24:07+05:00","message":"forwardBackendToClient dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"513cb4a5-43e1-4ee7-829d-5328714bca65","trace-id":"","span-id":"","time":"2024-04-03T10:24:07+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"513cb4a5-43e1-4ee7-829d-5328714bca65","trace-id":"","span-id":"","time":"2024-04-03T10:24:07+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"513cb4a5-43e1-4ee7-829d-5328714bca65","trace-id":"","span-id":"","time":"2024-04-03T10:24:07+05:00","message":"forwardBackendToClient src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"513cb4a5-43e1-4ee7-829d-5328714bca65","trace-id":"","span-id":"","time":"2024-04-03T10:24:07+05:00","message":"b2cErr := <-b2cErrChan: err: EOF"}
{"level":"debug","x-request-id":"783a6832-9206-42de-897e-9849e3d5aeee","time":"2024-04-03T10:24:07+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"783a6832-9206-42de-897e-9849e3d5aeee","time":"2024-04-03T10:24:07+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Token"}
{"level":"info","x-request-id":"783a6832-9206-42de-897e-9849e3d5aeee","time":"2024-04-03T10:24:07+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"783a6832-9206-42de-897e-9849e3d5aeee","time":"2024-04-03T10:24:07+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"783a6832-9206-42de-897e-9849e3d5aeee","time":"2024-04-03T10:24:07+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"783a6832-9206-42de-897e-9849e3d5aeee","time":"2024-04-03T10:24:07+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"783a6832-9206-42de-897e-9849e3d5aeee","time":"2024-04-03T10:24:07+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"783a6832-9206-42de-897e-9849e3d5aeee","time":"2024-04-03T10:24:07+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"783a6832-9206-42de-897e-9849e3d5aeee","time":"2024-04-03T10:24:07+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"783a6832-9206-42de-897e-9849e3d5aeee","time":"2024-04-03T10:24:07+05:00","message":"jwt.extract jwt claims empty"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"783a6832-9206-42de-897e-9849e3d5aeee","trace-id":"","span-id":"","time":"2024-04-03T10:24:07+05:00","message":"grpc request with md: metadata.MD{\":authority\":[]string{\"upstream_balancer\"}, \":path\":[]string{\"/authn.AuthnService/Token\"}, \"client-ip\":[]string{\"172.23.20.6\"}, \"content-type\":[]string{\"application/grpc\"}, \"grpc-accept-encoding\":[]string{\"identity, deflate, gzip\"}, \"source-service\":[]string{\"/authn.AuthnService/Token\"}, \"user-agent\":[]string{\"grpc-python/1.59.0 grpc-c/36.0.0 (osx; chttp2)\"}, \"x-forwarded-for\":[]string{\"172.23.20.6\"}, \"x-forwarded-host\":[]string{\"dev-apigw-grpc.fortebank.com:443\"}, \"x-forwarded-port\":[]string{\"443\"}, \"x-forwarded-proto\":[]string{\"https\"}, \"x-forwarded-scheme\":[]string{\"https\"}, \"x-real-ip\":[]string{\"172.23.20.6\"}, \"x-request-id\":[]string{\"783a6832-9206-42de-897e-9849e3d5aeee\"}, \"x-scheme\":[]string{\"https\"}}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"783a6832-9206-42de-897e-9849e3d5aeee","trace-id":"","span-id":"","time":"2024-04-03T10:24:07+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"783a6832-9206-42de-897e-9849e3d5aeee","trace-id":"","span-id":"","time":"2024-04-03T10:24:07+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"783a6832-9206-42de-897e-9849e3d5aeee","trace-id":"","span-id":"","time":"2024-04-03T10:24:07+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"783a6832-9206-42de-897e-9849e3d5aeee","trace-id":"","span-id":"","time":"2024-04-03T10:24:07+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"783a6832-9206-42de-897e-9849e3d5aeee","trace-id":"","span-id":"","time":"2024-04-03T10:24:07+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"783a6832-9206-42de-897e-9849e3d5aeee","trace-id":"","span-id":"","time":"2024-04-03T10:24:07+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"783a6832-9206-42de-897e-9849e3d5aeee","trace-id":"","span-id":"","time":"2024-04-03T10:24:07+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"783a6832-9206-42de-897e-9849e3d5aeee","trace-id":"","span-id":"","time":"2024-04-03T10:24:07+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"783a6832-9206-42de-897e-9849e3d5aeee","trace-id":"","span-id":"","time":"2024-04-03T10:24:07+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"783a6832-9206-42de-897e-9849e3d5aeee","trace-id":"","span-id":"","time":"2024-04-03T10:24:07+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"783a6832-9206-42de-897e-9849e3d5aeee","trace-id":"","span-id":"","time":"2024-04-03T10:24:07+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"783a6832-9206-42de-897e-9849e3d5aeee","trace-id":"","span-id":"","time":"2024-04-03T10:24:07+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"783a6832-9206-42de-897e-9849e3d5aeee","trace-id":"","span-id":"","time":"2024-04-03T10:24:07+05:00","message":"forwardBackendToClient src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"783a6832-9206-42de-897e-9849e3d5aeee","trace-id":"","span-id":"","time":"2024-04-03T10:24:07+05:00","message":"forwardBackendToClient set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"783a6832-9206-42de-897e-9849e3d5aeee","trace-id":"","span-id":"","time":"2024-04-03T10:24:07+05:00","message":"forwardBackendToClient src.Header"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"783a6832-9206-42de-897e-9849e3d5aeee","trace-id":"","span-id":"","time":"2024-04-03T10:24:07+05:00","message":"forwardBackendToClient dst.SetHeader"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"783a6832-9206-42de-897e-9849e3d5aeee","trace-id":"","span-id":"","time":"2024-04-03T10:24:07+05:00","message":"forwardBackendToClient try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"783a6832-9206-42de-897e-9849e3d5aeee","trace-id":"","span-id":"","time":"2024-04-03T10:24:07+05:00","message":"forwardBackendToClient dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"783a6832-9206-42de-897e-9849e3d5aeee","trace-id":"","span-id":"","time":"2024-04-03T10:24:07+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"783a6832-9206-42de-897e-9849e3d5aeee","trace-id":"","span-id":"","time":"2024-04-03T10:24:07+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"783a6832-9206-42de-897e-9849e3d5aeee","trace-id":"","span-id":"","time":"2024-04-03T10:24:07+05:00","message":"forwardBackendToClient src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"783a6832-9206-42de-897e-9849e3d5aeee","trace-id":"","span-id":"","time":"2024-04-03T10:24:07+05:00","message":"b2cErr := <-b2cErrChan: err: EOF"}
{"level":"debug","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","time":"2024-04-03T10:24:09+05:00","message":"authn.cookie not found"}
{"level":"debug","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","time":"2024-04-03T10:24:09+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","time":"2024-04-03T10:24:09+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"enywlqnjetbvfgi\", \"phone\":\"+77053332900\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"801124300133\"}, \"exp\":1.712985847e+09, \"iat\":1.712121847e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"ba80e80e-5cf1-4869-8b48-6f9b994db54f\", \"nbf\":1.712121847e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"1085\"}"}
{"level":"info","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","time":"2024-04-03T10:24:09+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","time":"2024-04-03T10:24:09+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"enywlqnjetbvfgi\", \"phone\":\"+77053332900\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"801124300133\"}, \"exp\":1.712985847e+09, \"iat\":1.712121847e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"ba80e80e-5cf1-4869-8b48-6f9b994db54f\", \"nbf\":1.712121847e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"1085\"}"}
{"level":"info","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","time":"2024-04-03T10:24:09+05:00","message":"jwt.extract set User-Id to 1085"}
{"level":"info","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","time":"2024-04-03T10:24:09+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","time":"2024-04-03T10:24:09+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"enywlqnjetbvfgi\", \"phone\":\"+77053332900\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"801124300133\"}, \"exp\":1.712985847e+09, \"iat\":1.712121847e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"ba80e80e-5cf1-4869-8b48-6f9b994db54f\", \"nbf\":1.712121847e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"1085\"}"}
{"level":"info","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","time":"2024-04-03T10:24:09+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","time":"2024-04-03T10:24:09+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"enywlqnjetbvfgi\", \"phone\":\"+77053332900\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"801124300133\"}, \"exp\":1.712985847e+09, \"iat\":1.712121847e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"ba80e80e-5cf1-4869-8b48-6f9b994db54f\", \"nbf\":1.712121847e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"1085\"}"}
{"level":"info","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","time":"2024-04-03T10:24:09+05:00","message":"jwt.extract set Username to 801124300133"}
{"level":"info","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","time":"2024-04-03T10:24:09+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","time":"2024-04-03T10:24:09+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"enywlqnjetbvfgi\", \"phone\":\"+77053332900\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"801124300133\"}, \"exp\":1.712985847e+09, \"iat\":1.712121847e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"ba80e80e-5cf1-4869-8b48-6f9b994db54f\", \"nbf\":1.712121847e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"1085\"}"}
{"level":"info","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","time":"2024-04-03T10:24:09+05:00","message":"jwt.extract set Phone to +77053332900"}
{"level":"info","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","time":"2024-04-03T10:24:09+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","time":"2024-04-03T10:24:09+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"enywlqnjetbvfgi\", \"phone\":\"+77053332900\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"801124300133\"}, \"exp\":1.712985847e+09, \"iat\":1.712121847e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"ba80e80e-5cf1-4869-8b48-6f9b994db54f\", \"nbf\":1.712121847e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"1085\"}"}
{"level":"info","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","time":"2024-04-03T10:24:09+05:00","message":"jwt.extract set otp_datetime to 1712121847"}
{"level":"info","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","time":"2024-04-03T10:24:09+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","time":"2024-04-03T10:24:09+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"enywlqnjetbvfgi\", \"phone\":\"+77053332900\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"801124300133\"}, \"exp\":1.712985847e+09, \"iat\":1.712121847e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"ba80e80e-5cf1-4869-8b48-6f9b994db54f\", \"nbf\":1.712121847e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"1085\"}"}
{"level":"info","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","time":"2024-04-03T10:24:09+05:00","message":"jwt.extract set username to 801124300133"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:09+05:00","message":"grpcConnAdd /clientpass.ClientpassService/StartClientPass 813ed56b-e279-48d4-9c52-10d6c79e6ffc"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:09+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:09+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:09+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:09+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:09+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:09+05:00","message":"brokerClientStream brokerClientStream SendMsg method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:09+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:09+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:09+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:09+05:00","message":"brokerClientStream try to publish to client.clientpass.startclientpass.in msg with hdr: metadata.Metadata{\"Authorization\":\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMTA4NSIsImV4cCI6MTcxMjk4NTg0NywibmJmIjoxNzEyMTIxODQ3LCJpYXQiOjE3MTIxMjE4NDcsImp0aSI6ImJhODBlODBlLTVjZjEtNDg2OS04YjQ4LTZmOWI5OTRkYjU0ZiIsInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJtaWJfdXNlciJdfSwiY3VzdG9tIjp7ImNsaWVudF9pZCI6Im1pYl8zMF9hbmRyb2lkIiwibm9uY2UiOiJlbnl3bHFuamV0YnZmZ2kiLCJwaG9uZSI6Iis3NzA1MzMzMjkwMCIsInNjb3BlIjoib2ZmbGluZV9hY2Nlc3MiLCJ0b2tlbl90eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcl9hY3Rpb24iOiJyZWdpc3RyYXRpb24iLCJ1c2VyX3JvbGVzIjpbIm1pYl91c2VyIl0sInVzZXJuYW1lIjoiODAxMTI0MzAwMTMzIn19.nXzWuhqEz9chCtZK_TZx9XOJ7vulkKOPmkYj2QA2MtzhSrRgIrAJ6HuTb4OcElMXQoWfVdCYOTcKvPZe8bBszhRHz1Dy7WJObJ0JwJ2yL6hZnFgdOzzClUlsA-aEEi_7nN-QE8SmyRXZ8L-yU1TH877vn8alXVfOL_6mmffqP2LwLBRL7Ndjyc-oJxIuEvAxZksJY26tmj6l8FXnj8srQEjTvxsuWfOA5kaEJNoxPA4K5U06oPbor7h_7JKnCXR1gpcfKlXLURu0vaO-4Vniw6_7dBzEHhn7j1IT9KhHEh2fxqDSjqJrsWA8rZ8zA2RHRFfxbaUmGwr9A3mEvdYh5Q\", \"Client-Ip\":\"172.23.20.6\", \"Content-Type\":\"application/grpc\", \"Otp_datetime\":\"1712121847\", \"Phone\":\"+77053332900\", \"Source-Service\":\"/clientpass.ClientpassService/StartClientPass\", \"User-Id\":\"1085\", \"Username\":\"801124300133\", \"X-Forwarded-For\":\"172.23.20.6\", \"X-Forwarded-Port\":\"443\", \"X-Real-Ip\":\"172.23.20.6\", \"X-Request-Id\":\"813ed56b-e279-48d4-9c52-10d6c79e6ffc\"}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:09+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:09+05:00","message":"brokerClientStream CloseSend method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:09+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:09+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:09+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:09+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:09+05:00","message":"brokerClientStream CloseSend method"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:09+05:00","message":"failed to CloseSend grpc conn: file already closed"}
==================
WARNING: DATA RACE
Write at 0x000003b22fa0 by goroutine 685:
  go.unistack.org/micro-logger-zerolog/v3.(*zeroLogger).Init()
      /go/pkg/mod/go.unistack.org/micro-logger-zerolog/v3@v3.8.6/zerolog.go:80 +0x724
  go.unistack.org/micro-logger-zerolog/v3.(*zeroLogger).Clone()
      /go/pkg/mod/go.unistack.org/micro-logger-zerolog/v3@v3.8.6/zerolog.go:43 +0x344
  go.unistack.org/micro-logger-zerolog/v3.(*zeroLogger).Fields()
      /go/pkg/mod/go.unistack.org/micro-logger-zerolog/v3@v3.8.6/zerolog.go:153 +0xb3
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.(*HTTPHandlerSwapper).Subscriber()
      /build/internal/handler/handler.go:219 +0x257
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.(*HTTPHandlerSwapper).Subscriber-fm()
      <autogenerated>:1 +0x47
  go.unistack.org/micro-broker-kgo/v3.(*consumer).consume()
      /go/pkg/mod/go.unistack.org/micro-broker-kgo/v3@v3.8.17/subscriber.go:222 +0xc91
  go.unistack.org/micro-broker-kgo/v3.(*subscriber).assigned.gowrap1()
      /go/pkg/mod/go.unistack.org/micro-broker-kgo/v3@v3.8.17/subscriber.go:151 +0x33

Previous read at 0x000003b22fa0 by goroutine 1405:
  github.com/rs/zerolog.(*Event).Timestamp()
      /go/pkg/mod/github.com/rs/zerolog@v1.32.0/event.go:687 +0x204
  github.com/rs/zerolog.timestampHook.Run()
      /go/pkg/mod/github.com/rs/zerolog@v1.32.0/context.go:353 +0x3e
  github.com/rs/zerolog.(*timestampHook).Run()
      <autogenerated>:1 +0x17
  github.com/rs/zerolog.(*Event).msg()
      /go/pkg/mod/github.com/rs/zerolog@v1.32.0/event.go:143 +0xfc
  github.com/rs/zerolog.(*Event).Msgf()
      /go/pkg/mod/github.com/rs/zerolog@v1.32.0/event.go:131 +0x74
  go.unistack.org/micro-logger-zerolog/v3.(*zeroLogger).Logf()
      /go/pkg/mod/go.unistack.org/micro-logger-zerolog/v3@v3.8.6/zerolog.go:241 +0x444
  go.unistack.org/micro-logger-zerolog/v3.(*zeroLogger).Errorf()
      /go/pkg/mod/go.unistack.org/micro-logger-zerolog/v3@v3.8.6/zerolog.go:191 +0x87
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.GRPCCopy()
      /build/internal/handler/grpc_copy.go:53 +0x866
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.(*HTTPHandlerSwapper).ServeGRPC()
      /build/internal/handler/handler.go:540 +0x4158
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.(*HTTPHandlerSwapper).ServeGRPC-fm()
      <autogenerated>:1 +0x64
  go.unistack.org/micro-server-grpc/v3.(*Server).handler()
      /go/pkg/mod/go.unistack.org/micro-server-grpc/v3@v3.10.13/grpc.go:306 +0x183b
  go.unistack.org/micro-server-grpc/v3.(*Server).handler-fm()
      <autogenerated>:1 +0x64
  google.golang.org/grpc.(*Server).processStreamingRPC()
      /go/pkg/mod/google.golang.org/grpc@v1.62.1/server.go:1680 +0x1fd9
  google.golang.org/grpc.(*Server).handleStream()
      /go/pkg/mod/google.golang.org/grpc@v1.62.1/server.go:1807 +0x1755
  google.golang.org/grpc.(*Server).serveStreams.func2.1()
      /go/pkg/mod/google.golang.org/grpc@v1.62.1/server.go:1027 +0x158

Goroutine 685 (running) created at:
  go.unistack.org/micro-broker-kgo/v3.(*subscriber).assigned()
      /go/pkg/mod/go.unistack.org/micro-broker-kgo/v3@v3.8.17/subscriber.go:151 +0x156
  go.unistack.org/micro-broker-kgo/v3.(*subscriber).assigned-fm()
      <autogenerated>:1 +0x64
  github.com/twmb/franz-go/pkg/kgo.(*consumer).initGroup.func2()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/consumer_group.go:343 +0x56e
  github.com/twmb/franz-go/pkg/kgo.(*assignRevokeSession).assign.func1()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/consumer_group.go:794 +0x2de

Goroutine 1405 (running) created at:
  google.golang.org/grpc.(*Server).serveStreams.func2()
      /go/pkg/mod/google.golang.org/grpc@v1.62.1/server.go:1038 +0x224
  google.golang.org/grpc/internal/transport.(*http2Server).operateHeaders()
      /go/pkg/mod/google.golang.org/grpc@v1.62.1/internal/transport/http2_server.go:619 +0x3a41
  google.golang.org/grpc/internal/transport.(*http2Server).HandleStreams()
      /go/pkg/mod/google.golang.org/grpc@v1.62.1/internal/transport/http2_server.go:660 +0x404
  google.golang.org/grpc.(*Server).serveStreams()
      /go/pkg/mod/google.golang.org/grpc@v1.62.1/server.go:1021 +0x69b
  google.golang.org/grpc.(*Server).handleRawConn.func1()
      /go/pkg/mod/google.golang.org/grpc@v1.62.1/server.go:957 +0x86
==================
{"level":"info","X-Request-Id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:09+05:00","message":"get message for service: /clientpass.ClientpassService/StartClientPass with md map[Authorization:Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMTA4NSIsImV4cCI6MTcxMjk4NTg0NywibmJmIjoxNzEyMTIxODQ3LCJpYXQiOjE3MTIxMjE4NDcsImp0aSI6ImJhODBlODBlLTVjZjEtNDg2OS04YjQ4LTZmOWI5OTRkYjU0ZiIsInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJtaWJfdXNlciJdfSwiY3VzdG9tIjp7ImNsaWVudF9pZCI6Im1pYl8zMF9hbmRyb2lkIiwibm9uY2UiOiJlbnl3bHFuamV0YnZmZ2kiLCJwaG9uZSI6Iis3NzA1MzMzMjkwMCIsInNjb3BlIjoib2ZmbGluZV9hY2Nlc3MiLCJ0b2tlbl90eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcl9hY3Rpb24iOiJyZWdpc3RyYXRpb24iLCJ1c2VyX3JvbGVzIjpbIm1pYl91c2VyIl0sInVzZXJuYW1lIjoiODAxMTI0MzAwMTMzIn19.nXzWuhqEz9chCtZK_TZx9XOJ7vulkKOPmkYj2QA2MtzhSrRgIrAJ6HuTb4OcElMXQoWfVdCYOTcKvPZe8bBszhRHz1Dy7WJObJ0JwJ2yL6hZnFgdOzzClUlsA-aEEi_7nN-QE8SmyRXZ8L-yU1TH877vn8alXVfOL_6mmffqP2LwLBRL7Ndjyc-oJxIuEvAxZksJY26tmj6l8FXnj8srQEjTvxsuWfOA5kaEJNoxPA4K5U06oPbor7h_7JKnCXR1gpcfKlXLURu0vaO-4Vniw6_7dBzEHhn7j1IT9KhHEh2fxqDSjqJrsWA8rZ8zA2RHRFfxbaUmGwr9A3mEvdYh5Q Client-Ip:172.23.20.6 Content-Type:application/grpc Micro-Topic:apigw.in Otp_datetime:1712121847 Phone:+77053332900 Source-Service:/clientpass.ClientpassService/StartClientPass Uber-Trace-Id:28c96c10dd9dfeb8:18b7bc5ec6e63471:4f2ced1b00da3610:1 User-Id:1085 Username:801124300133 X-Forwarded-For:172.23.20.6 X-Forwarded-Port:443 X-Real-Ip:172.23.20.6 X-Request-Id:813ed56b-e279-48d4-9c52-10d6c79e6ffc]"}
{"level":"info","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:09+05:00","message":"get message for service: /clientpass.ClientpassService/StartClientPass"}
{"level":"debug","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:09+05:00","message":"grpcConnGet: /clientpass.ClientpassService/StartClientPass via 813ed56b-e279-48d4-9c52-10d6c79e6ffc"}
{"level":"debug","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:09+05:00","message":"grpc use stream conn: &handler.grpcProxy{grpcStream:(*handler.grpcServerStream)(0xc0002d1600), kafkaStream:(*handler.grpcClientStream)(0xc0002d16b0)} sourceService: /clientpass.ClientpassService/StartClientPass"}
{"level":"info","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:09+05:00","message":"start transfer response from kafka"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:09+05:00","message":"brokerClientStream SetHeader method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:09+05:00","message":"brokerClientStream SetMsg method"}
{"level":"info","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:09+05:00","message":"stop transfer response from kafka"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:09+05:00","message":"brokerClientStream RecvMsg method data"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:09+05:00","message":"forwardBackendToClient src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:09+05:00","message":"forwardBackendToClient set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:09+05:00","message":"forwardBackendToClient src.Header"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:09+05:00","message":"brokerClientStream Header method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:09+05:00","message":"forwardBackendToClient dst.SetHeader"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:09+05:00","message":"forwardBackendToClient try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:09+05:00","message":"forwardBackendToClient dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:09+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:09+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:09+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:09+05:00","message":"brokerClientStream Close method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:09+05:00","message":"brokerClientStream RecvMsg method !s.serverStream && s.recvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:09+05:00","message":"forwardBackendToClient src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:09+05:00","message":"b2cErr := <-b2cErrChan: err: EOF"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:09+05:00","message":"brokerClientStream Trailer method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:09+05:00","message":"grpcConnDel /clientpass.ClientpassService/StartClientPass 813ed56b-e279-48d4-9c52-10d6c79e6ffc"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"813ed56b-e279-48d4-9c52-10d6c79e6ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:09+05:00","message":"grpc handler exit"}
{"level":"debug","x-request-id":"3613e1e2-fb0a-454b-8e4c-23f932e6a708","time":"2024-04-03T10:24:14+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"3613e1e2-fb0a-454b-8e4c-23f932e6a708","time":"2024-04-03T10:24:14+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Login"}
{"level":"info","x-request-id":"3613e1e2-fb0a-454b-8e4c-23f932e6a708","time":"2024-04-03T10:24:14+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"3613e1e2-fb0a-454b-8e4c-23f932e6a708","time":"2024-04-03T10:24:14+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"3613e1e2-fb0a-454b-8e4c-23f932e6a708","time":"2024-04-03T10:24:14+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"3613e1e2-fb0a-454b-8e4c-23f932e6a708","time":"2024-04-03T10:24:14+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"3613e1e2-fb0a-454b-8e4c-23f932e6a708","time":"2024-04-03T10:24:14+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"3613e1e2-fb0a-454b-8e4c-23f932e6a708","time":"2024-04-03T10:24:14+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"3613e1e2-fb0a-454b-8e4c-23f932e6a708","time":"2024-04-03T10:24:14+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"3613e1e2-fb0a-454b-8e4c-23f932e6a708","time":"2024-04-03T10:24:14+05:00","message":"jwt.extract jwt claims empty"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3613e1e2-fb0a-454b-8e4c-23f932e6a708","trace-id":"","span-id":"","time":"2024-04-03T10:24:14+05:00","message":"grpc request with md: metadata.MD{\":authority\":[]string{\"upstream_balancer\"}, \":path\":[]string{\"/authn.AuthnService/Login\"}, \"client-ip\":[]string{\"172.23.20.6\"}, \"content-type\":[]string{\"application/grpc\"}, \"grpc-accept-encoding\":[]string{\"identity, deflate, gzip\"}, \"source-service\":[]string{\"/authn.AuthnService/Login\"}, \"user-agent\":[]string{\"grpc-python/1.59.0 grpc-c/36.0.0 (osx; chttp2)\"}, \"x-forwarded-for\":[]string{\"172.23.20.6\"}, \"x-forwarded-host\":[]string{\"dev-apigw-grpc.fortebank.com:443\"}, \"x-forwarded-port\":[]string{\"443\"}, \"x-forwarded-proto\":[]string{\"https\"}, \"x-forwarded-scheme\":[]string{\"https\"}, \"x-real-ip\":[]string{\"172.23.20.6\"}, \"x-request-id\":[]string{\"3613e1e2-fb0a-454b-8e4c-23f932e6a708\"}, \"x-scheme\":[]string{\"https\"}}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3613e1e2-fb0a-454b-8e4c-23f932e6a708","trace-id":"","span-id":"","time":"2024-04-03T10:24:14+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3613e1e2-fb0a-454b-8e4c-23f932e6a708","trace-id":"","span-id":"","time":"2024-04-03T10:24:14+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3613e1e2-fb0a-454b-8e4c-23f932e6a708","trace-id":"","span-id":"","time":"2024-04-03T10:24:14+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3613e1e2-fb0a-454b-8e4c-23f932e6a708","trace-id":"","span-id":"","time":"2024-04-03T10:24:14+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3613e1e2-fb0a-454b-8e4c-23f932e6a708","trace-id":"","span-id":"","time":"2024-04-03T10:24:14+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3613e1e2-fb0a-454b-8e4c-23f932e6a708","trace-id":"","span-id":"","time":"2024-04-03T10:24:14+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3613e1e2-fb0a-454b-8e4c-23f932e6a708","trace-id":"","span-id":"","time":"2024-04-03T10:24:14+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3613e1e2-fb0a-454b-8e4c-23f932e6a708","trace-id":"","span-id":"","time":"2024-04-03T10:24:14+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3613e1e2-fb0a-454b-8e4c-23f932e6a708","trace-id":"","span-id":"","time":"2024-04-03T10:24:14+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3613e1e2-fb0a-454b-8e4c-23f932e6a708","trace-id":"","span-id":"","time":"2024-04-03T10:24:14+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3613e1e2-fb0a-454b-8e4c-23f932e6a708","trace-id":"","span-id":"","time":"2024-04-03T10:24:14+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3613e1e2-fb0a-454b-8e4c-23f932e6a708","trace-id":"","span-id":"","time":"2024-04-03T10:24:14+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3613e1e2-fb0a-454b-8e4c-23f932e6a708","trace-id":"","span-id":"","time":"2024-04-03T10:24:14+05:00","message":"forwardBackendToClient src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3613e1e2-fb0a-454b-8e4c-23f932e6a708","trace-id":"","span-id":"","time":"2024-04-03T10:24:14+05:00","message":"forwardBackendToClient set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3613e1e2-fb0a-454b-8e4c-23f932e6a708","trace-id":"","span-id":"","time":"2024-04-03T10:24:14+05:00","message":"forwardBackendToClient src.Header"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3613e1e2-fb0a-454b-8e4c-23f932e6a708","trace-id":"","span-id":"","time":"2024-04-03T10:24:14+05:00","message":"forwardBackendToClient dst.SetHeader"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3613e1e2-fb0a-454b-8e4c-23f932e6a708","trace-id":"","span-id":"","time":"2024-04-03T10:24:14+05:00","message":"forwardBackendToClient try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3613e1e2-fb0a-454b-8e4c-23f932e6a708","trace-id":"","span-id":"","time":"2024-04-03T10:24:14+05:00","message":"forwardBackendToClient dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3613e1e2-fb0a-454b-8e4c-23f932e6a708","trace-id":"","span-id":"","time":"2024-04-03T10:24:14+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3613e1e2-fb0a-454b-8e4c-23f932e6a708","trace-id":"","span-id":"","time":"2024-04-03T10:24:14+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3613e1e2-fb0a-454b-8e4c-23f932e6a708","trace-id":"","span-id":"","time":"2024-04-03T10:24:14+05:00","message":"forwardBackendToClient src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3613e1e2-fb0a-454b-8e4c-23f932e6a708","trace-id":"","span-id":"","time":"2024-04-03T10:24:14+05:00","message":"b2cErr := <-b2cErrChan: err: EOF"}
{"level":"debug","x-request-id":"2b0475c3-0452-456d-8833-8e7d9d010c0c","time":"2024-04-03T10:24:17+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"2b0475c3-0452-456d-8833-8e7d9d010c0c","time":"2024-04-03T10:24:17+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Login"}
{"level":"info","x-request-id":"2b0475c3-0452-456d-8833-8e7d9d010c0c","time":"2024-04-03T10:24:17+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"2b0475c3-0452-456d-8833-8e7d9d010c0c","time":"2024-04-03T10:24:17+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"2b0475c3-0452-456d-8833-8e7d9d010c0c","time":"2024-04-03T10:24:17+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"2b0475c3-0452-456d-8833-8e7d9d010c0c","time":"2024-04-03T10:24:17+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"2b0475c3-0452-456d-8833-8e7d9d010c0c","time":"2024-04-03T10:24:17+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"2b0475c3-0452-456d-8833-8e7d9d010c0c","time":"2024-04-03T10:24:17+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"2b0475c3-0452-456d-8833-8e7d9d010c0c","time":"2024-04-03T10:24:17+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"2b0475c3-0452-456d-8833-8e7d9d010c0c","time":"2024-04-03T10:24:17+05:00","message":"jwt.extract jwt claims empty"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2b0475c3-0452-456d-8833-8e7d9d010c0c","trace-id":"","span-id":"","time":"2024-04-03T10:24:17+05:00","message":"grpc request with md: metadata.MD{\":authority\":[]string{\"upstream_balancer\"}, \":path\":[]string{\"/authn.AuthnService/Login\"}, \"client-ip\":[]string{\"172.23.20.6\"}, \"content-type\":[]string{\"application/grpc\"}, \"grpc-accept-encoding\":[]string{\"identity, deflate, gzip\"}, \"source-service\":[]string{\"/authn.AuthnService/Login\"}, \"user-agent\":[]string{\"grpc-python/1.59.0 grpc-c/36.0.0 (osx; chttp2)\"}, \"x-forwarded-for\":[]string{\"172.23.20.6\"}, \"x-forwarded-host\":[]string{\"dev-apigw-grpc.fortebank.com:443\"}, \"x-forwarded-port\":[]string{\"443\"}, \"x-forwarded-proto\":[]string{\"https\"}, \"x-forwarded-scheme\":[]string{\"https\"}, \"x-real-ip\":[]string{\"172.23.20.6\"}, \"x-request-id\":[]string{\"2b0475c3-0452-456d-8833-8e7d9d010c0c\"}, \"x-scheme\":[]string{\"https\"}}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2b0475c3-0452-456d-8833-8e7d9d010c0c","trace-id":"","span-id":"","time":"2024-04-03T10:24:17+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2b0475c3-0452-456d-8833-8e7d9d010c0c","trace-id":"","span-id":"","time":"2024-04-03T10:24:17+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2b0475c3-0452-456d-8833-8e7d9d010c0c","trace-id":"","span-id":"","time":"2024-04-03T10:24:17+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2b0475c3-0452-456d-8833-8e7d9d010c0c","trace-id":"","span-id":"","time":"2024-04-03T10:24:17+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2b0475c3-0452-456d-8833-8e7d9d010c0c","trace-id":"","span-id":"","time":"2024-04-03T10:24:17+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2b0475c3-0452-456d-8833-8e7d9d010c0c","trace-id":"","span-id":"","time":"2024-04-03T10:24:17+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2b0475c3-0452-456d-8833-8e7d9d010c0c","trace-id":"","span-id":"","time":"2024-04-03T10:24:17+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2b0475c3-0452-456d-8833-8e7d9d010c0c","trace-id":"","span-id":"","time":"2024-04-03T10:24:17+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2b0475c3-0452-456d-8833-8e7d9d010c0c","trace-id":"","span-id":"","time":"2024-04-03T10:24:17+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2b0475c3-0452-456d-8833-8e7d9d010c0c","trace-id":"","span-id":"","time":"2024-04-03T10:24:17+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2b0475c3-0452-456d-8833-8e7d9d010c0c","trace-id":"","span-id":"","time":"2024-04-03T10:24:17+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2b0475c3-0452-456d-8833-8e7d9d010c0c","trace-id":"","span-id":"","time":"2024-04-03T10:24:17+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2b0475c3-0452-456d-8833-8e7d9d010c0c","trace-id":"","span-id":"","time":"2024-04-03T10:24:17+05:00","message":"forwardBackendToClient src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2b0475c3-0452-456d-8833-8e7d9d010c0c","trace-id":"","span-id":"","time":"2024-04-03T10:24:17+05:00","message":"forwardBackendToClient set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2b0475c3-0452-456d-8833-8e7d9d010c0c","trace-id":"","span-id":"","time":"2024-04-03T10:24:17+05:00","message":"forwardBackendToClient src.Header"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2b0475c3-0452-456d-8833-8e7d9d010c0c","trace-id":"","span-id":"","time":"2024-04-03T10:24:17+05:00","message":"forwardBackendToClient dst.SetHeader"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2b0475c3-0452-456d-8833-8e7d9d010c0c","trace-id":"","span-id":"","time":"2024-04-03T10:24:17+05:00","message":"forwardBackendToClient try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2b0475c3-0452-456d-8833-8e7d9d010c0c","trace-id":"","span-id":"","time":"2024-04-03T10:24:17+05:00","message":"forwardBackendToClient dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2b0475c3-0452-456d-8833-8e7d9d010c0c","trace-id":"","span-id":"","time":"2024-04-03T10:24:17+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2b0475c3-0452-456d-8833-8e7d9d010c0c","trace-id":"","span-id":"","time":"2024-04-03T10:24:17+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2b0475c3-0452-456d-8833-8e7d9d010c0c","trace-id":"","span-id":"","time":"2024-04-03T10:24:17+05:00","message":"forwardBackendToClient src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2b0475c3-0452-456d-8833-8e7d9d010c0c","trace-id":"","span-id":"","time":"2024-04-03T10:24:17+05:00","message":"b2cErr := <-b2cErrChan: err: EOF"}
{"level":"debug","x-request-id":"212e059b-3c58-4636-8750-312bca238f81","time":"2024-04-03T10:24:17+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"212e059b-3c58-4636-8750-312bca238f81","time":"2024-04-03T10:24:17+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Token"}
{"level":"info","x-request-id":"212e059b-3c58-4636-8750-312bca238f81","time":"2024-04-03T10:24:17+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"212e059b-3c58-4636-8750-312bca238f81","time":"2024-04-03T10:24:17+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"212e059b-3c58-4636-8750-312bca238f81","time":"2024-04-03T10:24:17+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"212e059b-3c58-4636-8750-312bca238f81","time":"2024-04-03T10:24:17+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"212e059b-3c58-4636-8750-312bca238f81","time":"2024-04-03T10:24:17+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"212e059b-3c58-4636-8750-312bca238f81","time":"2024-04-03T10:24:17+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"212e059b-3c58-4636-8750-312bca238f81","time":"2024-04-03T10:24:17+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"212e059b-3c58-4636-8750-312bca238f81","time":"2024-04-03T10:24:17+05:00","message":"jwt.extract jwt claims empty"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"212e059b-3c58-4636-8750-312bca238f81","trace-id":"","span-id":"","time":"2024-04-03T10:24:17+05:00","message":"grpc request with md: metadata.MD{\":authority\":[]string{\"upstream_balancer\"}, \":path\":[]string{\"/authn.AuthnService/Token\"}, \"client-ip\":[]string{\"172.23.20.6\"}, \"content-type\":[]string{\"application/grpc\"}, \"grpc-accept-encoding\":[]string{\"identity, deflate, gzip\"}, \"source-service\":[]string{\"/authn.AuthnService/Token\"}, \"user-agent\":[]string{\"grpc-python/1.59.0 grpc-c/36.0.0 (osx; chttp2)\"}, \"x-forwarded-for\":[]string{\"172.23.20.6\"}, \"x-forwarded-host\":[]string{\"dev-apigw-grpc.fortebank.com:443\"}, \"x-forwarded-port\":[]string{\"443\"}, \"x-forwarded-proto\":[]string{\"https\"}, \"x-forwarded-scheme\":[]string{\"https\"}, \"x-real-ip\":[]string{\"172.23.20.6\"}, \"x-request-id\":[]string{\"212e059b-3c58-4636-8750-312bca238f81\"}, \"x-scheme\":[]string{\"https\"}}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"212e059b-3c58-4636-8750-312bca238f81","trace-id":"","span-id":"","time":"2024-04-03T10:24:17+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"212e059b-3c58-4636-8750-312bca238f81","trace-id":"","span-id":"","time":"2024-04-03T10:24:17+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"212e059b-3c58-4636-8750-312bca238f81","trace-id":"","span-id":"","time":"2024-04-03T10:24:17+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"212e059b-3c58-4636-8750-312bca238f81","trace-id":"","span-id":"","time":"2024-04-03T10:24:17+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"212e059b-3c58-4636-8750-312bca238f81","trace-id":"","span-id":"","time":"2024-04-03T10:24:17+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"212e059b-3c58-4636-8750-312bca238f81","trace-id":"","span-id":"","time":"2024-04-03T10:24:17+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"212e059b-3c58-4636-8750-312bca238f81","trace-id":"","span-id":"","time":"2024-04-03T10:24:17+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"212e059b-3c58-4636-8750-312bca238f81","trace-id":"","span-id":"","time":"2024-04-03T10:24:17+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"212e059b-3c58-4636-8750-312bca238f81","trace-id":"","span-id":"","time":"2024-04-03T10:24:17+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"212e059b-3c58-4636-8750-312bca238f81","trace-id":"","span-id":"","time":"2024-04-03T10:24:17+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"212e059b-3c58-4636-8750-312bca238f81","trace-id":"","span-id":"","time":"2024-04-03T10:24:17+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"212e059b-3c58-4636-8750-312bca238f81","trace-id":"","span-id":"","time":"2024-04-03T10:24:17+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"212e059b-3c58-4636-8750-312bca238f81","trace-id":"","span-id":"","time":"2024-04-03T10:24:17+05:00","message":"forwardBackendToClient src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"212e059b-3c58-4636-8750-312bca238f81","trace-id":"","span-id":"","time":"2024-04-03T10:24:17+05:00","message":"forwardBackendToClient set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"212e059b-3c58-4636-8750-312bca238f81","trace-id":"","span-id":"","time":"2024-04-03T10:24:17+05:00","message":"forwardBackendToClient src.Header"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"212e059b-3c58-4636-8750-312bca238f81","trace-id":"","span-id":"","time":"2024-04-03T10:24:17+05:00","message":"forwardBackendToClient dst.SetHeader"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"212e059b-3c58-4636-8750-312bca238f81","trace-id":"","span-id":"","time":"2024-04-03T10:24:17+05:00","message":"forwardBackendToClient try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"212e059b-3c58-4636-8750-312bca238f81","trace-id":"","span-id":"","time":"2024-04-03T10:24:17+05:00","message":"forwardBackendToClient dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"212e059b-3c58-4636-8750-312bca238f81","trace-id":"","span-id":"","time":"2024-04-03T10:24:17+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"212e059b-3c58-4636-8750-312bca238f81","trace-id":"","span-id":"","time":"2024-04-03T10:24:17+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"212e059b-3c58-4636-8750-312bca238f81","trace-id":"","span-id":"","time":"2024-04-03T10:24:17+05:00","message":"forwardBackendToClient src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"212e059b-3c58-4636-8750-312bca238f81","trace-id":"","span-id":"","time":"2024-04-03T10:24:17+05:00","message":"b2cErr := <-b2cErrChan: err: EOF"}
{"level":"debug","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","time":"2024-04-03T10:24:19+05:00","message":"authn.cookie not found"}
{"level":"debug","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","time":"2024-04-03T10:24:19+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","time":"2024-04-03T10:24:19+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","time":"2024-04-03T10:24:19+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","time":"2024-04-03T10:24:19+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","time":"2024-04-03T10:24:19+05:00","message":"jwt.extract set User-Id to 25"}
{"level":"info","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","time":"2024-04-03T10:24:19+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","time":"2024-04-03T10:24:19+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","time":"2024-04-03T10:24:19+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","time":"2024-04-03T10:24:19+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","time":"2024-04-03T10:24:19+05:00","message":"jwt.extract set Username to 910919300363"}
{"level":"info","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","time":"2024-04-03T10:24:19+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","time":"2024-04-03T10:24:19+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","time":"2024-04-03T10:24:19+05:00","message":"jwt.extract set Phone to +77055552928"}
{"level":"info","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","time":"2024-04-03T10:24:19+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","time":"2024-04-03T10:24:19+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","time":"2024-04-03T10:24:19+05:00","message":"jwt.extract set otp_datetime to 1712121857"}
{"level":"info","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","time":"2024-04-03T10:24:19+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","time":"2024-04-03T10:24:19+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","time":"2024-04-03T10:24:19+05:00","message":"jwt.extract set username to 910919300363"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","trace-id":"","span-id":"","time":"2024-04-03T10:24:19+05:00","message":"grpcConnAdd /clientpass.ClientpassService/StartClientPass 711f2291-11ab-46ee-a260-e909ff98e35d"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","trace-id":"","span-id":"","time":"2024-04-03T10:24:19+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","trace-id":"","span-id":"","time":"2024-04-03T10:24:19+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","trace-id":"","span-id":"","time":"2024-04-03T10:24:19+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","trace-id":"","span-id":"","time":"2024-04-03T10:24:19+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","trace-id":"","span-id":"","time":"2024-04-03T10:24:19+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","trace-id":"","span-id":"","time":"2024-04-03T10:24:19+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","trace-id":"","span-id":"","time":"2024-04-03T10:24:19+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","trace-id":"","span-id":"","time":"2024-04-03T10:24:19+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","trace-id":"","span-id":"","time":"2024-04-03T10:24:19+05:00","message":"brokerClientStream brokerClientStream SendMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","trace-id":"","span-id":"","time":"2024-04-03T10:24:19+05:00","message":"brokerClientStream try to publish to client.clientpass.startclientpass.in msg with hdr: metadata.Metadata{\"Authorization\":\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A\", \"Client-Ip\":\"172.23.20.6\", \"Content-Type\":\"application/grpc\", \"Otp_datetime\":\"1712121857\", \"Phone\":\"+77055552928\", \"Source-Service\":\"/clientpass.ClientpassService/StartClientPass\", \"User-Id\":\"25\", \"Username\":\"910919300363\", \"X-Forwarded-For\":\"172.23.20.6\", \"X-Forwarded-Port\":\"443\", \"X-Real-Ip\":\"172.23.20.6\", \"X-Request-Id\":\"711f2291-11ab-46ee-a260-e909ff98e35d\"}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","trace-id":"","span-id":"","time":"2024-04-03T10:24:19+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","trace-id":"","span-id":"","time":"2024-04-03T10:24:19+05:00","message":"brokerClientStream CloseSend method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","trace-id":"","span-id":"","time":"2024-04-03T10:24:19+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","trace-id":"","span-id":"","time":"2024-04-03T10:24:19+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","trace-id":"","span-id":"","time":"2024-04-03T10:24:19+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","trace-id":"","span-id":"","time":"2024-04-03T10:24:19+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","trace-id":"","span-id":"","time":"2024-04-03T10:24:19+05:00","message":"brokerClientStream CloseSend method"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","trace-id":"","span-id":"","time":"2024-04-03T10:24:19+05:00","message":"failed to CloseSend grpc conn: file already closed"}
{"level":"info","X-Request-Id":"711f2291-11ab-46ee-a260-e909ff98e35d","trace-id":"","span-id":"","time":"2024-04-03T10:24:19+05:00","message":"get message for service: /clientpass.ClientpassService/StartClientPass with md map[Authorization:Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A Client-Ip:172.23.20.6 Content-Type:application/grpc Micro-Topic:apigw.in Otp_datetime:1712121857 Phone:+77055552928 Source-Service:/clientpass.ClientpassService/StartClientPass Uber-Trace-Id:11778a70d33d806f:03b34fd84ebf8df2:11778a70d33d806f:1 User-Id:25 Username:910919300363 X-Forwarded-For:172.23.20.6 X-Forwarded-Port:443 X-Real-Ip:172.23.20.6 X-Request-Id:711f2291-11ab-46ee-a260-e909ff98e35d]"}
{"level":"info","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","trace-id":"","span-id":"","time":"2024-04-03T10:24:19+05:00","message":"get message for service: /clientpass.ClientpassService/StartClientPass"}
{"level":"debug","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","trace-id":"","span-id":"","time":"2024-04-03T10:24:19+05:00","message":"grpcConnGet: /clientpass.ClientpassService/StartClientPass via 711f2291-11ab-46ee-a260-e909ff98e35d"}
{"level":"debug","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","trace-id":"","span-id":"","time":"2024-04-03T10:24:19+05:00","message":"grpc use stream conn: &handler.grpcProxy{grpcStream:(*handler.grpcServerStream)(0xc000138580), kafkaStream:(*handler.grpcClientStream)(0xc000138630)} sourceService: /clientpass.ClientpassService/StartClientPass"}
{"level":"info","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","trace-id":"","span-id":"","time":"2024-04-03T10:24:19+05:00","message":"start transfer response from kafka"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","trace-id":"","span-id":"","time":"2024-04-03T10:24:19+05:00","message":"brokerClientStream SetHeader method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","trace-id":"","span-id":"","time":"2024-04-03T10:24:19+05:00","message":"brokerClientStream SetMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","trace-id":"","span-id":"","time":"2024-04-03T10:24:19+05:00","message":"brokerClientStream RecvMsg method data"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","trace-id":"","span-id":"","time":"2024-04-03T10:24:19+05:00","message":"forwardBackendToClient src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","trace-id":"","span-id":"","time":"2024-04-03T10:24:19+05:00","message":"forwardBackendToClient set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","trace-id":"","span-id":"","time":"2024-04-03T10:24:19+05:00","message":"forwardBackendToClient src.Header"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","trace-id":"","span-id":"","time":"2024-04-03T10:24:19+05:00","message":"brokerClientStream Header method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","trace-id":"","span-id":"","time":"2024-04-03T10:24:19+05:00","message":"forwardBackendToClient dst.SetHeader"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","trace-id":"","span-id":"","time":"2024-04-03T10:24:19+05:00","message":"forwardBackendToClient try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","trace-id":"","span-id":"","time":"2024-04-03T10:24:19+05:00","message":"forwardBackendToClient dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","trace-id":"","span-id":"","time":"2024-04-03T10:24:19+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","trace-id":"","span-id":"","time":"2024-04-03T10:24:19+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","trace-id":"","span-id":"","time":"2024-04-03T10:24:19+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","trace-id":"","span-id":"","time":"2024-04-03T10:24:19+05:00","message":"brokerClientStream Close method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","trace-id":"","span-id":"","time":"2024-04-03T10:24:19+05:00","message":"brokerClientStream RecvMsg method !s.serverStream && s.recvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","trace-id":"","span-id":"","time":"2024-04-03T10:24:19+05:00","message":"forwardBackendToClient src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","trace-id":"","span-id":"","time":"2024-04-03T10:24:19+05:00","message":"b2cErr := <-b2cErrChan: err: EOF"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","trace-id":"","span-id":"","time":"2024-04-03T10:24:19+05:00","message":"brokerClientStream Trailer method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","trace-id":"","span-id":"","time":"2024-04-03T10:24:19+05:00","message":"grpcConnDel /clientpass.ClientpassService/StartClientPass 711f2291-11ab-46ee-a260-e909ff98e35d"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","trace-id":"","span-id":"","time":"2024-04-03T10:24:19+05:00","message":"grpc handler exit"}
{"level":"info","x-request-id":"711f2291-11ab-46ee-a260-e909ff98e35d","trace-id":"","span-id":"","time":"2024-04-03T10:24:19+05:00","message":"stop transfer response from kafka"}
{"level":"debug","x-request-id":"95325159-1ae6-4fe8-bb65-a0c99565bc7c","time":"2024-04-03T10:24:20+05:00","message":"authn.cookie not found"}
{"level":"debug","x-request-id":"95325159-1ae6-4fe8-bb65-a0c99565bc7c","time":"2024-04-03T10:24:20+05:00","message":"jwt.check process"}
{"level":"error","x-request-id":"95325159-1ae6-4fe8-bb65-a0c99565bc7c","time":"2024-04-03T10:24:20+05:00","message":"jwt.check failedtoken is malformed: token contains an invalid number of segments"}
{"level":"debug","x-request-id":"01d72982-c2fc-4518-96f4-809dfcfeab08","time":"2024-04-03T10:24:22+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"01d72982-c2fc-4518-96f4-809dfcfeab08","time":"2024-04-03T10:24:22+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Login"}
{"level":"info","x-request-id":"01d72982-c2fc-4518-96f4-809dfcfeab08","time":"2024-04-03T10:24:22+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"01d72982-c2fc-4518-96f4-809dfcfeab08","time":"2024-04-03T10:24:22+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"01d72982-c2fc-4518-96f4-809dfcfeab08","time":"2024-04-03T10:24:22+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"01d72982-c2fc-4518-96f4-809dfcfeab08","time":"2024-04-03T10:24:22+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"01d72982-c2fc-4518-96f4-809dfcfeab08","time":"2024-04-03T10:24:22+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"01d72982-c2fc-4518-96f4-809dfcfeab08","time":"2024-04-03T10:24:22+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"01d72982-c2fc-4518-96f4-809dfcfeab08","time":"2024-04-03T10:24:22+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"01d72982-c2fc-4518-96f4-809dfcfeab08","time":"2024-04-03T10:24:22+05:00","message":"jwt.extract jwt claims empty"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"01d72982-c2fc-4518-96f4-809dfcfeab08","trace-id":"","span-id":"","time":"2024-04-03T10:24:22+05:00","message":"grpc request with md: metadata.MD{\":authority\":[]string{\"upstream_balancer\"}, \":path\":[]string{\"/authn.AuthnService/Login\"}, \"client-ip\":[]string{\"172.23.20.6\"}, \"content-type\":[]string{\"application/grpc\"}, \"grpc-accept-encoding\":[]string{\"identity, deflate, gzip\"}, \"source-service\":[]string{\"/authn.AuthnService/Login\"}, \"user-agent\":[]string{\"grpc-python/1.59.0 grpc-c/36.0.0 (osx; chttp2)\"}, \"x-forwarded-for\":[]string{\"172.23.20.6\"}, \"x-forwarded-host\":[]string{\"dev-apigw-grpc.fortebank.com:443\"}, \"x-forwarded-port\":[]string{\"443\"}, \"x-forwarded-proto\":[]string{\"https\"}, \"x-forwarded-scheme\":[]string{\"https\"}, \"x-real-ip\":[]string{\"172.23.20.6\"}, \"x-request-id\":[]string{\"01d72982-c2fc-4518-96f4-809dfcfeab08\"}, \"x-scheme\":[]string{\"https\"}}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"01d72982-c2fc-4518-96f4-809dfcfeab08","trace-id":"","span-id":"","time":"2024-04-03T10:24:22+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"01d72982-c2fc-4518-96f4-809dfcfeab08","trace-id":"","span-id":"","time":"2024-04-03T10:24:22+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"01d72982-c2fc-4518-96f4-809dfcfeab08","trace-id":"","span-id":"","time":"2024-04-03T10:24:22+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"01d72982-c2fc-4518-96f4-809dfcfeab08","trace-id":"","span-id":"","time":"2024-04-03T10:24:22+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"01d72982-c2fc-4518-96f4-809dfcfeab08","trace-id":"","span-id":"","time":"2024-04-03T10:24:22+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"01d72982-c2fc-4518-96f4-809dfcfeab08","trace-id":"","span-id":"","time":"2024-04-03T10:24:22+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"01d72982-c2fc-4518-96f4-809dfcfeab08","trace-id":"","span-id":"","time":"2024-04-03T10:24:22+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"01d72982-c2fc-4518-96f4-809dfcfeab08","trace-id":"","span-id":"","time":"2024-04-03T10:24:22+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"01d72982-c2fc-4518-96f4-809dfcfeab08","trace-id":"","span-id":"","time":"2024-04-03T10:24:22+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"01d72982-c2fc-4518-96f4-809dfcfeab08","trace-id":"","span-id":"","time":"2024-04-03T10:24:22+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"01d72982-c2fc-4518-96f4-809dfcfeab08","trace-id":"","span-id":"","time":"2024-04-03T10:24:22+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"01d72982-c2fc-4518-96f4-809dfcfeab08","trace-id":"","span-id":"","time":"2024-04-03T10:24:22+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"01d72982-c2fc-4518-96f4-809dfcfeab08","trace-id":"","span-id":"","time":"2024-04-03T10:24:22+05:00","message":"forwardBackendToClient src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"01d72982-c2fc-4518-96f4-809dfcfeab08","trace-id":"","span-id":"","time":"2024-04-03T10:24:22+05:00","message":"forwardBackendToClient set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"01d72982-c2fc-4518-96f4-809dfcfeab08","trace-id":"","span-id":"","time":"2024-04-03T10:24:22+05:00","message":"forwardBackendToClient src.Header"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"01d72982-c2fc-4518-96f4-809dfcfeab08","trace-id":"","span-id":"","time":"2024-04-03T10:24:22+05:00","message":"forwardBackendToClient dst.SetHeader"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"01d72982-c2fc-4518-96f4-809dfcfeab08","trace-id":"","span-id":"","time":"2024-04-03T10:24:22+05:00","message":"forwardBackendToClient try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"01d72982-c2fc-4518-96f4-809dfcfeab08","trace-id":"","span-id":"","time":"2024-04-03T10:24:22+05:00","message":"forwardBackendToClient dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"01d72982-c2fc-4518-96f4-809dfcfeab08","trace-id":"","span-id":"","time":"2024-04-03T10:24:22+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"01d72982-c2fc-4518-96f4-809dfcfeab08","trace-id":"","span-id":"","time":"2024-04-03T10:24:22+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"01d72982-c2fc-4518-96f4-809dfcfeab08","trace-id":"","span-id":"","time":"2024-04-03T10:24:22+05:00","message":"forwardBackendToClient src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"01d72982-c2fc-4518-96f4-809dfcfeab08","trace-id":"","span-id":"","time":"2024-04-03T10:24:22+05:00","message":"b2cErr := <-b2cErrChan: err: EOF"}
{"level":"debug","x-request-id":"79f1cf4c-2654-4f8e-a498-8bce6afde86e","time":"2024-04-03T10:24:23+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"79f1cf4c-2654-4f8e-a498-8bce6afde86e","time":"2024-04-03T10:24:23+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Login"}
{"level":"info","x-request-id":"79f1cf4c-2654-4f8e-a498-8bce6afde86e","time":"2024-04-03T10:24:23+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"79f1cf4c-2654-4f8e-a498-8bce6afde86e","time":"2024-04-03T10:24:23+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"79f1cf4c-2654-4f8e-a498-8bce6afde86e","time":"2024-04-03T10:24:23+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"79f1cf4c-2654-4f8e-a498-8bce6afde86e","time":"2024-04-03T10:24:23+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"79f1cf4c-2654-4f8e-a498-8bce6afde86e","time":"2024-04-03T10:24:23+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"79f1cf4c-2654-4f8e-a498-8bce6afde86e","time":"2024-04-03T10:24:23+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"79f1cf4c-2654-4f8e-a498-8bce6afde86e","time":"2024-04-03T10:24:23+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"79f1cf4c-2654-4f8e-a498-8bce6afde86e","time":"2024-04-03T10:24:23+05:00","message":"jwt.extract jwt claims empty"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"79f1cf4c-2654-4f8e-a498-8bce6afde86e","trace-id":"","span-id":"","time":"2024-04-03T10:24:23+05:00","message":"grpc request with md: metadata.MD{\":authority\":[]string{\"upstream_balancer\"}, \":path\":[]string{\"/authn.AuthnService/Login\"}, \"client-ip\":[]string{\"172.23.20.6\"}, \"content-type\":[]string{\"application/grpc\"}, \"grpc-accept-encoding\":[]string{\"identity, deflate, gzip\"}, \"source-service\":[]string{\"/authn.AuthnService/Login\"}, \"user-agent\":[]string{\"grpc-python/1.59.0 grpc-c/36.0.0 (osx; chttp2)\"}, \"x-forwarded-for\":[]string{\"172.23.20.6\"}, \"x-forwarded-host\":[]string{\"dev-apigw-grpc.fortebank.com:443\"}, \"x-forwarded-port\":[]string{\"443\"}, \"x-forwarded-proto\":[]string{\"https\"}, \"x-forwarded-scheme\":[]string{\"https\"}, \"x-real-ip\":[]string{\"172.23.20.6\"}, \"x-request-id\":[]string{\"79f1cf4c-2654-4f8e-a498-8bce6afde86e\"}, \"x-scheme\":[]string{\"https\"}}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"79f1cf4c-2654-4f8e-a498-8bce6afde86e","trace-id":"","span-id":"","time":"2024-04-03T10:24:23+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"79f1cf4c-2654-4f8e-a498-8bce6afde86e","trace-id":"","span-id":"","time":"2024-04-03T10:24:23+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"79f1cf4c-2654-4f8e-a498-8bce6afde86e","trace-id":"","span-id":"","time":"2024-04-03T10:24:23+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"79f1cf4c-2654-4f8e-a498-8bce6afde86e","trace-id":"","span-id":"","time":"2024-04-03T10:24:23+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"79f1cf4c-2654-4f8e-a498-8bce6afde86e","trace-id":"","span-id":"","time":"2024-04-03T10:24:23+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"79f1cf4c-2654-4f8e-a498-8bce6afde86e","trace-id":"","span-id":"","time":"2024-04-03T10:24:23+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"79f1cf4c-2654-4f8e-a498-8bce6afde86e","trace-id":"","span-id":"","time":"2024-04-03T10:24:23+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"79f1cf4c-2654-4f8e-a498-8bce6afde86e","trace-id":"","span-id":"","time":"2024-04-03T10:24:23+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"79f1cf4c-2654-4f8e-a498-8bce6afde86e","trace-id":"","span-id":"","time":"2024-04-03T10:24:23+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"79f1cf4c-2654-4f8e-a498-8bce6afde86e","trace-id":"","span-id":"","time":"2024-04-03T10:24:23+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"79f1cf4c-2654-4f8e-a498-8bce6afde86e","trace-id":"","span-id":"","time":"2024-04-03T10:24:23+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"79f1cf4c-2654-4f8e-a498-8bce6afde86e","trace-id":"","span-id":"","time":"2024-04-03T10:24:23+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"79f1cf4c-2654-4f8e-a498-8bce6afde86e","trace-id":"","span-id":"","time":"2024-04-03T10:24:23+05:00","message":"forwardBackendToClient src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"79f1cf4c-2654-4f8e-a498-8bce6afde86e","trace-id":"","span-id":"","time":"2024-04-03T10:24:23+05:00","message":"forwardBackendToClient set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"79f1cf4c-2654-4f8e-a498-8bce6afde86e","trace-id":"","span-id":"","time":"2024-04-03T10:24:23+05:00","message":"forwardBackendToClient src.Header"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"79f1cf4c-2654-4f8e-a498-8bce6afde86e","trace-id":"","span-id":"","time":"2024-04-03T10:24:23+05:00","message":"forwardBackendToClient dst.SetHeader"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"79f1cf4c-2654-4f8e-a498-8bce6afde86e","trace-id":"","span-id":"","time":"2024-04-03T10:24:23+05:00","message":"forwardBackendToClient try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"79f1cf4c-2654-4f8e-a498-8bce6afde86e","trace-id":"","span-id":"","time":"2024-04-03T10:24:23+05:00","message":"forwardBackendToClient dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"79f1cf4c-2654-4f8e-a498-8bce6afde86e","trace-id":"","span-id":"","time":"2024-04-03T10:24:23+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"79f1cf4c-2654-4f8e-a498-8bce6afde86e","trace-id":"","span-id":"","time":"2024-04-03T10:24:23+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"79f1cf4c-2654-4f8e-a498-8bce6afde86e","trace-id":"","span-id":"","time":"2024-04-03T10:24:23+05:00","message":"forwardBackendToClient src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"79f1cf4c-2654-4f8e-a498-8bce6afde86e","trace-id":"","span-id":"","time":"2024-04-03T10:24:23+05:00","message":"b2cErr := <-b2cErrChan: err: EOF"}
{"level":"debug","x-request-id":"847367b6-e663-448c-b9ea-90411a695ffc","time":"2024-04-03T10:24:23+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"847367b6-e663-448c-b9ea-90411a695ffc","time":"2024-04-03T10:24:23+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Token"}
{"level":"info","x-request-id":"847367b6-e663-448c-b9ea-90411a695ffc","time":"2024-04-03T10:24:23+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"847367b6-e663-448c-b9ea-90411a695ffc","time":"2024-04-03T10:24:23+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"847367b6-e663-448c-b9ea-90411a695ffc","time":"2024-04-03T10:24:23+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"847367b6-e663-448c-b9ea-90411a695ffc","time":"2024-04-03T10:24:23+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"847367b6-e663-448c-b9ea-90411a695ffc","time":"2024-04-03T10:24:23+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"847367b6-e663-448c-b9ea-90411a695ffc","time":"2024-04-03T10:24:23+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"847367b6-e663-448c-b9ea-90411a695ffc","time":"2024-04-03T10:24:23+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"847367b6-e663-448c-b9ea-90411a695ffc","time":"2024-04-03T10:24:23+05:00","message":"jwt.extract jwt claims empty"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"847367b6-e663-448c-b9ea-90411a695ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:23+05:00","message":"grpc request with md: metadata.MD{\":authority\":[]string{\"upstream_balancer\"}, \":path\":[]string{\"/authn.AuthnService/Token\"}, \"client-ip\":[]string{\"172.23.20.6\"}, \"content-type\":[]string{\"application/grpc\"}, \"grpc-accept-encoding\":[]string{\"identity, deflate, gzip\"}, \"source-service\":[]string{\"/authn.AuthnService/Token\"}, \"user-agent\":[]string{\"grpc-python/1.59.0 grpc-c/36.0.0 (osx; chttp2)\"}, \"x-forwarded-for\":[]string{\"172.23.20.6\"}, \"x-forwarded-host\":[]string{\"dev-apigw-grpc.fortebank.com:443\"}, \"x-forwarded-port\":[]string{\"443\"}, \"x-forwarded-proto\":[]string{\"https\"}, \"x-forwarded-scheme\":[]string{\"https\"}, \"x-real-ip\":[]string{\"172.23.20.6\"}, \"x-request-id\":[]string{\"847367b6-e663-448c-b9ea-90411a695ffc\"}, \"x-scheme\":[]string{\"https\"}}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"847367b6-e663-448c-b9ea-90411a695ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:23+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"847367b6-e663-448c-b9ea-90411a695ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:23+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"847367b6-e663-448c-b9ea-90411a695ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:23+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"847367b6-e663-448c-b9ea-90411a695ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:23+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"847367b6-e663-448c-b9ea-90411a695ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:23+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"847367b6-e663-448c-b9ea-90411a695ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:23+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"847367b6-e663-448c-b9ea-90411a695ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:23+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"847367b6-e663-448c-b9ea-90411a695ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:23+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"847367b6-e663-448c-b9ea-90411a695ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:23+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"847367b6-e663-448c-b9ea-90411a695ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:23+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"847367b6-e663-448c-b9ea-90411a695ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:23+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"847367b6-e663-448c-b9ea-90411a695ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:23+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"847367b6-e663-448c-b9ea-90411a695ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:23+05:00","message":"forwardBackendToClient src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"847367b6-e663-448c-b9ea-90411a695ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:23+05:00","message":"forwardBackendToClient set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"847367b6-e663-448c-b9ea-90411a695ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:23+05:00","message":"forwardBackendToClient src.Header"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"847367b6-e663-448c-b9ea-90411a695ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:23+05:00","message":"forwardBackendToClient dst.SetHeader"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"847367b6-e663-448c-b9ea-90411a695ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:23+05:00","message":"forwardBackendToClient try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"847367b6-e663-448c-b9ea-90411a695ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:23+05:00","message":"forwardBackendToClient dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"847367b6-e663-448c-b9ea-90411a695ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:23+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"847367b6-e663-448c-b9ea-90411a695ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:23+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"847367b6-e663-448c-b9ea-90411a695ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:23+05:00","message":"forwardBackendToClient src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"847367b6-e663-448c-b9ea-90411a695ffc","trace-id":"","span-id":"","time":"2024-04-03T10:24:23+05:00","message":"b2cErr := <-b2cErrChan: err: EOF"}
{"level":"debug","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","time":"2024-04-03T10:24:25+05:00","message":"authn.cookie not found"}
{"level":"debug","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","time":"2024-04-03T10:24:25+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","time":"2024-04-03T10:24:25+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ztblwegvrwkhfnj\", \"phone\":\"+77756911111\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration_check_phone\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"980715350086\"}, \"exp\":1.712985863e+09, \"iat\":1.712121863e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"d8213000-6310-47f1-b66b-8f2ab1f8132c\", \"nbf\":1.712121863e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15914\"}"}
{"level":"info","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","time":"2024-04-03T10:24:25+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","time":"2024-04-03T10:24:25+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ztblwegvrwkhfnj\", \"phone\":\"+77756911111\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration_check_phone\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"980715350086\"}, \"exp\":1.712985863e+09, \"iat\":1.712121863e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"d8213000-6310-47f1-b66b-8f2ab1f8132c\", \"nbf\":1.712121863e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15914\"}"}
{"level":"info","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","time":"2024-04-03T10:24:25+05:00","message":"jwt.extract set User-Id to 15914"}
{"level":"info","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","time":"2024-04-03T10:24:25+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","time":"2024-04-03T10:24:25+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ztblwegvrwkhfnj\", \"phone\":\"+77756911111\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration_check_phone\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"980715350086\"}, \"exp\":1.712985863e+09, \"iat\":1.712121863e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"d8213000-6310-47f1-b66b-8f2ab1f8132c\", \"nbf\":1.712121863e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15914\"}"}
{"level":"info","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","time":"2024-04-03T10:24:25+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","time":"2024-04-03T10:24:25+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ztblwegvrwkhfnj\", \"phone\":\"+77756911111\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration_check_phone\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"980715350086\"}, \"exp\":1.712985863e+09, \"iat\":1.712121863e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"d8213000-6310-47f1-b66b-8f2ab1f8132c\", \"nbf\":1.712121863e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15914\"}"}
{"level":"info","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","time":"2024-04-03T10:24:25+05:00","message":"jwt.extract set Username to 980715350086"}
{"level":"info","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","time":"2024-04-03T10:24:25+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","time":"2024-04-03T10:24:25+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ztblwegvrwkhfnj\", \"phone\":\"+77756911111\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration_check_phone\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"980715350086\"}, \"exp\":1.712985863e+09, \"iat\":1.712121863e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"d8213000-6310-47f1-b66b-8f2ab1f8132c\", \"nbf\":1.712121863e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15914\"}"}
{"level":"info","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","time":"2024-04-03T10:24:25+05:00","message":"jwt.extract set Phone to +77756911111"}
{"level":"info","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","time":"2024-04-03T10:24:25+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","time":"2024-04-03T10:24:25+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ztblwegvrwkhfnj\", \"phone\":\"+77756911111\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration_check_phone\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"980715350086\"}, \"exp\":1.712985863e+09, \"iat\":1.712121863e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"d8213000-6310-47f1-b66b-8f2ab1f8132c\", \"nbf\":1.712121863e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15914\"}"}
{"level":"info","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","time":"2024-04-03T10:24:25+05:00","message":"jwt.extract set otp_datetime to 1712121863"}
{"level":"info","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","time":"2024-04-03T10:24:25+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","time":"2024-04-03T10:24:25+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ztblwegvrwkhfnj\", \"phone\":\"+77756911111\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration_check_phone\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"980715350086\"}, \"exp\":1.712985863e+09, \"iat\":1.712121863e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"d8213000-6310-47f1-b66b-8f2ab1f8132c\", \"nbf\":1.712121863e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15914\"}"}
{"level":"info","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","time":"2024-04-03T10:24:25+05:00","message":"jwt.extract set username to 980715350086"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","trace-id":"","span-id":"","time":"2024-04-03T10:24:25+05:00","message":"grpcConnAdd /clientpass.ClientpassService/StartClientPass 201445dc-0620-4a41-b361-bbc9dacf4740"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","trace-id":"","span-id":"","time":"2024-04-03T10:24:25+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","trace-id":"","span-id":"","time":"2024-04-03T10:24:25+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","trace-id":"","span-id":"","time":"2024-04-03T10:24:25+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","trace-id":"","span-id":"","time":"2024-04-03T10:24:25+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","trace-id":"","span-id":"","time":"2024-04-03T10:24:25+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","trace-id":"","span-id":"","time":"2024-04-03T10:24:25+05:00","message":"brokerClientStream brokerClientStream SendMsg method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","trace-id":"","span-id":"","time":"2024-04-03T10:24:25+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","trace-id":"","span-id":"","time":"2024-04-03T10:24:25+05:00","message":"brokerClientStream try to publish to client.clientpass.startclientpass.in msg with hdr: metadata.Metadata{\"Authorization\":\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMTU5MTQiLCJleHAiOjE3MTI5ODU4NjMsIm5iZiI6MTcxMjEyMTg2MywiaWF0IjoxNzEyMTIxODYzLCJqdGkiOiJkODIxMzAwMC02MzEwLTQ3ZjEtYjY2Yi04ZjJhYjFmODEzMmMiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoienRibHdlZ3Zyd2toZm5qIiwicGhvbmUiOiIrNzc3NTY5MTExMTEiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uX2NoZWNrX3Bob25lIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6Ijk4MDcxNTM1MDA4NiJ9fQ.Wt4yurKHjt9yRLpbLvFsQ1blerkPqv70qFT9odlYjtYDRNDc1EOxlAlPe9yhQ2NEWsoRH0tjvpmQG8pTqXqY2cu5kTMSY0oqc-8yAD1xlOsR9SjJz-8X_zgDTOYH0FDm5rB9F-RsR09Y8OmgAAh3T-zQRwJN0N0gYx5zC9aGUivkscoWO9cKqlysGklNUc97es-1g-9YGbyqZwfWYD7-jR8JCJ15GawrHAXoFDz_FJOxlhmopKjHQIg6ryi5fmuBhuUS3DX7BQvUs24u0QFnzgtBMCWhYtC7yZTNmWkKvYLvCRZvmNyo6GpNlh0_rey297D4ypROWHl6GE8gtwKi2Q\", \"Client-Ip\":\"172.23.20.6\", \"Content-Type\":\"application/grpc\", \"Otp_datetime\":\"1712121863\", \"Phone\":\"+77756911111\", \"Source-Service\":\"/clientpass.ClientpassService/StartClientPass\", \"User-Id\":\"15914\", \"Username\":\"980715350086\", \"X-Forwarded-For\":\"172.23.20.6\", \"X-Forwarded-Port\":\"443\", \"X-Real-Ip\":\"172.23.20.6\", \"X-Request-Id\":\"201445dc-0620-4a41-b361-bbc9dacf4740\"}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","trace-id":"","span-id":"","time":"2024-04-03T10:24:25+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","trace-id":"","span-id":"","time":"2024-04-03T10:24:25+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","trace-id":"","span-id":"","time":"2024-04-03T10:24:25+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","trace-id":"","span-id":"","time":"2024-04-03T10:24:25+05:00","message":"brokerClientStream CloseSend method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","trace-id":"","span-id":"","time":"2024-04-03T10:24:25+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","trace-id":"","span-id":"","time":"2024-04-03T10:24:25+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","trace-id":"","span-id":"","time":"2024-04-03T10:24:25+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","trace-id":"","span-id":"","time":"2024-04-03T10:24:25+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","trace-id":"","span-id":"","time":"2024-04-03T10:24:25+05:00","message":"brokerClientStream CloseSend method"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","trace-id":"","span-id":"","time":"2024-04-03T10:24:25+05:00","message":"failed to CloseSend grpc conn: file already closed"}
{"level":"info","X-Request-Id":"201445dc-0620-4a41-b361-bbc9dacf4740","trace-id":"","span-id":"","time":"2024-04-03T10:24:25+05:00","message":"get message for service: /clientpass.ClientpassService/StartClientPass with md map[Authorization:Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMTU5MTQiLCJleHAiOjE3MTI5ODU4NjMsIm5iZiI6MTcxMjEyMTg2MywiaWF0IjoxNzEyMTIxODYzLCJqdGkiOiJkODIxMzAwMC02MzEwLTQ3ZjEtYjY2Yi04ZjJhYjFmODEzMmMiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoienRibHdlZ3Zyd2toZm5qIiwicGhvbmUiOiIrNzc3NTY5MTExMTEiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uX2NoZWNrX3Bob25lIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6Ijk4MDcxNTM1MDA4NiJ9fQ.Wt4yurKHjt9yRLpbLvFsQ1blerkPqv70qFT9odlYjtYDRNDc1EOxlAlPe9yhQ2NEWsoRH0tjvpmQG8pTqXqY2cu5kTMSY0oqc-8yAD1xlOsR9SjJz-8X_zgDTOYH0FDm5rB9F-RsR09Y8OmgAAh3T-zQRwJN0N0gYx5zC9aGUivkscoWO9cKqlysGklNUc97es-1g-9YGbyqZwfWYD7-jR8JCJ15GawrHAXoFDz_FJOxlhmopKjHQIg6ryi5fmuBhuUS3DX7BQvUs24u0QFnzgtBMCWhYtC7yZTNmWkKvYLvCRZvmNyo6GpNlh0_rey297D4ypROWHl6GE8gtwKi2Q Client-Ip:172.23.20.6 Content-Type:application/grpc Micro-Topic:apigw.in Otp_datetime:1712121863 Phone:+77756911111 Source-Service:/clientpass.ClientpassService/StartClientPass Uber-Trace-Id:38d334c4bb2ba4ab:5dc71361e27b0910:46e090f537deea79:1 User-Id:15914 Username:980715350086 X-Forwarded-For:172.23.20.6 X-Forwarded-Port:443 X-Real-Ip:172.23.20.6 X-Request-Id:201445dc-0620-4a41-b361-bbc9dacf4740]"}
{"level":"info","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","trace-id":"","span-id":"","time":"2024-04-03T10:24:25+05:00","message":"get message for service: /clientpass.ClientpassService/StartClientPass"}
{"level":"debug","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","trace-id":"","span-id":"","time":"2024-04-03T10:24:25+05:00","message":"grpcConnGet: /clientpass.ClientpassService/StartClientPass via 201445dc-0620-4a41-b361-bbc9dacf4740"}
{"level":"debug","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","trace-id":"","span-id":"","time":"2024-04-03T10:24:25+05:00","message":"grpc use stream conn: &handler.grpcProxy{grpcStream:(*handler.grpcServerStream)(0xc0002d1970), kafkaStream:(*handler.grpcClientStream)(0xc0002d1c30)} sourceService: /clientpass.ClientpassService/StartClientPass"}
{"level":"info","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","trace-id":"","span-id":"","time":"2024-04-03T10:24:25+05:00","message":"start transfer response from kafka"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","trace-id":"","span-id":"","time":"2024-04-03T10:24:25+05:00","message":"brokerClientStream SetHeader method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","trace-id":"","span-id":"","time":"2024-04-03T10:24:25+05:00","message":"brokerClientStream SetMsg method"}
{"level":"info","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","trace-id":"","span-id":"","time":"2024-04-03T10:24:25+05:00","message":"stop transfer response from kafka"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","trace-id":"","span-id":"","time":"2024-04-03T10:24:25+05:00","message":"brokerClientStream RecvMsg method data"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","trace-id":"","span-id":"","time":"2024-04-03T10:24:25+05:00","message":"forwardBackendToClient src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","trace-id":"","span-id":"","time":"2024-04-03T10:24:25+05:00","message":"forwardBackendToClient set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","trace-id":"","span-id":"","time":"2024-04-03T10:24:25+05:00","message":"forwardBackendToClient src.Header"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","trace-id":"","span-id":"","time":"2024-04-03T10:24:25+05:00","message":"brokerClientStream Header method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","trace-id":"","span-id":"","time":"2024-04-03T10:24:25+05:00","message":"forwardBackendToClient dst.SetHeader"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","trace-id":"","span-id":"","time":"2024-04-03T10:24:25+05:00","message":"forwardBackendToClient try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","trace-id":"","span-id":"","time":"2024-04-03T10:24:25+05:00","message":"forwardBackendToClient dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","trace-id":"","span-id":"","time":"2024-04-03T10:24:25+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","trace-id":"","span-id":"","time":"2024-04-03T10:24:25+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","trace-id":"","span-id":"","time":"2024-04-03T10:24:25+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","trace-id":"","span-id":"","time":"2024-04-03T10:24:25+05:00","message":"brokerClientStream Close method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","trace-id":"","span-id":"","time":"2024-04-03T10:24:25+05:00","message":"brokerClientStream RecvMsg method !s.serverStream && s.recvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","trace-id":"","span-id":"","time":"2024-04-03T10:24:25+05:00","message":"forwardBackendToClient src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","trace-id":"","span-id":"","time":"2024-04-03T10:24:25+05:00","message":"b2cErr := <-b2cErrChan: err: EOF"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","trace-id":"","span-id":"","time":"2024-04-03T10:24:25+05:00","message":"brokerClientStream Trailer method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","trace-id":"","span-id":"","time":"2024-04-03T10:24:25+05:00","message":"grpcConnDel /clientpass.ClientpassService/StartClientPass 201445dc-0620-4a41-b361-bbc9dacf4740"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"201445dc-0620-4a41-b361-bbc9dacf4740","trace-id":"","span-id":"","time":"2024-04-03T10:24:25+05:00","message":"grpc handler exit"}
{"level":"debug","x-request-id":"eeb5c643-5e15-4565-a34b-b2acdb6440af","trace-id":"","span-id":"","time":"2024-04-03T10:24:31+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"eeb5c643-5e15-4565-a34b-b2acdb6440af","trace-id":"","span-id":"","time":"2024-04-03T10:24:31+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Login"}
HDR http.Header{"Accept":[]string{"*/*"}, "Accept-Encoding":[]string{"gzip, deflate"}, "Content-Length":[]string{"378"}, "Content-Type":[]string{"application/json"}, "User-Agent":[]string{"python-requests/2.31.0"}, "X-Forwarded-For":[]string{"172.23.20.6, 10.233.126.141"}, "X-Forwarded-Host":[]string{"dev-apigw.fortebank.com"}, "X-Forwarded-Port":[]string{"443"}, "X-Forwarded-Proto":[]string{"https"}, "X-Forwarded-Scheme":[]string{"https"}, "X-Real-Ip":[]string{"172.23.20.6"}, "X-Request-Id":[]string{"eeb5c643-5e15-4565-a34b-b2acdb6440af"}, "X-Scheme":[]string{"https"}}
{"level":"debug","x-request-id":"eeb5c643-5e15-4565-a34b-b2acdb6440af","trace-id":"","span-id":"","time":"2024-04-03T10:24:31+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"debug","x-request-id":"eeb5c643-5e15-4565-a34b-b2acdb6440af","trace-id":"","span-id":"","time":"2024-04-03T10:24:31+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"debug","x-request-id":"eeb5c643-5e15-4565-a34b-b2acdb6440af","trace-id":"","span-id":"","time":"2024-04-03T10:24:31+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"debug","x-request-id":"eeb5c643-5e15-4565-a34b-b2acdb6440af","trace-id":"","span-id":"","time":"2024-04-03T10:24:31+05:00","message":"header.cors try to set Access-Control-Allow-Origin with [*]"}
{"level":"debug","x-request-id":"eeb5c643-5e15-4565-a34b-b2acdb6440af","trace-id":"","span-id":"","time":"2024-04-03T10:24:31+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"info","x-request-id":"eeb5c643-5e15-4565-a34b-b2acdb6440af","trace-id":"","span-id":"","time":"2024-04-03T10:24:31+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"eeb5c643-5e15-4565-a34b-b2acdb6440af","trace-id":"","span-id":"","time":"2024-04-03T10:24:31+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"eeb5c643-5e15-4565-a34b-b2acdb6440af","trace-id":"","span-id":"","time":"2024-04-03T10:24:31+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"eeb5c643-5e15-4565-a34b-b2acdb6440af","trace-id":"","span-id":"","time":"2024-04-03T10:24:31+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"eeb5c643-5e15-4565-a34b-b2acdb6440af","trace-id":"","span-id":"","time":"2024-04-03T10:24:31+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"eeb5c643-5e15-4565-a34b-b2acdb6440af","trace-id":"","span-id":"","time":"2024-04-03T10:24:31+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"eeb5c643-5e15-4565-a34b-b2acdb6440af","trace-id":"","span-id":"","time":"2024-04-03T10:24:31+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"eeb5c643-5e15-4565-a34b-b2acdb6440af","trace-id":"","span-id":"","time":"2024-04-03T10:24:31+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"eeb5c643-5e15-4565-a34b-b2acdb6440af","trace-id":"","span-id":"","time":"2024-04-03T10:24:31+05:00","message":"start to proxy url: /authn.AuthnService/v1/login via http://authn-service:80"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"eeb5c643-5e15-4565-a34b-b2acdb6440af","trace-id":"","span-id":"","time":"2024-04-03T10:24:31+05:00","message":"stop to proxy url: /authn.AuthnService/v1/login via http://authn-service:80"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"eeb5c643-5e15-4565-a34b-b2acdb6440af","trace-id":"","span-id":"","time":"2024-04-03T10:24:31+05:00","message":"skip hook authn.cookie"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"eeb5c643-5e15-4565-a34b-b2acdb6440af","trace-id":"","span-id":"","time":"2024-04-03T10:24:31+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"eeb5c643-5e15-4565-a34b-b2acdb6440af","trace-id":"","span-id":"","time":"2024-04-03T10:24:31+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"eeb5c643-5e15-4565-a34b-b2acdb6440af","trace-id":"","span-id":"","time":"2024-04-03T10:24:31+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"eeb5c643-5e15-4565-a34b-b2acdb6440af","trace-id":"","span-id":"","time":"2024-04-03T10:24:31+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"eeb5c643-5e15-4565-a34b-b2acdb6440af","trace-id":"","span-id":"","time":"2024-04-03T10:24:31+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"eeb5c643-5e15-4565-a34b-b2acdb6440af","trace-id":"","span-id":"","time":"2024-04-03T10:24:31+05:00","message":"skip hook jwt.check"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"eeb5c643-5e15-4565-a34b-b2acdb6440af","trace-id":"","span-id":"","time":"2024-04-03T10:24:31+05:00","message":"run hook header.cors"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"eeb5c643-5e15-4565-a34b-b2acdb6440af","trace-id":"","span-id":"","time":"2024-04-03T10:24:31+05:00","message":"header.cors try to set Access-Control-Allow-Origin with [*]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"eeb5c643-5e15-4565-a34b-b2acdb6440af","trace-id":"","span-id":"","time":"2024-04-03T10:24:31+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"eeb5c643-5e15-4565-a34b-b2acdb6440af","trace-id":"","span-id":"","time":"2024-04-03T10:24:31+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"eeb5c643-5e15-4565-a34b-b2acdb6440af","trace-id":"","span-id":"","time":"2024-04-03T10:24:31+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"eeb5c643-5e15-4565-a34b-b2acdb6440af","trace-id":"","span-id":"","time":"2024-04-03T10:24:31+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"eeb5c643-5e15-4565-a34b-b2acdb6440af","trace-id":"","span-id":"","time":"2024-04-03T10:24:31+05:00","message":"end hook header.cors"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"eeb5c643-5e15-4565-a34b-b2acdb6440af","trace-id":"","span-id":"","time":"2024-04-03T10:24:31+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"eeb5c643-5e15-4565-a34b-b2acdb6440af","trace-id":"","span-id":"","time":"2024-04-03T10:24:31+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"eeb5c643-5e15-4565-a34b-b2acdb6440af","trace-id":"","span-id":"","time":"2024-04-03T10:24:31+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"eeb5c643-5e15-4565-a34b-b2acdb6440af","trace-id":"","span-id":"","time":"2024-04-03T10:24:31+05:00","message":"skip hook jwt.extract"}
HDR http.Header{"Accept":[]string{"*/*"}, "Accept-Encoding":[]string{"gzip, deflate, br, zstd"}, "Accept-Language":[]string{"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7"}, "Access-Control-Request-Headers":[]string{"content-type"}, "Access-Control-Request-Method":[]string{"POST"}, "Origin":[]string{"https://dev-beeline-express.fortebank.com"}, "Referer":[]string{"https://dev-beeline-express.fortebank.com/"}, "Sec-Fetch-Dest":[]string{"empty"}, "Sec-Fetch-Mode":[]string{"cors"}, "Sec-Fetch-Site":[]string{"same-site"}, "User-Agent":[]string{"Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1"}, "X-Forwarded-For":[]string{"10.233.100.0, 10.233.126.141"}, "X-Forwarded-Host":[]string{"dev-apigw.fortebank.com"}, "X-Forwarded-Port":[]string{"443"}, "X-Forwarded-Proto":[]string{"https"}, "X-Forwarded-Scheme":[]string{"https"}, "X-Real-Ip":[]string{"10.233.100.0"}, "X-Request-Id":[]string{"ea6801ca6cc968f6f891904d6299bb7c"}, "X-Scheme":[]string{"https"}}
{"level":"debug","x-request-id":"ea6801ca6cc968f6f891904d6299bb7c","trace-id":"","span-id":"","time":"2024-04-03T10:24:32+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"debug","x-request-id":"ea6801ca6cc968f6f891904d6299bb7c","trace-id":"","span-id":"","time":"2024-04-03T10:24:32+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"debug","x-request-id":"ea6801ca6cc968f6f891904d6299bb7c","trace-id":"","span-id":"","time":"2024-04-03T10:24:32+05:00","message":"header.cors try to set Access-Control-Allow-Origin with [*]"}
{"level":"debug","x-request-id":"ea6801ca6cc968f6f891904d6299bb7c","trace-id":"","span-id":"","time":"2024-04-03T10:24:32+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"debug","x-request-id":"ea6801ca6cc968f6f891904d6299bb7c","trace-id":"","span-id":"","time":"2024-04-03T10:24:32+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
HDR http.Header{"Accept":[]string{"application/json, text/plain, */*"}, "Accept-Encoding":[]string{"gzip, deflate, br, zstd"}, "Accept-Language":[]string{"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7"}, "Content-Length":[]string{"355"}, "Content-Type":[]string{"application/json"}, "Origin":[]string{"https://dev-beeline-express.fortebank.com"}, "Referer":[]string{"https://dev-beeline-express.fortebank.com/"}, "Sec-Fetch-Dest":[]string{"empty"}, "Sec-Fetch-Mode":[]string{"cors"}, "Sec-Fetch-Site":[]string{"same-site"}, "User-Agent":[]string{"Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1"}, "X-Forwarded-For":[]string{"10.233.100.0, 10.233.126.141"}, "X-Forwarded-Host":[]string{"dev-apigw.fortebank.com"}, "X-Forwarded-Port":[]string{"443"}, "X-Forwarded-Proto":[]string{"https"}, "X-Forwarded-Scheme":[]string{"https"}, "X-Real-Ip":[]string{"10.233.100.0"}, "X-Request-Id":[]string{"f0eecdefe1923c00a279eceef5f5be9f"}, "X-Scheme":[]string{"https"}}
{"level":"debug","x-request-id":"f0eecdefe1923c00a279eceef5f5be9f","trace-id":"","span-id":"","time":"2024-04-03T10:24:32+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"f0eecdefe1923c00a279eceef5f5be9f","trace-id":"","span-id":"","time":"2024-04-03T10:24:32+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Login"}
{"level":"debug","x-request-id":"f0eecdefe1923c00a279eceef5f5be9f","trace-id":"","span-id":"","time":"2024-04-03T10:24:32+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"debug","x-request-id":"f0eecdefe1923c00a279eceef5f5be9f","trace-id":"","span-id":"","time":"2024-04-03T10:24:32+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"debug","x-request-id":"f0eecdefe1923c00a279eceef5f5be9f","trace-id":"","span-id":"","time":"2024-04-03T10:24:32+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"debug","x-request-id":"f0eecdefe1923c00a279eceef5f5be9f","trace-id":"","span-id":"","time":"2024-04-03T10:24:32+05:00","message":"header.cors try to set Access-Control-Allow-Origin with [*]"}
{"level":"debug","x-request-id":"f0eecdefe1923c00a279eceef5f5be9f","trace-id":"","span-id":"","time":"2024-04-03T10:24:32+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"info","x-request-id":"f0eecdefe1923c00a279eceef5f5be9f","trace-id":"","span-id":"","time":"2024-04-03T10:24:32+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"f0eecdefe1923c00a279eceef5f5be9f","trace-id":"","span-id":"","time":"2024-04-03T10:24:32+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"f0eecdefe1923c00a279eceef5f5be9f","trace-id":"","span-id":"","time":"2024-04-03T10:24:32+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"f0eecdefe1923c00a279eceef5f5be9f","trace-id":"","span-id":"","time":"2024-04-03T10:24:32+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"f0eecdefe1923c00a279eceef5f5be9f","trace-id":"","span-id":"","time":"2024-04-03T10:24:32+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"f0eecdefe1923c00a279eceef5f5be9f","trace-id":"","span-id":"","time":"2024-04-03T10:24:32+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"f0eecdefe1923c00a279eceef5f5be9f","trace-id":"","span-id":"","time":"2024-04-03T10:24:32+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"f0eecdefe1923c00a279eceef5f5be9f","trace-id":"","span-id":"","time":"2024-04-03T10:24:32+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"f0eecdefe1923c00a279eceef5f5be9f","trace-id":"","span-id":"","time":"2024-04-03T10:24:32+05:00","message":"start to proxy url: /authn.AuthnService/v1/login via http://authn-service:80"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"f0eecdefe1923c00a279eceef5f5be9f","trace-id":"","span-id":"","time":"2024-04-03T10:24:32+05:00","message":"stop to proxy url: /authn.AuthnService/v1/login via http://authn-service:80"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"f0eecdefe1923c00a279eceef5f5be9f","trace-id":"","span-id":"","time":"2024-04-03T10:24:32+05:00","message":"skip hook authn.cookie"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"f0eecdefe1923c00a279eceef5f5be9f","trace-id":"","span-id":"","time":"2024-04-03T10:24:32+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"f0eecdefe1923c00a279eceef5f5be9f","trace-id":"","span-id":"","time":"2024-04-03T10:24:32+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"f0eecdefe1923c00a279eceef5f5be9f","trace-id":"","span-id":"","time":"2024-04-03T10:24:32+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"f0eecdefe1923c00a279eceef5f5be9f","trace-id":"","span-id":"","time":"2024-04-03T10:24:32+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"f0eecdefe1923c00a279eceef5f5be9f","trace-id":"","span-id":"","time":"2024-04-03T10:24:32+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"f0eecdefe1923c00a279eceef5f5be9f","trace-id":"","span-id":"","time":"2024-04-03T10:24:32+05:00","message":"skip hook jwt.check"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"f0eecdefe1923c00a279eceef5f5be9f","trace-id":"","span-id":"","time":"2024-04-03T10:24:32+05:00","message":"run hook header.cors"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"f0eecdefe1923c00a279eceef5f5be9f","trace-id":"","span-id":"","time":"2024-04-03T10:24:32+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"f0eecdefe1923c00a279eceef5f5be9f","trace-id":"","span-id":"","time":"2024-04-03T10:24:32+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"f0eecdefe1923c00a279eceef5f5be9f","trace-id":"","span-id":"","time":"2024-04-03T10:24:32+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"f0eecdefe1923c00a279eceef5f5be9f","trace-id":"","span-id":"","time":"2024-04-03T10:24:32+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"f0eecdefe1923c00a279eceef5f5be9f","trace-id":"","span-id":"","time":"2024-04-03T10:24:32+05:00","message":"end hook header.cors"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"f0eecdefe1923c00a279eceef5f5be9f","trace-id":"","span-id":"","time":"2024-04-03T10:24:32+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"f0eecdefe1923c00a279eceef5f5be9f","trace-id":"","span-id":"","time":"2024-04-03T10:24:32+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"f0eecdefe1923c00a279eceef5f5be9f","trace-id":"","span-id":"","time":"2024-04-03T10:24:32+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"f0eecdefe1923c00a279eceef5f5be9f","trace-id":"","span-id":"","time":"2024-04-03T10:24:32+05:00","message":"skip hook jwt.extract"}
HDR http.Header{"Accept":[]string{"*/*"}, "Accept-Encoding":[]string{"gzip, deflate"}, "Content-Length":[]string{"426"}, "Content-Type":[]string{"application/json"}, "User-Agent":[]string{"python-requests/2.31.0"}, "X-Forwarded-For":[]string{"172.23.20.6, 10.233.126.141"}, "X-Forwarded-Host":[]string{"dev-apigw.fortebank.com"}, "X-Forwarded-Port":[]string{"443"}, "X-Forwarded-Proto":[]string{"https"}, "X-Forwarded-Scheme":[]string{"https"}, "X-Real-Ip":[]string{"172.23.20.6"}, "X-Request-Id":[]string{"5711fc68-abac-4023-aa68-c06532bb39e0"}, "X-Scheme":[]string{"https"}}
{"level":"debug","x-request-id":"5711fc68-abac-4023-aa68-c06532bb39e0","trace-id":"","span-id":"","time":"2024-04-03T10:24:34+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"5711fc68-abac-4023-aa68-c06532bb39e0","trace-id":"","span-id":"","time":"2024-04-03T10:24:34+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Login"}
{"level":"debug","x-request-id":"5711fc68-abac-4023-aa68-c06532bb39e0","trace-id":"","span-id":"","time":"2024-04-03T10:24:34+05:00","message":"header.cors try to set Access-Control-Allow-Origin with [*]"}
{"level":"debug","x-request-id":"5711fc68-abac-4023-aa68-c06532bb39e0","trace-id":"","span-id":"","time":"2024-04-03T10:24:34+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"debug","x-request-id":"5711fc68-abac-4023-aa68-c06532bb39e0","trace-id":"","span-id":"","time":"2024-04-03T10:24:34+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"debug","x-request-id":"5711fc68-abac-4023-aa68-c06532bb39e0","trace-id":"","span-id":"","time":"2024-04-03T10:24:34+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"debug","x-request-id":"5711fc68-abac-4023-aa68-c06532bb39e0","trace-id":"","span-id":"","time":"2024-04-03T10:24:34+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"info","x-request-id":"5711fc68-abac-4023-aa68-c06532bb39e0","trace-id":"","span-id":"","time":"2024-04-03T10:24:34+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"5711fc68-abac-4023-aa68-c06532bb39e0","trace-id":"","span-id":"","time":"2024-04-03T10:24:34+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"5711fc68-abac-4023-aa68-c06532bb39e0","trace-id":"","span-id":"","time":"2024-04-03T10:24:34+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"5711fc68-abac-4023-aa68-c06532bb39e0","trace-id":"","span-id":"","time":"2024-04-03T10:24:34+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"5711fc68-abac-4023-aa68-c06532bb39e0","trace-id":"","span-id":"","time":"2024-04-03T10:24:34+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"5711fc68-abac-4023-aa68-c06532bb39e0","trace-id":"","span-id":"","time":"2024-04-03T10:24:34+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"5711fc68-abac-4023-aa68-c06532bb39e0","trace-id":"","span-id":"","time":"2024-04-03T10:24:34+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"5711fc68-abac-4023-aa68-c06532bb39e0","trace-id":"","span-id":"","time":"2024-04-03T10:24:34+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"5711fc68-abac-4023-aa68-c06532bb39e0","trace-id":"","span-id":"","time":"2024-04-03T10:24:34+05:00","message":"start to proxy url: /authn.AuthnService/v1/login via http://authn-service:80"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"5711fc68-abac-4023-aa68-c06532bb39e0","trace-id":"","span-id":"","time":"2024-04-03T10:24:34+05:00","message":"stop to proxy url: /authn.AuthnService/v1/login via http://authn-service:80"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5711fc68-abac-4023-aa68-c06532bb39e0","trace-id":"","span-id":"","time":"2024-04-03T10:24:34+05:00","message":"skip hook authn.cookie"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5711fc68-abac-4023-aa68-c06532bb39e0","trace-id":"","span-id":"","time":"2024-04-03T10:24:34+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5711fc68-abac-4023-aa68-c06532bb39e0","trace-id":"","span-id":"","time":"2024-04-03T10:24:34+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5711fc68-abac-4023-aa68-c06532bb39e0","trace-id":"","span-id":"","time":"2024-04-03T10:24:34+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5711fc68-abac-4023-aa68-c06532bb39e0","trace-id":"","span-id":"","time":"2024-04-03T10:24:34+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5711fc68-abac-4023-aa68-c06532bb39e0","trace-id":"","span-id":"","time":"2024-04-03T10:24:34+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5711fc68-abac-4023-aa68-c06532bb39e0","trace-id":"","span-id":"","time":"2024-04-03T10:24:34+05:00","message":"skip hook jwt.check"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5711fc68-abac-4023-aa68-c06532bb39e0","trace-id":"","span-id":"","time":"2024-04-03T10:24:34+05:00","message":"run hook header.cors"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5711fc68-abac-4023-aa68-c06532bb39e0","trace-id":"","span-id":"","time":"2024-04-03T10:24:34+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5711fc68-abac-4023-aa68-c06532bb39e0","trace-id":"","span-id":"","time":"2024-04-03T10:24:34+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5711fc68-abac-4023-aa68-c06532bb39e0","trace-id":"","span-id":"","time":"2024-04-03T10:24:34+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5711fc68-abac-4023-aa68-c06532bb39e0","trace-id":"","span-id":"","time":"2024-04-03T10:24:34+05:00","message":"header.cors try to set Access-Control-Allow-Origin with [*]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5711fc68-abac-4023-aa68-c06532bb39e0","trace-id":"","span-id":"","time":"2024-04-03T10:24:34+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5711fc68-abac-4023-aa68-c06532bb39e0","trace-id":"","span-id":"","time":"2024-04-03T10:24:34+05:00","message":"end hook header.cors"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5711fc68-abac-4023-aa68-c06532bb39e0","trace-id":"","span-id":"","time":"2024-04-03T10:24:34+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5711fc68-abac-4023-aa68-c06532bb39e0","trace-id":"","span-id":"","time":"2024-04-03T10:24:34+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5711fc68-abac-4023-aa68-c06532bb39e0","trace-id":"","span-id":"","time":"2024-04-03T10:24:34+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5711fc68-abac-4023-aa68-c06532bb39e0","trace-id":"","span-id":"","time":"2024-04-03T10:24:34+05:00","message":"skip hook jwt.extract"}
HDR http.Header{"Accept":[]string{"*/*"}, "Accept-Encoding":[]string{"gzip, deflate"}, "Content-Length":[]string{"1467"}, "Content-Type":[]string{"application/json"}, "User-Agent":[]string{"python-requests/2.31.0"}, "X-Forwarded-For":[]string{"172.23.20.6, 10.233.126.141"}, "X-Forwarded-Host":[]string{"dev-apigw.fortebank.com"}, "X-Forwarded-Port":[]string{"443"}, "X-Forwarded-Proto":[]string{"https"}, "X-Forwarded-Scheme":[]string{"https"}, "X-Real-Ip":[]string{"172.23.20.6"}, "X-Request-Id":[]string{"bc224746-25af-41a4-99cb-2056dc8ef8a6"}, "X-Scheme":[]string{"https"}}
{"level":"debug","x-request-id":"bc224746-25af-41a4-99cb-2056dc8ef8a6","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"bc224746-25af-41a4-99cb-2056dc8ef8a6","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Token"}
{"level":"debug","x-request-id":"bc224746-25af-41a4-99cb-2056dc8ef8a6","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"debug","x-request-id":"bc224746-25af-41a4-99cb-2056dc8ef8a6","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"debug","x-request-id":"bc224746-25af-41a4-99cb-2056dc8ef8a6","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"debug","x-request-id":"bc224746-25af-41a4-99cb-2056dc8ef8a6","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"header.cors try to set Access-Control-Allow-Origin with [*]"}
{"level":"debug","x-request-id":"bc224746-25af-41a4-99cb-2056dc8ef8a6","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"info","x-request-id":"bc224746-25af-41a4-99cb-2056dc8ef8a6","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"bc224746-25af-41a4-99cb-2056dc8ef8a6","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"bc224746-25af-41a4-99cb-2056dc8ef8a6","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"bc224746-25af-41a4-99cb-2056dc8ef8a6","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"bc224746-25af-41a4-99cb-2056dc8ef8a6","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"bc224746-25af-41a4-99cb-2056dc8ef8a6","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"bc224746-25af-41a4-99cb-2056dc8ef8a6","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"bc224746-25af-41a4-99cb-2056dc8ef8a6","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"bc224746-25af-41a4-99cb-2056dc8ef8a6","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"start to proxy url: /authn.AuthnService/v1/oauth/token via http://authn-service:80"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"bc224746-25af-41a4-99cb-2056dc8ef8a6","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"stop to proxy url: /authn.AuthnService/v1/oauth/token via http://authn-service:80"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"bc224746-25af-41a4-99cb-2056dc8ef8a6","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"skip hook authn.cookie"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"bc224746-25af-41a4-99cb-2056dc8ef8a6","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"bc224746-25af-41a4-99cb-2056dc8ef8a6","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"bc224746-25af-41a4-99cb-2056dc8ef8a6","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"bc224746-25af-41a4-99cb-2056dc8ef8a6","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"bc224746-25af-41a4-99cb-2056dc8ef8a6","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"bc224746-25af-41a4-99cb-2056dc8ef8a6","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"skip hook jwt.check"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"bc224746-25af-41a4-99cb-2056dc8ef8a6","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"run hook header.cors"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"bc224746-25af-41a4-99cb-2056dc8ef8a6","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"bc224746-25af-41a4-99cb-2056dc8ef8a6","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"bc224746-25af-41a4-99cb-2056dc8ef8a6","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"bc224746-25af-41a4-99cb-2056dc8ef8a6","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"bc224746-25af-41a4-99cb-2056dc8ef8a6","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"end hook header.cors"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"bc224746-25af-41a4-99cb-2056dc8ef8a6","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"bc224746-25af-41a4-99cb-2056dc8ef8a6","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"bc224746-25af-41a4-99cb-2056dc8ef8a6","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"bc224746-25af-41a4-99cb-2056dc8ef8a6","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"skip hook jwt.extract"}
HDR http.Header{"Accept":[]string{"application/json, text/plain, */*"}, "Accept-Encoding":[]string{"gzip, deflate, br, zstd"}, "Accept-Language":[]string{"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7"}, "Content-Length":[]string{"401"}, "Content-Type":[]string{"application/json"}, "Origin":[]string{"https://dev-beeline-express.fortebank.com"}, "Referer":[]string{"https://dev-beeline-express.fortebank.com/"}, "Sec-Fetch-Dest":[]string{"empty"}, "Sec-Fetch-Mode":[]string{"cors"}, "Sec-Fetch-Site":[]string{"same-site"}, "User-Agent":[]string{"Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1"}, "X-Forwarded-For":[]string{"10.233.100.0, 10.233.126.141"}, "X-Forwarded-Host":[]string{"dev-apigw.fortebank.com"}, "X-Forwarded-Port":[]string{"443"}, "X-Forwarded-Proto":[]string{"https"}, "X-Forwarded-Scheme":[]string{"https"}, "X-Real-Ip":[]string{"10.233.100.0"}, "X-Request-Id":[]string{"485aac024f6062fca42539fb924985b1"}, "X-Scheme":[]string{"https"}}
{"level":"debug","x-request-id":"485aac024f6062fca42539fb924985b1","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"485aac024f6062fca42539fb924985b1","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Login"}
{"level":"debug","x-request-id":"485aac024f6062fca42539fb924985b1","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"debug","x-request-id":"485aac024f6062fca42539fb924985b1","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"header.cors try to set Access-Control-Allow-Origin with [*]"}
{"level":"debug","x-request-id":"485aac024f6062fca42539fb924985b1","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"debug","x-request-id":"485aac024f6062fca42539fb924985b1","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"debug","x-request-id":"485aac024f6062fca42539fb924985b1","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"info","x-request-id":"485aac024f6062fca42539fb924985b1","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"485aac024f6062fca42539fb924985b1","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"485aac024f6062fca42539fb924985b1","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"485aac024f6062fca42539fb924985b1","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"485aac024f6062fca42539fb924985b1","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"485aac024f6062fca42539fb924985b1","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"485aac024f6062fca42539fb924985b1","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"485aac024f6062fca42539fb924985b1","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"485aac024f6062fca42539fb924985b1","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"start to proxy url: /authn.AuthnService/v1/login via http://authn-service:80"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"485aac024f6062fca42539fb924985b1","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"stop to proxy url: /authn.AuthnService/v1/login via http://authn-service:80"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"485aac024f6062fca42539fb924985b1","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"skip hook authn.cookie"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"485aac024f6062fca42539fb924985b1","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"485aac024f6062fca42539fb924985b1","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"485aac024f6062fca42539fb924985b1","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"485aac024f6062fca42539fb924985b1","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"485aac024f6062fca42539fb924985b1","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"485aac024f6062fca42539fb924985b1","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"skip hook jwt.check"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"485aac024f6062fca42539fb924985b1","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"run hook header.cors"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"485aac024f6062fca42539fb924985b1","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"header.cors try to set Access-Control-Allow-Origin with [*]"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"485aac024f6062fca42539fb924985b1","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"485aac024f6062fca42539fb924985b1","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"485aac024f6062fca42539fb924985b1","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"485aac024f6062fca42539fb924985b1","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"485aac024f6062fca42539fb924985b1","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"end hook header.cors"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"485aac024f6062fca42539fb924985b1","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"485aac024f6062fca42539fb924985b1","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"485aac024f6062fca42539fb924985b1","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"485aac024f6062fca42539fb924985b1","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"skip hook jwt.extract"}
HDR http.Header{"Accept":[]string{"*/*"}, "Accept-Encoding":[]string{"gzip, deflate, br, zstd"}, "Accept-Language":[]string{"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7"}, "Access-Control-Request-Headers":[]string{"content-type"}, "Access-Control-Request-Method":[]string{"POST"}, "Origin":[]string{"https://dev-beeline-express.fortebank.com"}, "Referer":[]string{"https://dev-beeline-express.fortebank.com/"}, "Sec-Fetch-Dest":[]string{"empty"}, "Sec-Fetch-Mode":[]string{"cors"}, "Sec-Fetch-Site":[]string{"same-site"}, "User-Agent":[]string{"Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1"}, "X-Forwarded-For":[]string{"10.233.100.0, 10.233.126.141"}, "X-Forwarded-Host":[]string{"dev-apigw.fortebank.com"}, "X-Forwarded-Port":[]string{"443"}, "X-Forwarded-Proto":[]string{"https"}, "X-Forwarded-Scheme":[]string{"https"}, "X-Real-Ip":[]string{"10.233.100.0"}, "X-Request-Id":[]string{"007e2e384dd2d2cc19d0d979ae02f2ae"}, "X-Scheme":[]string{"https"}}
{"level":"debug","x-request-id":"007e2e384dd2d2cc19d0d979ae02f2ae","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"header.cors try to set Access-Control-Allow-Origin with [*]"}
{"level":"debug","x-request-id":"007e2e384dd2d2cc19d0d979ae02f2ae","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"debug","x-request-id":"007e2e384dd2d2cc19d0d979ae02f2ae","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"debug","x-request-id":"007e2e384dd2d2cc19d0d979ae02f2ae","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"debug","x-request-id":"007e2e384dd2d2cc19d0d979ae02f2ae","trace-id":"","span-id":"","time":"2024-04-03T10:24:35+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
HDR http.Header{"Accept":[]string{"application/json, text/plain, */*"}, "Accept-Encoding":[]string{"gzip, deflate, br, zstd"}, "Accept-Language":[]string{"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7"}, "Content-Length":[]string{"1449"}, "Content-Type":[]string{"application/json"}, "Cookie":[]string{"AMP_80fbd2fe20=JTdCJTIyZGV2aWNlSWQlMjIlM0ElMjIyMzk2N2VlOC1jMjFhLTRiY2ItYWE0MC02NzllYjM1OGRlMmMlMjIlMkMlMjJ1c2VySWQlMjIlM0ElMjIwMy5BMDcwNTE0JTIyJTJDJTIyc2Vzc2lvbklkJTIyJTNBMTcxMjEyMTYzNjgyOCUyQyUyMm9wdE91dCUyMiUzQWZhbHNlJTJDJTIybGFzdEV2ZW50VGltZSUyMiUzQTE3MTIxMjE3NjEzOTElMkMlMjJsYXN0RXZlbnRJZCUyMiUzQTE5JTdE"}, "Origin":[]string{"https://dev-beeline-express.fortebank.com"}, "Referer":[]string{"https://dev-beeline-express.fortebank.com/"}, "Sec-Fetch-Dest":[]string{"empty"}, "Sec-Fetch-Mode":[]string{"cors"}, "Sec-Fetch-Site":[]string{"same-site"}, "User-Agent":[]string{"Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1"}, "X-Forwarded-For":[]string{"172.23.20.6, 10.233.126.141"}, "X-Forwarded-Host":[]string{"dev-apigw.fortebank.com"}, "X-Forwarded-Port":[]string{"443"}, "X-Forwarded-Proto":[]string{"https"}, "X-Forwarded-Scheme":[]string{"https"}, "X-Real-Ip":[]string{"172.23.20.6"}, "X-Request-Id":[]string{"5f8b5b6d4a6a2e299307054b92a7ddab"}, "X-Scheme":[]string{"https"}}
{"level":"debug","x-request-id":"5f8b5b6d4a6a2e299307054b92a7ddab","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"authn.cookie process"}
{"level":"debug","x-request-id":"5f8b5b6d4a6a2e299307054b92a7ddab","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"authn.cookie skip cookie AMP_80fbd2fe20=JTdCJTIyZGV2aWNlSWQlMjIlM0ElMjIyMzk2N2VlOC1jMjFhLTRiY2ItYWE0MC02NzllYjM1OGRlMmMlMjIlMkMlMjJ1c2VySWQlMjIlM0ElMjIwMy5BMDcwNTE0JTIyJTJDJTIyc2Vzc2lvbklkJTIyJTNBMTcxMjEyMTYzNjgyOCUyQyUyMm9wdE91dCUyMiUzQWZhbHNlJTJDJTIybGFzdEV2ZW50VGltZSUyMiUzQTE3MTIxMjE3NjEzOTElMkMlMjJsYXN0RXZlbnRJZCUyMiUzQTE5JTdE"}
{"level":"debug","x-request-id":"5f8b5b6d4a6a2e299307054b92a7ddab","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"authn.cookie no cookie"}
{"level":"info","x-request-id":"5f8b5b6d4a6a2e299307054b92a7ddab","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Token"}
{"level":"debug","x-request-id":"5f8b5b6d4a6a2e299307054b92a7ddab","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"debug","x-request-id":"5f8b5b6d4a6a2e299307054b92a7ddab","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"header.cors try to set Access-Control-Allow-Origin with [*]"}
{"level":"debug","x-request-id":"5f8b5b6d4a6a2e299307054b92a7ddab","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"debug","x-request-id":"5f8b5b6d4a6a2e299307054b92a7ddab","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"debug","x-request-id":"5f8b5b6d4a6a2e299307054b92a7ddab","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"info","x-request-id":"5f8b5b6d4a6a2e299307054b92a7ddab","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"5f8b5b6d4a6a2e299307054b92a7ddab","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"5f8b5b6d4a6a2e299307054b92a7ddab","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"5f8b5b6d4a6a2e299307054b92a7ddab","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"5f8b5b6d4a6a2e299307054b92a7ddab","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"5f8b5b6d4a6a2e299307054b92a7ddab","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"5f8b5b6d4a6a2e299307054b92a7ddab","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"5f8b5b6d4a6a2e299307054b92a7ddab","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"5f8b5b6d4a6a2e299307054b92a7ddab","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"start to proxy url: /authn.AuthnService/v1/oauth/token via http://authn-service:80"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"5f8b5b6d4a6a2e299307054b92a7ddab","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"stop to proxy url: /authn.AuthnService/v1/oauth/token via http://authn-service:80"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5f8b5b6d4a6a2e299307054b92a7ddab","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"skip hook authn.cookie"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5f8b5b6d4a6a2e299307054b92a7ddab","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5f8b5b6d4a6a2e299307054b92a7ddab","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5f8b5b6d4a6a2e299307054b92a7ddab","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5f8b5b6d4a6a2e299307054b92a7ddab","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5f8b5b6d4a6a2e299307054b92a7ddab","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5f8b5b6d4a6a2e299307054b92a7ddab","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"skip hook jwt.check"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5f8b5b6d4a6a2e299307054b92a7ddab","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"run hook header.cors"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5f8b5b6d4a6a2e299307054b92a7ddab","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5f8b5b6d4a6a2e299307054b92a7ddab","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5f8b5b6d4a6a2e299307054b92a7ddab","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5f8b5b6d4a6a2e299307054b92a7ddab","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5f8b5b6d4a6a2e299307054b92a7ddab","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"end hook header.cors"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5f8b5b6d4a6a2e299307054b92a7ddab","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5f8b5b6d4a6a2e299307054b92a7ddab","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5f8b5b6d4a6a2e299307054b92a7ddab","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5f8b5b6d4a6a2e299307054b92a7ddab","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"skip hook jwt.extract"}
HDR http.Header{"Accept":[]string{"*/*"}, "Accept-Encoding":[]string{"gzip, deflate, br, zstd"}, "Accept-Language":[]string{"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7"}, "Access-Control-Request-Headers":[]string{"content-type"}, "Access-Control-Request-Method":[]string{"POST"}, "Origin":[]string{"https://dev-beeline-express.fortebank.com"}, "Referer":[]string{"https://dev-beeline-express.fortebank.com/"}, "Sec-Fetch-Dest":[]string{"empty"}, "Sec-Fetch-Mode":[]string{"cors"}, "Sec-Fetch-Site":[]string{"same-site"}, "User-Agent":[]string{"Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1"}, "X-Forwarded-For":[]string{"10.233.100.0, 10.233.126.141"}, "X-Forwarded-Host":[]string{"dev-apigw.fortebank.com"}, "X-Forwarded-Port":[]string{"443"}, "X-Forwarded-Proto":[]string{"https"}, "X-Forwarded-Scheme":[]string{"https"}, "X-Real-Ip":[]string{"10.233.100.0"}, "X-Request-Id":[]string{"59509e2543dea6bd55803e06643864e8"}, "X-Scheme":[]string{"https"}}
{"level":"debug","x-request-id":"59509e2543dea6bd55803e06643864e8","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"debug","x-request-id":"59509e2543dea6bd55803e06643864e8","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"debug","x-request-id":"59509e2543dea6bd55803e06643864e8","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"debug","x-request-id":"59509e2543dea6bd55803e06643864e8","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"header.cors try to set Access-Control-Allow-Origin with [*]"}
{"level":"debug","x-request-id":"59509e2543dea6bd55803e06643864e8","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
HDR http.Header{"Accept":[]string{"application/json, text/plain, */*"}, "Accept-Encoding":[]string{"gzip, deflate, br, zstd"}, "Accept-Language":[]string{"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7"}, "Content-Length":[]string{"2"}, "Content-Type":[]string{"application/json"}, "Cookie":[]string{"AMP_80fbd2fe20=JTdCJTIyZGV2aWNlSWQlMjIlM0ElMjIyMzk2N2VlOC1jMjFhLTRiY2ItYWE0MC02NzllYjM1OGRlMmMlMjIlMkMlMjJ1c2VySWQlMjIlM0ElMjIwMy5BMDcwNTE0JTIyJTJDJTIyc2Vzc2lvbklkJTIyJTNBMTcxMjEyMTYzNjgyOCUyQyUyMm9wdE91dCUyMiUzQWZhbHNlJTJDJTIybGFzdEV2ZW50VGltZSUyMiUzQTE3MTIxMjE3NjEzOTElMkMlMjJsYXN0RXZlbnRJZCUyMiUzQTE5JTdE; session_id=c1e82aa3-2f01-4af3-8256-f494d8bac1e2"}, "Origin":[]string{"https://dev-beeline-express.fortebank.com"}, "Referer":[]string{"https://dev-beeline-express.fortebank.com/"}, "Sec-Fetch-Dest":[]string{"empty"}, "Sec-Fetch-Mode":[]string{"cors"}, "Sec-Fetch-Site":[]string{"same-site"}, "User-Agent":[]string{"Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1"}, "X-Forwarded-For":[]string{"172.23.20.6, 10.233.126.141"}, "X-Forwarded-Host":[]string{"dev-apigw.fortebank.com"}, "X-Forwarded-Port":[]string{"443"}, "X-Forwarded-Proto":[]string{"https"}, "X-Forwarded-Scheme":[]string{"https"}, "X-Real-Ip":[]string{"172.23.20.6"}, "X-Request-Id":[]string{"d340c7ccfba5446a48d5b31f3b7501d9"}, "X-Scheme":[]string{"https"}}
{"level":"debug","x-request-id":"d340c7ccfba5446a48d5b31f3b7501d9","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"authn.cookie process"}
{"level":"debug","x-request-id":"d340c7ccfba5446a48d5b31f3b7501d9","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"authn.cookie skip cookie AMP_80fbd2fe20=JTdCJTIyZGV2aWNlSWQlMjIlM0ElMjIyMzk2N2VlOC1jMjFhLTRiY2ItYWE0MC02NzllYjM1OGRlMmMlMjIlMkMlMjJ1c2VySWQlMjIlM0ElMjIwMy5BMDcwNTE0JTIyJTJDJTIyc2Vzc2lvbklkJTIyJTNBMTcxMjEyMTYzNjgyOCUyQyUyMm9wdE91dCUyMiUzQWZhbHNlJTJDJTIybGFzdEV2ZW50VGltZSUyMiUzQTE3MTIxMjE3NjEzOTElMkMlMjJsYXN0RXZlbnRJZCUyMiUzQTE5JTdE"}
{"level":"debug","x-request-id":"d340c7ccfba5446a48d5b31f3b7501d9","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"authn.cookie try to get store /session/c1e82aa3-2f01-4af3-8256-f494d8bac1e2"}
{"level":"debug","x-request-id":"d340c7ccfba5446a48d5b31f3b7501d9","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"authn.cookie try to get store /session/c1e82aa3-2f01-4af3-8256-f494d8bac1e2/attrs"}
{"level":"debug","x-request-id":"d340c7ccfba5446a48d5b31f3b7501d9","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"authn.cookie set token to eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwOi8vZGV2LWFwaWd3LWdycGMuZm9ydGViYW5rLmNvbSIsInN1YiI6IjIwMCIsImV4cCI6MTcxMjEyMjc3NiwibmJmIjoxNzEyMTIxODc2LCJpYXQiOjE3MTIxMjE4NzYsImp0aSI6IjE3NzZjY2NiLTNjMzAtNGRjMi05MjZmLWNjZmMyYjkxZTZlMyIsInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJtaWJfdXNlciJdfSwiY3VzdG9tIjp7ImNsaWVudF9pZCI6ImJlZWxpbmVfZXhwcmVzcyIsInBob25lIjoiKzc3NDc2MjMyMzMxIiwic2NvcGUiOiJvZmZsaW5lX2FjY2VzcyIsInRva2VuX3R5cGUiOiJhY2Nlc3NfdG9rZW4iLCJ1c2VyX2FjdGlvbiI6InJlZ2lzdHJhdGlvbiIsInVzZXJfcm9sZXMiOlsibWliX3VzZXIiXSwidXNlcm5hbWUiOiI5MzA1MTAzNTAxOTEifX0.ehG4x4ekpxUU32PITMUbu75t8nVfPEB_XznY1by86ICZwI2UakpG1tpAvn4accuqX-InhrJS9uwcj9DdonBCZ4660x8cI3uCxoiDnUSbIO0wSNpqrta6UL1f18ouheaQdYRQ-Yi7iwYsCZ-lyeo6BtlfMhdL3wyrT6OU7QgN2uHelZqF3dWunEGqlEvd-aC4GCSuSv0EnB7cmbnJpQLu9eVXIfzmmm5dtC80JqFBD6Lg3yT-j-T_r72rClQNW2zLuupO0k7rOkakrMcEPXucYJtWcSYAwwfMSjPxBymVTl2hGYl_8qdtt1-LIPipYR_2b4CZ15PSpQ0K9PeMLDhZmg"}
{"level":"debug","x-request-id":"d340c7ccfba5446a48d5b31f3b7501d9","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"d340c7ccfba5446a48d5b31f3b7501d9","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"beeline_express\", \"phone\":\"+77476232331\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"930510350191\"}, \"exp\":1.712122776e+09, \"iat\":1.712121876e+09, \"iss\":\"http://dev-apigw-grpc.fortebank.com\", \"jti\":\"1776cccb-3c30-4dc2-926f-ccfc2b91e6e3\", \"nbf\":1.712121876e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"200\"}"}
{"level":"debug","x-request-id":"d340c7ccfba5446a48d5b31f3b7501d9","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"debug","x-request-id":"d340c7ccfba5446a48d5b31f3b7501d9","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"debug","x-request-id":"d340c7ccfba5446a48d5b31f3b7501d9","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"debug","x-request-id":"d340c7ccfba5446a48d5b31f3b7501d9","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"debug","x-request-id":"d340c7ccfba5446a48d5b31f3b7501d9","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"header.cors try to set Access-Control-Allow-Origin with [*]"}
{"level":"info","x-request-id":"d340c7ccfba5446a48d5b31f3b7501d9","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"d340c7ccfba5446a48d5b31f3b7501d9","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"beeline_express\", \"phone\":\"+77476232331\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"930510350191\"}, \"exp\":1.712122776e+09, \"iat\":1.712121876e+09, \"iss\":\"http://dev-apigw-grpc.fortebank.com\", \"jti\":\"1776cccb-3c30-4dc2-926f-ccfc2b91e6e3\", \"nbf\":1.712121876e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"200\"}"}
{"level":"info","x-request-id":"d340c7ccfba5446a48d5b31f3b7501d9","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.extract set User-Id to 200"}
{"level":"info","x-request-id":"d340c7ccfba5446a48d5b31f3b7501d9","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"d340c7ccfba5446a48d5b31f3b7501d9","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"beeline_express\", \"phone\":\"+77476232331\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"930510350191\"}, \"exp\":1.712122776e+09, \"iat\":1.712121876e+09, \"iss\":\"http://dev-apigw-grpc.fortebank.com\", \"jti\":\"1776cccb-3c30-4dc2-926f-ccfc2b91e6e3\", \"nbf\":1.712121876e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"200\"}"}
{"level":"info","x-request-id":"d340c7ccfba5446a48d5b31f3b7501d9","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"d340c7ccfba5446a48d5b31f3b7501d9","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"beeline_express\", \"phone\":\"+77476232331\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"930510350191\"}, \"exp\":1.712122776e+09, \"iat\":1.712121876e+09, \"iss\":\"http://dev-apigw-grpc.fortebank.com\", \"jti\":\"1776cccb-3c30-4dc2-926f-ccfc2b91e6e3\", \"nbf\":1.712121876e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"200\"}"}
{"level":"info","x-request-id":"d340c7ccfba5446a48d5b31f3b7501d9","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.extract set Username to 930510350191"}
{"level":"info","x-request-id":"d340c7ccfba5446a48d5b31f3b7501d9","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"d340c7ccfba5446a48d5b31f3b7501d9","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"beeline_express\", \"phone\":\"+77476232331\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"930510350191\"}, \"exp\":1.712122776e+09, \"iat\":1.712121876e+09, \"iss\":\"http://dev-apigw-grpc.fortebank.com\", \"jti\":\"1776cccb-3c30-4dc2-926f-ccfc2b91e6e3\", \"nbf\":1.712121876e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"200\"}"}
{"level":"info","x-request-id":"d340c7ccfba5446a48d5b31f3b7501d9","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.extract set Phone to +77476232331"}
{"level":"info","x-request-id":"d340c7ccfba5446a48d5b31f3b7501d9","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"d340c7ccfba5446a48d5b31f3b7501d9","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"beeline_express\", \"phone\":\"+77476232331\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"930510350191\"}, \"exp\":1.712122776e+09, \"iat\":1.712121876e+09, \"iss\":\"http://dev-apigw-grpc.fortebank.com\", \"jti\":\"1776cccb-3c30-4dc2-926f-ccfc2b91e6e3\", \"nbf\":1.712121876e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"200\"}"}
{"level":"info","x-request-id":"d340c7ccfba5446a48d5b31f3b7501d9","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.extract set otp_datetime to 1712121876"}
{"level":"info","x-request-id":"d340c7ccfba5446a48d5b31f3b7501d9","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"d340c7ccfba5446a48d5b31f3b7501d9","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"beeline_express\", \"phone\":\"+77476232331\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"930510350191\"}, \"exp\":1.712122776e+09, \"iat\":1.712121876e+09, \"iss\":\"http://dev-apigw-grpc.fortebank.com\", \"jti\":\"1776cccb-3c30-4dc2-926f-ccfc2b91e6e3\", \"nbf\":1.712121876e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"200\"}"}
{"level":"info","x-request-id":"d340c7ccfba5446a48d5b31f3b7501d9","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.extract set username to 930510350191"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"d340c7ccfba5446a48d5b31f3b7501d9","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"httpConnAdd /clientpass.ClientpassService/StartClientPass d340c7ccfba5446a48d5b31f3b7501d9"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"d340c7ccfba5446a48d5b31f3b7501d9","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"start to proxy url: /clientpass.ClientpassService via client.clientpass.startclientpass.in"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"d340c7ccfba5446a48d5b31f3b7501d9","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"start to proxy url: /clientpass.ClientpassService via client.clientpass.startclientpass.in"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"d340c7ccfba5446a48d5b31f3b7501d9","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"brokerClientStream brokerClientStream SendMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"d340c7ccfba5446a48d5b31f3b7501d9","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"brokerClientStream try to publish to client.clientpass.startclientpass.in msg with hdr: metadata.Metadata{\"Accept-Encoding\":\"gzip, deflate, br, zstd\", \"Accept-Language\":\"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7\", \"Access-Control-Allow-Credentials\":\"true\", \"Access-Control-Allow-Headers\":\"X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext\", \"Access-Control-Allow-Methods\":\"GET, POST, PUT, DELETE, OPTIONS\", \"Access-Control-Allow-Origin\":\"https://dev-beeline-express.fortebank.com\", \"Access-Control-Max-Age\":\"3600\", \"Authorization\":\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwOi8vZGV2LWFwaWd3LWdycGMuZm9ydGViYW5rLmNvbSIsInN1YiI6IjIwMCIsImV4cCI6MTcxMjEyMjc3NiwibmJmIjoxNzEyMTIxODc2LCJpYXQiOjE3MTIxMjE4NzYsImp0aSI6IjE3NzZjY2NiLTNjMzAtNGRjMi05MjZmLWNjZmMyYjkxZTZlMyIsInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJtaWJfdXNlciJdfSwiY3VzdG9tIjp7ImNsaWVudF9pZCI6ImJlZWxpbmVfZXhwcmVzcyIsInBob25lIjoiKzc3NDc2MjMyMzMxIiwic2NvcGUiOiJvZmZsaW5lX2FjY2VzcyIsInRva2VuX3R5cGUiOiJhY2Nlc3NfdG9rZW4iLCJ1c2VyX2FjdGlvbiI6InJlZ2lzdHJhdGlvbiIsInVzZXJfcm9sZXMiOlsibWliX3VzZXIiXSwidXNlcm5hbWUiOiI5MzA1MTAzNTAxOTEifX0.ehG4x4ekpxUU32PITMUbu75t8nVfPEB_XznY1by86ICZwI2UakpG1tpAvn4accuqX-InhrJS9uwcj9DdonBCZ4660x8cI3uCxoiDnUSbIO0wSNpqrta6UL1f18ouheaQdYRQ-Yi7iwYsCZ-lyeo6BtlfMhdL3wyrT6OU7QgN2uHelZqF3dWunEGqlEvd-aC4GCSuSv0EnB7cmbnJpQLu9eVXIfzmmm5dtC80JqFBD6Lg3yT-j-T_r72rClQNW2zLuupO0k7rOkakrMcEPXucYJtWcSYAwwfMSjPxBymVTl2hGYl_8qdtt1-LIPipYR_2b4CZ15PSpQ0K9PeMLDhZmg\", \"Client-Ip\":\"172.23.20.6\", \"Content-Type\":\"application/json\", \"Language\":\"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7\", \"Otp_datetime\":\"1712121876\", \"Phone\":\"+77476232331\", \"Referer\":\"https://dev-beeline-express.fortebank.com/\", \"Sec-Fetch-Dest\":\"empty\", \"Sec-Fetch-Mode\":\"cors\", \"Sec-Fetch-Site\":\"same-site\", \"Source-Service\":\"/clientpass.ClientpassService/StartClientPass\", \"User-Id\":\"200\", \"Username\":\"930510350191\", \"Vary\":\"Origin\", \"X-Forwarded-For\":\"172.23.20.6, 10.233.126.141\", \"X-Forwarded-Port\":\"443\", \"X-Real-Ip\":\"172.23.20.6\", \"X-Request-Id\":\"d340c7ccfba5446a48d5b31f3b7501d9\"}"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"d340c7ccfba5446a48d5b31f3b7501d9","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"info","X-Request-Id":"d340c7ccfba5446a48d5b31f3b7501d9","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"get message for service: /clientpass.ClientpassService/StartClientPass with md map[Accept-Encoding:gzip, deflate, br, zstd Accept-Language:ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7 Access-Control-Allow-Credentials:true Access-Control-Allow-Headers:X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext Access-Control-Allow-Methods:GET, POST, PUT, DELETE, OPTIONS Access-Control-Allow-Origin:https://dev-beeline-express.fortebank.com Access-Control-Max-Age:3600 Authorization:Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwOi8vZGV2LWFwaWd3LWdycGMuZm9ydGViYW5rLmNvbSIsInN1YiI6IjIwMCIsImV4cCI6MTcxMjEyMjc3NiwibmJmIjoxNzEyMTIxODc2LCJpYXQiOjE3MTIxMjE4NzYsImp0aSI6IjE3NzZjY2NiLTNjMzAtNGRjMi05MjZmLWNjZmMyYjkxZTZlMyIsInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJtaWJfdXNlciJdfSwiY3VzdG9tIjp7ImNsaWVudF9pZCI6ImJlZWxpbmVfZXhwcmVzcyIsInBob25lIjoiKzc3NDc2MjMyMzMxIiwic2NvcGUiOiJvZmZsaW5lX2FjY2VzcyIsInRva2VuX3R5cGUiOiJhY2Nlc3NfdG9rZW4iLCJ1c2VyX2FjdGlvbiI6InJlZ2lzdHJhdGlvbiIsInVzZXJfcm9sZXMiOlsibWliX3VzZXIiXSwidXNlcm5hbWUiOiI5MzA1MTAzNTAxOTEifX0.ehG4x4ekpxUU32PITMUbu75t8nVfPEB_XznY1by86ICZwI2UakpG1tpAvn4accuqX-InhrJS9uwcj9DdonBCZ4660x8cI3uCxoiDnUSbIO0wSNpqrta6UL1f18ouheaQdYRQ-Yi7iwYsCZ-lyeo6BtlfMhdL3wyrT6OU7QgN2uHelZqF3dWunEGqlEvd-aC4GCSuSv0EnB7cmbnJpQLu9eVXIfzmmm5dtC80JqFBD6Lg3yT-j-T_r72rClQNW2zLuupO0k7rOkakrMcEPXucYJtWcSYAwwfMSjPxBymVTl2hGYl_8qdtt1-LIPipYR_2b4CZ15PSpQ0K9PeMLDhZmg Client-Ip:172.23.20.6 Content-Type:application/json Language:ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7 Micro-Topic:apigw.in Otp_datetime:1712121876 Phone:+77476232331 Referer:https://dev-beeline-express.fortebank.com/ Sec-Fetch-Dest:empty Sec-Fetch-Mode:cors Sec-Fetch-Site:same-site Source-Service:/clientpass.ClientpassService/StartClientPass Uber-Trace-Id:0855b24e4dc5661a:3e2e19400889b744:7e4f2f9e9608a2a0:1 User-Id:200 Username:930510350191 Vary:Origin X-Forwarded-For:172.23.20.6, 10.233.126.141 X-Forwarded-Port:443 X-Real-Ip:172.23.20.6 X-Request-Id:d340c7ccfba5446a48d5b31f3b7501d9]"}
{"level":"debug","x-request-id":"d340c7ccfba5446a48d5b31f3b7501d9","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"httpConnGet: /clientpass.ClientpassService/StartClientPass via d340c7ccfba5446a48d5b31f3b7501d9"}
{"level":"debug","x-request-id":"d340c7ccfba5446a48d5b31f3b7501d9","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"http use stream conn: &handler.httpProxy{httpStream:(*handler.httpServerStream)(0xc00019b690), kafkaStream:(*handler.brokerClientStream)(0xc0004d6000)} sourceService: /clientpass.ClientpassService/StartClientPass"}
{"level":"info","x-request-id":"d340c7ccfba5446a48d5b31f3b7501d9","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"start transfer response from kafka"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"d340c7ccfba5446a48d5b31f3b7501d9","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"brokerClientStream SetHeader method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"d340c7ccfba5446a48d5b31f3b7501d9","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"brokerClientStream SetMsg method"}
{"level":"info","x-request-id":"d340c7ccfba5446a48d5b31f3b7501d9","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"stop transfer response from kafka"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"d340c7ccfba5446a48d5b31f3b7501d9","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"brokerClientStream RecvMsg method data"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"d340c7ccfba5446a48d5b31f3b7501d9","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"stop to proxy url: /clientpass.ClientpassService via client.clientpass.startclientpass.in"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"d340c7ccfba5446a48d5b31f3b7501d9","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"httpConnDel /clientpass.ClientpassService/StartClientPass d340c7ccfba5446a48d5b31f3b7501d9"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"d340c7ccfba5446a48d5b31f3b7501d9","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"brokerClientStream Header method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"d340c7ccfba5446a48d5b31f3b7501d9","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"brokerClientStream Close method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"d340c7ccfba5446a48d5b31f3b7501d9","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"return rsp &http.Response{Status:\"\", StatusCode:200, Proto:\"HTTP/1.1\", ProtoMajor:1, ProtoMinor:1, Header:http.Header{\"Accept-Encoding\":[]string{\"gzip, deflate, br, zstd\"}, \"Accept-Language\":[]string{\"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7\"}, \"Access-Control-Allow-Credentials\":[]string{\"true\"}, \"Access-Control-Allow-Headers\":[]string{\"X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext\"}, \"Access-Control-Allow-Methods\":[]string{\"GET, POST, PUT, DELETE, OPTIONS\"}, \"Access-Control-Allow-Origin\":[]string{\"https://dev-beeline-express.fortebank.com\"}, \"Access-Control-Max-Age\":[]string{\"3600\"}, \"Content-Type\":[]string{\"application/json\"}, \"Language\":[]string{\"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7\"}, \"Referer\":[]string{\"https://dev-beeline-express.fortebank.com/\"}, \"Sec-Fetch-Dest\":[]string{\"empty\"}, \"Sec-Fetch-Mode\":[]string{\"cors\"}, \"Sec-Fetch-Site\":[]string{\"same-site\"}, \"Vary\":[]string{\"Origin\"}, \"X-Request-Id\":[]string{\"d340c7ccfba5446a48d5b31f3b7501d9\"}}, Body:io.nopCloserWriterTo{Reader:(*bytes.Reader)(0xc0005352c0)}, ContentLength:133, TransferEncoding:[]string(nil), Close:false, Uncompressed:false, Trailer:http.Header(nil), Request:(*http.Request)(0xc00093f680), TLS:(*tls.ConnectionState)(nil)}"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"d340c7ccfba5446a48d5b31f3b7501d9","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"http handler exit"}
HDR http.Header{"Accept":[]string{"*/*"}, "Accept-Encoding":[]string{"gzip, deflate, br, zstd"}, "Accept-Language":[]string{"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7"}, "Access-Control-Request-Headers":[]string{"content-type"}, "Access-Control-Request-Method":[]string{"POST"}, "Origin":[]string{"https://dev-beeline-express.fortebank.com"}, "Referer":[]string{"https://dev-beeline-express.fortebank.com/"}, "Sec-Fetch-Dest":[]string{"empty"}, "Sec-Fetch-Mode":[]string{"cors"}, "Sec-Fetch-Site":[]string{"same-site"}, "User-Agent":[]string{"Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1"}, "X-Forwarded-For":[]string{"10.233.100.0, 10.233.126.141"}, "X-Forwarded-Host":[]string{"dev-apigw.fortebank.com"}, "X-Forwarded-Port":[]string{"443"}, "X-Forwarded-Proto":[]string{"https"}, "X-Forwarded-Scheme":[]string{"https"}, "X-Real-Ip":[]string{"10.233.100.0"}, "X-Request-Id":[]string{"f3a5a2ec73b6ec213be3b74a0ebc24a9"}, "X-Scheme":[]string{"https"}}
{"level":"debug","x-request-id":"f3a5a2ec73b6ec213be3b74a0ebc24a9","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"debug","x-request-id":"f3a5a2ec73b6ec213be3b74a0ebc24a9","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"debug","x-request-id":"f3a5a2ec73b6ec213be3b74a0ebc24a9","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"debug","x-request-id":"f3a5a2ec73b6ec213be3b74a0ebc24a9","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"header.cors try to set Access-Control-Allow-Origin with [*]"}
{"level":"debug","x-request-id":"f3a5a2ec73b6ec213be3b74a0ebc24a9","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
HDR http.Header{"Accept":[]string{"application/json, text/plain, */*"}, "Accept-Encoding":[]string{"gzip, deflate, br, zstd"}, "Accept-Language":[]string{"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7"}, "Content-Length":[]string{"130"}, "Content-Type":[]string{"application/json"}, "Cookie":[]string{"AMP_80fbd2fe20=JTdCJTIyZGV2aWNlSWQlMjIlM0ElMjIyMzk2N2VlOC1jMjFhLTRiY2ItYWE0MC02NzllYjM1OGRlMmMlMjIlMkMlMjJ1c2VySWQlMjIlM0ElMjIwMy5BMDcwNTE0JTIyJTJDJTIyc2Vzc2lvbklkJTIyJTNBMTcxMjEyMTYzNjgyOCUyQyUyMm9wdE91dCUyMiUzQWZhbHNlJTJDJTIybGFzdEV2ZW50VGltZSUyMiUzQTE3MTIxMjE3NjEzOTElMkMlMjJsYXN0RXZlbnRJZCUyMiUzQTE5JTdE; session_id=c1e82aa3-2f01-4af3-8256-f494d8bac1e2"}, "Origin":[]string{"https://dev-beeline-express.fortebank.com"}, "Referer":[]string{"https://dev-beeline-express.fortebank.com/"}, "Sec-Fetch-Dest":[]string{"empty"}, "Sec-Fetch-Mode":[]string{"cors"}, "Sec-Fetch-Site":[]string{"same-site"}, "User-Agent":[]string{"Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1"}, "X-Forwarded-For":[]string{"172.23.20.6, 10.233.126.141"}, "X-Forwarded-Host":[]string{"dev-apigw.fortebank.com"}, "X-Forwarded-Port":[]string{"443"}, "X-Forwarded-Proto":[]string{"https"}, "X-Forwarded-Scheme":[]string{"https"}, "X-Real-Ip":[]string{"172.23.20.6"}, "X-Request-Id":[]string{"b768fe5a8e162072fef2becd9dc0f2ec"}, "X-Scheme":[]string{"https"}}
{"level":"debug","x-request-id":"b768fe5a8e162072fef2becd9dc0f2ec","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"authn.cookie process"}
{"level":"debug","x-request-id":"b768fe5a8e162072fef2becd9dc0f2ec","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"authn.cookie skip cookie AMP_80fbd2fe20=JTdCJTIyZGV2aWNlSWQlMjIlM0ElMjIyMzk2N2VlOC1jMjFhLTRiY2ItYWE0MC02NzllYjM1OGRlMmMlMjIlMkMlMjJ1c2VySWQlMjIlM0ElMjIwMy5BMDcwNTE0JTIyJTJDJTIyc2Vzc2lvbklkJTIyJTNBMTcxMjEyMTYzNjgyOCUyQyUyMm9wdE91dCUyMiUzQWZhbHNlJTJDJTIybGFzdEV2ZW50VGltZSUyMiUzQTE3MTIxMjE3NjEzOTElMkMlMjJsYXN0RXZlbnRJZCUyMiUzQTE5JTdE"}
{"level":"debug","x-request-id":"b768fe5a8e162072fef2becd9dc0f2ec","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"authn.cookie try to get store /session/c1e82aa3-2f01-4af3-8256-f494d8bac1e2"}
{"level":"debug","x-request-id":"b768fe5a8e162072fef2becd9dc0f2ec","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"authn.cookie try to get store /session/c1e82aa3-2f01-4af3-8256-f494d8bac1e2/attrs"}
{"level":"debug","x-request-id":"b768fe5a8e162072fef2becd9dc0f2ec","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"authn.cookie set token to eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwOi8vZGV2LWFwaWd3LWdycGMuZm9ydGViYW5rLmNvbSIsInN1YiI6IjIwMCIsImV4cCI6MTcxMjEyMjc3NiwibmJmIjoxNzEyMTIxODc2LCJpYXQiOjE3MTIxMjE4NzYsImp0aSI6IjE3NzZjY2NiLTNjMzAtNGRjMi05MjZmLWNjZmMyYjkxZTZlMyIsInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJtaWJfdXNlciJdfSwiY3VzdG9tIjp7ImNsaWVudF9pZCI6ImJlZWxpbmVfZXhwcmVzcyIsInBob25lIjoiKzc3NDc2MjMyMzMxIiwic2NvcGUiOiJvZmZsaW5lX2FjY2VzcyIsInRva2VuX3R5cGUiOiJhY2Nlc3NfdG9rZW4iLCJ1c2VyX2FjdGlvbiI6InJlZ2lzdHJhdGlvbiIsInVzZXJfcm9sZXMiOlsibWliX3VzZXIiXSwidXNlcm5hbWUiOiI5MzA1MTAzNTAxOTEifX0.ehG4x4ekpxUU32PITMUbu75t8nVfPEB_XznY1by86ICZwI2UakpG1tpAvn4accuqX-InhrJS9uwcj9DdonBCZ4660x8cI3uCxoiDnUSbIO0wSNpqrta6UL1f18ouheaQdYRQ-Yi7iwYsCZ-lyeo6BtlfMhdL3wyrT6OU7QgN2uHelZqF3dWunEGqlEvd-aC4GCSuSv0EnB7cmbnJpQLu9eVXIfzmmm5dtC80JqFBD6Lg3yT-j-T_r72rClQNW2zLuupO0k7rOkakrMcEPXucYJtWcSYAwwfMSjPxBymVTl2hGYl_8qdtt1-LIPipYR_2b4CZ15PSpQ0K9PeMLDhZmg"}
{"level":"debug","x-request-id":"b768fe5a8e162072fef2becd9dc0f2ec","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"b768fe5a8e162072fef2becd9dc0f2ec","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"beeline_express\", \"phone\":\"+77476232331\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"930510350191\"}, \"exp\":1.712122776e+09, \"iat\":1.712121876e+09, \"iss\":\"http://dev-apigw-grpc.fortebank.com\", \"jti\":\"1776cccb-3c30-4dc2-926f-ccfc2b91e6e3\", \"nbf\":1.712121876e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"200\"}"}
{"level":"debug","x-request-id":"b768fe5a8e162072fef2becd9dc0f2ec","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"debug","x-request-id":"b768fe5a8e162072fef2becd9dc0f2ec","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"debug","x-request-id":"b768fe5a8e162072fef2becd9dc0f2ec","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"debug","x-request-id":"b768fe5a8e162072fef2becd9dc0f2ec","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"header.cors try to set Access-Control-Allow-Origin with [*]"}
{"level":"debug","x-request-id":"b768fe5a8e162072fef2becd9dc0f2ec","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"info","x-request-id":"b768fe5a8e162072fef2becd9dc0f2ec","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"b768fe5a8e162072fef2becd9dc0f2ec","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"beeline_express\", \"phone\":\"+77476232331\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"930510350191\"}, \"exp\":1.712122776e+09, \"iat\":1.712121876e+09, \"iss\":\"http://dev-apigw-grpc.fortebank.com\", \"jti\":\"1776cccb-3c30-4dc2-926f-ccfc2b91e6e3\", \"nbf\":1.712121876e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"200\"}"}
{"level":"info","x-request-id":"b768fe5a8e162072fef2becd9dc0f2ec","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.extract set User-Id to 200"}
{"level":"info","x-request-id":"b768fe5a8e162072fef2becd9dc0f2ec","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"b768fe5a8e162072fef2becd9dc0f2ec","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"beeline_express\", \"phone\":\"+77476232331\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"930510350191\"}, \"exp\":1.712122776e+09, \"iat\":1.712121876e+09, \"iss\":\"http://dev-apigw-grpc.fortebank.com\", \"jti\":\"1776cccb-3c30-4dc2-926f-ccfc2b91e6e3\", \"nbf\":1.712121876e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"200\"}"}
{"level":"info","x-request-id":"b768fe5a8e162072fef2becd9dc0f2ec","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"b768fe5a8e162072fef2becd9dc0f2ec","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"beeline_express\", \"phone\":\"+77476232331\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"930510350191\"}, \"exp\":1.712122776e+09, \"iat\":1.712121876e+09, \"iss\":\"http://dev-apigw-grpc.fortebank.com\", \"jti\":\"1776cccb-3c30-4dc2-926f-ccfc2b91e6e3\", \"nbf\":1.712121876e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"200\"}"}
{"level":"info","x-request-id":"b768fe5a8e162072fef2becd9dc0f2ec","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.extract set Username to 930510350191"}
{"level":"info","x-request-id":"b768fe5a8e162072fef2becd9dc0f2ec","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"b768fe5a8e162072fef2becd9dc0f2ec","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"beeline_express\", \"phone\":\"+77476232331\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"930510350191\"}, \"exp\":1.712122776e+09, \"iat\":1.712121876e+09, \"iss\":\"http://dev-apigw-grpc.fortebank.com\", \"jti\":\"1776cccb-3c30-4dc2-926f-ccfc2b91e6e3\", \"nbf\":1.712121876e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"200\"}"}
{"level":"info","x-request-id":"b768fe5a8e162072fef2becd9dc0f2ec","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.extract set Phone to +77476232331"}
{"level":"info","x-request-id":"b768fe5a8e162072fef2becd9dc0f2ec","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"b768fe5a8e162072fef2becd9dc0f2ec","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"beeline_express\", \"phone\":\"+77476232331\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"930510350191\"}, \"exp\":1.712122776e+09, \"iat\":1.712121876e+09, \"iss\":\"http://dev-apigw-grpc.fortebank.com\", \"jti\":\"1776cccb-3c30-4dc2-926f-ccfc2b91e6e3\", \"nbf\":1.712121876e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"200\"}"}
{"level":"info","x-request-id":"b768fe5a8e162072fef2becd9dc0f2ec","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.extract set username to 930510350191"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"b768fe5a8e162072fef2becd9dc0f2ec","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"httpConnAdd /clientpass.ClientpassService/OnboardingPass b768fe5a8e162072fef2becd9dc0f2ec"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"b768fe5a8e162072fef2becd9dc0f2ec","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"start to proxy url: /clientpass.ClientpassService via client.clientpass.onboarding.in"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"b768fe5a8e162072fef2becd9dc0f2ec","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"start to proxy url: /clientpass.ClientpassService via client.clientpass.onboarding.in"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"b768fe5a8e162072fef2becd9dc0f2ec","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"brokerClientStream brokerClientStream SendMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"b768fe5a8e162072fef2becd9dc0f2ec","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"brokerClientStream try to publish to client.clientpass.onboarding.in msg with hdr: metadata.Metadata{\"Accept-Encoding\":\"gzip, deflate, br, zstd\", \"Accept-Language\":\"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7\", \"Access-Control-Allow-Credentials\":\"true\", \"Access-Control-Allow-Headers\":\"X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext\", \"Access-Control-Allow-Methods\":\"GET, POST, PUT, DELETE, OPTIONS\", \"Access-Control-Allow-Origin\":\"https://dev-beeline-express.fortebank.com\", \"Access-Control-Max-Age\":\"3600\", \"Authorization\":\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwOi8vZGV2LWFwaWd3LWdycGMuZm9ydGViYW5rLmNvbSIsInN1YiI6IjIwMCIsImV4cCI6MTcxMjEyMjc3NiwibmJmIjoxNzEyMTIxODc2LCJpYXQiOjE3MTIxMjE4NzYsImp0aSI6IjE3NzZjY2NiLTNjMzAtNGRjMi05MjZmLWNjZmMyYjkxZTZlMyIsInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJtaWJfdXNlciJdfSwiY3VzdG9tIjp7ImNsaWVudF9pZCI6ImJlZWxpbmVfZXhwcmVzcyIsInBob25lIjoiKzc3NDc2MjMyMzMxIiwic2NvcGUiOiJvZmZsaW5lX2FjY2VzcyIsInRva2VuX3R5cGUiOiJhY2Nlc3NfdG9rZW4iLCJ1c2VyX2FjdGlvbiI6InJlZ2lzdHJhdGlvbiIsInVzZXJfcm9sZXMiOlsibWliX3VzZXIiXSwidXNlcm5hbWUiOiI5MzA1MTAzNTAxOTEifX0.ehG4x4ekpxUU32PITMUbu75t8nVfPEB_XznY1by86ICZwI2UakpG1tpAvn4accuqX-InhrJS9uwcj9DdonBCZ4660x8cI3uCxoiDnUSbIO0wSNpqrta6UL1f18ouheaQdYRQ-Yi7iwYsCZ-lyeo6BtlfMhdL3wyrT6OU7QgN2uHelZqF3dWunEGqlEvd-aC4GCSuSv0EnB7cmbnJpQLu9eVXIfzmmm5dtC80JqFBD6Lg3yT-j-T_r72rClQNW2zLuupO0k7rOkakrMcEPXucYJtWcSYAwwfMSjPxBymVTl2hGYl_8qdtt1-LIPipYR_2b4CZ15PSpQ0K9PeMLDhZmg\", \"Client-Ip\":\"172.23.20.6\", \"Content-Type\":\"application/json\", \"Language\":\"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7\", \"Phone\":\"+77476232331\", \"Referer\":\"https://dev-beeline-express.fortebank.com/\", \"Sec-Fetch-Dest\":\"empty\", \"Sec-Fetch-Mode\":\"cors\", \"Sec-Fetch-Site\":\"same-site\", \"Source-Service\":\"/clientpass.ClientpassService/OnboardingPass\", \"User-Id\":\"200\", \"Username\":\"930510350191\", \"Vary\":\"Origin\", \"X-Forwarded-For\":\"172.23.20.6, 10.233.126.141\", \"X-Forwarded-Port\":\"443\", \"X-Real-Ip\":\"172.23.20.6\", \"X-Request-Id\":\"b768fe5a8e162072fef2becd9dc0f2ec\"}"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"b768fe5a8e162072fef2becd9dc0f2ec","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"info","X-Request-Id":"b768fe5a8e162072fef2becd9dc0f2ec","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"get message for service: /clientpass.ClientpassService/OnboardingPass with md map[Accept-Encoding:gzip, deflate, br, zstd Accept-Language:ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7 Access-Control-Allow-Credentials:true Access-Control-Allow-Headers:X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext Access-Control-Allow-Methods:GET, POST, PUT, DELETE, OPTIONS Access-Control-Allow-Origin:https://dev-beeline-express.fortebank.com Access-Control-Max-Age:3600 Authorization:Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwOi8vZGV2LWFwaWd3LWdycGMuZm9ydGViYW5rLmNvbSIsInN1YiI6IjIwMCIsImV4cCI6MTcxMjEyMjc3NiwibmJmIjoxNzEyMTIxODc2LCJpYXQiOjE3MTIxMjE4NzYsImp0aSI6IjE3NzZjY2NiLTNjMzAtNGRjMi05MjZmLWNjZmMyYjkxZTZlMyIsInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJtaWJfdXNlciJdfSwiY3VzdG9tIjp7ImNsaWVudF9pZCI6ImJlZWxpbmVfZXhwcmVzcyIsInBob25lIjoiKzc3NDc2MjMyMzMxIiwic2NvcGUiOiJvZmZsaW5lX2FjY2VzcyIsInRva2VuX3R5cGUiOiJhY2Nlc3NfdG9rZW4iLCJ1c2VyX2FjdGlvbiI6InJlZ2lzdHJhdGlvbiIsInVzZXJfcm9sZXMiOlsibWliX3VzZXIiXSwidXNlcm5hbWUiOiI5MzA1MTAzNTAxOTEifX0.ehG4x4ekpxUU32PITMUbu75t8nVfPEB_XznY1by86ICZwI2UakpG1tpAvn4accuqX-InhrJS9uwcj9DdonBCZ4660x8cI3uCxoiDnUSbIO0wSNpqrta6UL1f18ouheaQdYRQ-Yi7iwYsCZ-lyeo6BtlfMhdL3wyrT6OU7QgN2uHelZqF3dWunEGqlEvd-aC4GCSuSv0EnB7cmbnJpQLu9eVXIfzmmm5dtC80JqFBD6Lg3yT-j-T_r72rClQNW2zLuupO0k7rOkakrMcEPXucYJtWcSYAwwfMSjPxBymVTl2hGYl_8qdtt1-LIPipYR_2b4CZ15PSpQ0K9PeMLDhZmg Client-Ip:172.23.20.6 Content-Type:application/json Language:ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7 Micro-Topic:apigw.in Phone:+77476232331 Referer:https://dev-beeline-express.fortebank.com/ Sec-Fetch-Dest:empty Sec-Fetch-Mode:cors Sec-Fetch-Site:same-site Source-Service:/clientpass.ClientpassService/OnboardingPass Uber-Trace-Id:6a66ac8801e6d3cd:091fcdc71f952254:6a66ac8801e6d3cd:1 User-Id:200 Username:930510350191 Vary:Origin X-Forwarded-For:172.23.20.6, 10.233.126.141 X-Forwarded-Port:443 X-Real-Ip:172.23.20.6 X-Request-Id:b768fe5a8e162072fef2becd9dc0f2ec]"}
{"level":"debug","x-request-id":"b768fe5a8e162072fef2becd9dc0f2ec","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"httpConnGet: /clientpass.ClientpassService/OnboardingPass via b768fe5a8e162072fef2becd9dc0f2ec"}
{"level":"debug","x-request-id":"b768fe5a8e162072fef2becd9dc0f2ec","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"http use stream conn: &handler.httpProxy{httpStream:(*handler.httpServerStream)(0xc000694f80), kafkaStream:(*handler.brokerClientStream)(0xc000001d10)} sourceService: /clientpass.ClientpassService/OnboardingPass"}
{"level":"info","x-request-id":"b768fe5a8e162072fef2becd9dc0f2ec","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"start transfer response from kafka"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"b768fe5a8e162072fef2becd9dc0f2ec","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"brokerClientStream SetHeader method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"b768fe5a8e162072fef2becd9dc0f2ec","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"brokerClientStream SetMsg method"}
{"level":"info","x-request-id":"b768fe5a8e162072fef2becd9dc0f2ec","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"stop transfer response from kafka"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"b768fe5a8e162072fef2becd9dc0f2ec","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"brokerClientStream RecvMsg method data"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"b768fe5a8e162072fef2becd9dc0f2ec","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"stop to proxy url: /clientpass.ClientpassService via client.clientpass.onboarding.in"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"b768fe5a8e162072fef2becd9dc0f2ec","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"httpConnDel /clientpass.ClientpassService/OnboardingPass b768fe5a8e162072fef2becd9dc0f2ec"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"b768fe5a8e162072fef2becd9dc0f2ec","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"brokerClientStream Header method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"b768fe5a8e162072fef2becd9dc0f2ec","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"brokerClientStream Close method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"b768fe5a8e162072fef2becd9dc0f2ec","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"return rsp &http.Response{Status:\"\", StatusCode:200, Proto:\"HTTP/1.1\", ProtoMajor:1, ProtoMinor:1, Header:http.Header{\"Accept-Encoding\":[]string{\"gzip, deflate, br, zstd\"}, \"Accept-Language\":[]string{\"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7\"}, \"Access-Control-Allow-Credentials\":[]string{\"true\"}, \"Access-Control-Allow-Headers\":[]string{\"X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext\"}, \"Access-Control-Allow-Methods\":[]string{\"GET, POST, PUT, DELETE, OPTIONS\"}, \"Access-Control-Allow-Origin\":[]string{\"https://dev-beeline-express.fortebank.com\"}, \"Access-Control-Max-Age\":[]string{\"3600\"}, \"Content-Type\":[]string{\"application/json\"}, \"Language\":[]string{\"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7\"}, \"Referer\":[]string{\"https://dev-beeline-express.fortebank.com/\"}, \"Sec-Fetch-Dest\":[]string{\"empty\"}, \"Sec-Fetch-Mode\":[]string{\"cors\"}, \"Sec-Fetch-Site\":[]string{\"same-site\"}, \"Vary\":[]string{\"Origin\"}, \"X-Request-Id\":[]string{\"b768fe5a8e162072fef2becd9dc0f2ec\"}}, Body:io.nopCloserWriterTo{Reader:(*bytes.Reader)(0xc00035ee40)}, ContentLength:132, TransferEncoding:[]string(nil), Close:false, Uncompressed:false, Trailer:http.Header(nil), Request:(*http.Request)(0xc0007fe6c0), TLS:(*tls.ConnectionState)(nil)}"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"b768fe5a8e162072fef2becd9dc0f2ec","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"http handler exit"}
HDR http.Header{"Accept":[]string{"*/*"}, "Accept-Encoding":[]string{"gzip, deflate"}, "Content-Length":[]string{"0"}, "Content-Type":[]string{"application/json"}, "Cookie":[]string{"session_id=ed5b1fba-9c31-4747-b1c6-46d6770c8ac1"}, "User-Agent":[]string{"python-requests/2.31.0"}, "X-Forwarded-For":[]string{"172.23.20.6, 10.233.126.141"}, "X-Forwarded-Host":[]string{"dev-apigw.fortebank.com"}, "X-Forwarded-Port":[]string{"443"}, "X-Forwarded-Proto":[]string{"https"}, "X-Forwarded-Scheme":[]string{"https"}, "X-Real-Ip":[]string{"172.23.20.6"}, "X-Request-Id":[]string{"28f2439a-9148-4829-a113-376b243f2589"}, "X-Scheme":[]string{"https"}}
{"level":"debug","x-request-id":"28f2439a-9148-4829-a113-376b243f2589","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"authn.cookie process"}
{"level":"debug","x-request-id":"28f2439a-9148-4829-a113-376b243f2589","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"authn.cookie try to get store /session/ed5b1fba-9c31-4747-b1c6-46d6770c8ac1"}
{"level":"debug","x-request-id":"28f2439a-9148-4829-a113-376b243f2589","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"authn.cookie try to get store /session/ed5b1fba-9c31-4747-b1c6-46d6770c8ac1/attrs"}
{"level":"debug","x-request-id":"28f2439a-9148-4829-a113-376b243f2589","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"authn.cookie set token to eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwOi8vZGV2LWFwaWd3LWdycGMuZm9ydGViYW5rLmNvbSIsInN1YiI6IjI1IiwiZXhwIjoxNzEyMTIyNzc1LCJuYmYiOjE3MTIxMjE4NzUsImlhdCI6MTcxMjEyMTg3NSwianRpIjoiYTBiNjY3YjYtMjU3Ny00Yzg0LThiNjMtYjQwNWRhN2RjODdkIiwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbIm1pYl91c2VyIl19LCJjdXN0b20iOnsiY2xpZW50X2lkIjoiYmVlbGluZV9leHByZXNzIiwibm9uY2UiOiJoa3h6aGZneWJ5dWRuc2YiLCJwaG9uZSI6Iis3NzA1NTU1MjkyOCIsInNjb3BlIjoib2ZmbGluZV9hY2Nlc3MiLCJ0b2tlbl90eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcl9hY3Rpb24iOiJyZWdpc3RyYXRpb24iLCJ1c2VyX3JvbGVzIjpbIm1pYl91c2VyIl0sInVzZXJuYW1lIjoiOTEwOTE5MzAwMzYzIn19.2QxT3rssdF87bDxRTbqlt_PQgf7S8m1CdLsIJjr001bKyaAArlhjDGh7djuGcL3QXdL56TaJI4dkK0GFkHjkusb-lEMzv8jhOPtY_75opC_cCeePFEgX-G2DP0QWs0REwxY7ODMu82hsqWxtPOJ-goDMt32e1VAlMwrfzxxnG2vpDtEdqYFyBTwnk29Uh9RKti_1DuFCXFBQFn3Lk3ByfIbhLJjrNQUcAD0htGiw-dyBVhlTQQTRP-xiU7S7sX71xSRiBfgQESWHf7VBsKuRDoNKovVwCbCli1ZmB_k8qgQri2WVZ6zEm75Q5moOtedeyo879qpcY8l9aZQ3i6CZkw"}
{"level":"debug","x-request-id":"28f2439a-9148-4829-a113-376b243f2589","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"28f2439a-9148-4829-a113-376b243f2589","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"beeline_express\", \"nonce\":\"hkxzhfgybyudnsf\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712122775e+09, \"iat\":1.712121875e+09, \"iss\":\"http://dev-apigw-grpc.fortebank.com\", \"jti\":\"a0b667b6-2577-4c84-8b63-b405da7dc87d\", \"nbf\":1.712121875e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"debug","x-request-id":"28f2439a-9148-4829-a113-376b243f2589","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"debug","x-request-id":"28f2439a-9148-4829-a113-376b243f2589","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"debug","x-request-id":"28f2439a-9148-4829-a113-376b243f2589","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"debug","x-request-id":"28f2439a-9148-4829-a113-376b243f2589","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"debug","x-request-id":"28f2439a-9148-4829-a113-376b243f2589","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"header.cors try to set Access-Control-Allow-Origin with [*]"}
{"level":"info","x-request-id":"28f2439a-9148-4829-a113-376b243f2589","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"28f2439a-9148-4829-a113-376b243f2589","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"beeline_express\", \"nonce\":\"hkxzhfgybyudnsf\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712122775e+09, \"iat\":1.712121875e+09, \"iss\":\"http://dev-apigw-grpc.fortebank.com\", \"jti\":\"a0b667b6-2577-4c84-8b63-b405da7dc87d\", \"nbf\":1.712121875e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"28f2439a-9148-4829-a113-376b243f2589","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.extract set User-Id to 25"}
{"level":"info","x-request-id":"28f2439a-9148-4829-a113-376b243f2589","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"28f2439a-9148-4829-a113-376b243f2589","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"beeline_express\", \"nonce\":\"hkxzhfgybyudnsf\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712122775e+09, \"iat\":1.712121875e+09, \"iss\":\"http://dev-apigw-grpc.fortebank.com\", \"jti\":\"a0b667b6-2577-4c84-8b63-b405da7dc87d\", \"nbf\":1.712121875e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"28f2439a-9148-4829-a113-376b243f2589","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"28f2439a-9148-4829-a113-376b243f2589","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"beeline_express\", \"nonce\":\"hkxzhfgybyudnsf\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712122775e+09, \"iat\":1.712121875e+09, \"iss\":\"http://dev-apigw-grpc.fortebank.com\", \"jti\":\"a0b667b6-2577-4c84-8b63-b405da7dc87d\", \"nbf\":1.712121875e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"28f2439a-9148-4829-a113-376b243f2589","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.extract set Username to 910919300363"}
{"level":"info","x-request-id":"28f2439a-9148-4829-a113-376b243f2589","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"28f2439a-9148-4829-a113-376b243f2589","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"beeline_express\", \"nonce\":\"hkxzhfgybyudnsf\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712122775e+09, \"iat\":1.712121875e+09, \"iss\":\"http://dev-apigw-grpc.fortebank.com\", \"jti\":\"a0b667b6-2577-4c84-8b63-b405da7dc87d\", \"nbf\":1.712121875e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"28f2439a-9148-4829-a113-376b243f2589","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.extract set Phone to +77055552928"}
{"level":"info","x-request-id":"28f2439a-9148-4829-a113-376b243f2589","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"28f2439a-9148-4829-a113-376b243f2589","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"beeline_express\", \"nonce\":\"hkxzhfgybyudnsf\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712122775e+09, \"iat\":1.712121875e+09, \"iss\":\"http://dev-apigw-grpc.fortebank.com\", \"jti\":\"a0b667b6-2577-4c84-8b63-b405da7dc87d\", \"nbf\":1.712121875e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"28f2439a-9148-4829-a113-376b243f2589","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.extract set otp_datetime to 1712121875"}
{"level":"info","x-request-id":"28f2439a-9148-4829-a113-376b243f2589","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"28f2439a-9148-4829-a113-376b243f2589","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"beeline_express\", \"nonce\":\"hkxzhfgybyudnsf\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712122775e+09, \"iat\":1.712121875e+09, \"iss\":\"http://dev-apigw-grpc.fortebank.com\", \"jti\":\"a0b667b6-2577-4c84-8b63-b405da7dc87d\", \"nbf\":1.712121875e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"28f2439a-9148-4829-a113-376b243f2589","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"jwt.extract set username to 910919300363"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"28f2439a-9148-4829-a113-376b243f2589","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"httpConnAdd /clientpass.ClientpassService/StartClientPass 28f2439a-9148-4829-a113-376b243f2589"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"28f2439a-9148-4829-a113-376b243f2589","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"start to proxy url: /clientpass.ClientpassService via client.clientpass.startclientpass.in"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"28f2439a-9148-4829-a113-376b243f2589","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"start to proxy url: /clientpass.ClientpassService via client.clientpass.startclientpass.in"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"28f2439a-9148-4829-a113-376b243f2589","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"brokerClientStream brokerClientStream SendMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"28f2439a-9148-4829-a113-376b243f2589","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"brokerClientStream try to publish to client.clientpass.startclientpass.in msg with hdr: metadata.Metadata{\"Accept-Encoding\":\"gzip, deflate\", \"Access-Control-Allow-Credentials\":\"true\", \"Access-Control-Allow-Headers\":\"X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext\", \"Access-Control-Allow-Methods\":\"GET, POST, PUT, DELETE, OPTIONS\", \"Access-Control-Allow-Origin\":\"*\", \"Access-Control-Max-Age\":\"3600\", \"Authorization\":\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwOi8vZGV2LWFwaWd3LWdycGMuZm9ydGViYW5rLmNvbSIsInN1YiI6IjI1IiwiZXhwIjoxNzEyMTIyNzc1LCJuYmYiOjE3MTIxMjE4NzUsImlhdCI6MTcxMjEyMTg3NSwianRpIjoiYTBiNjY3YjYtMjU3Ny00Yzg0LThiNjMtYjQwNWRhN2RjODdkIiwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbIm1pYl91c2VyIl19LCJjdXN0b20iOnsiY2xpZW50X2lkIjoiYmVlbGluZV9leHByZXNzIiwibm9uY2UiOiJoa3h6aGZneWJ5dWRuc2YiLCJwaG9uZSI6Iis3NzA1NTU1MjkyOCIsInNjb3BlIjoib2ZmbGluZV9hY2Nlc3MiLCJ0b2tlbl90eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcl9hY3Rpb24iOiJyZWdpc3RyYXRpb24iLCJ1c2VyX3JvbGVzIjpbIm1pYl91c2VyIl0sInVzZXJuYW1lIjoiOTEwOTE5MzAwMzYzIn19.2QxT3rssdF87bDxRTbqlt_PQgf7S8m1CdLsIJjr001bKyaAArlhjDGh7djuGcL3QXdL56TaJI4dkK0GFkHjkusb-lEMzv8jhOPtY_75opC_cCeePFEgX-G2DP0QWs0REwxY7ODMu82hsqWxtPOJ-goDMt32e1VAlMwrfzxxnG2vpDtEdqYFyBTwnk29Uh9RKti_1DuFCXFBQFn3Lk3ByfIbhLJjrNQUcAD0htGiw-dyBVhlTQQTRP-xiU7S7sX71xSRiBfgQESWHf7VBsKuRDoNKovVwCbCli1ZmB_k8qgQri2WVZ6zEm75Q5moOtedeyo879qpcY8l9aZQ3i6CZkw\", \"Client-Ip\":\"172.23.20.6\", \"Content-Type\":\"application/json\", \"Otp_datetime\":\"1712121875\", \"Phone\":\"+77055552928\", \"Source-Service\":\"/clientpass.ClientpassService/StartClientPass\", \"User-Id\":\"25\", \"Username\":\"910919300363\", \"Vary\":\"Origin\", \"X-Forwarded-For\":\"172.23.20.6, 10.233.126.141\", \"X-Forwarded-Port\":\"443\", \"X-Real-Ip\":\"172.23.20.6\", \"X-Request-Id\":\"28f2439a-9148-4829-a113-376b243f2589\"}"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"28f2439a-9148-4829-a113-376b243f2589","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"info","X-Request-Id":"28f2439a-9148-4829-a113-376b243f2589","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"get message for service: /clientpass.ClientpassService/StartClientPass with md map[Accept-Encoding:gzip, deflate Access-Control-Allow-Credentials:true Access-Control-Allow-Headers:X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext Access-Control-Allow-Methods:GET, POST, PUT, DELETE, OPTIONS Access-Control-Allow-Origin:* Access-Control-Max-Age:3600 Authorization:Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwOi8vZGV2LWFwaWd3LWdycGMuZm9ydGViYW5rLmNvbSIsInN1YiI6IjI1IiwiZXhwIjoxNzEyMTIyNzc1LCJuYmYiOjE3MTIxMjE4NzUsImlhdCI6MTcxMjEyMTg3NSwianRpIjoiYTBiNjY3YjYtMjU3Ny00Yzg0LThiNjMtYjQwNWRhN2RjODdkIiwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbIm1pYl91c2VyIl19LCJjdXN0b20iOnsiY2xpZW50X2lkIjoiYmVlbGluZV9leHByZXNzIiwibm9uY2UiOiJoa3h6aGZneWJ5dWRuc2YiLCJwaG9uZSI6Iis3NzA1NTU1MjkyOCIsInNjb3BlIjoib2ZmbGluZV9hY2Nlc3MiLCJ0b2tlbl90eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcl9hY3Rpb24iOiJyZWdpc3RyYXRpb24iLCJ1c2VyX3JvbGVzIjpbIm1pYl91c2VyIl0sInVzZXJuYW1lIjoiOTEwOTE5MzAwMzYzIn19.2QxT3rssdF87bDxRTbqlt_PQgf7S8m1CdLsIJjr001bKyaAArlhjDGh7djuGcL3QXdL56TaJI4dkK0GFkHjkusb-lEMzv8jhOPtY_75opC_cCeePFEgX-G2DP0QWs0REwxY7ODMu82hsqWxtPOJ-goDMt32e1VAlMwrfzxxnG2vpDtEdqYFyBTwnk29Uh9RKti_1DuFCXFBQFn3Lk3ByfIbhLJjrNQUcAD0htGiw-dyBVhlTQQTRP-xiU7S7sX71xSRiBfgQESWHf7VBsKuRDoNKovVwCbCli1ZmB_k8qgQri2WVZ6zEm75Q5moOtedeyo879qpcY8l9aZQ3i6CZkw Client-Ip:172.23.20.6 Content-Type:application/json Micro-Topic:apigw.in Otp_datetime:1712121875 Phone:+77055552928 Source-Service:/clientpass.ClientpassService/StartClientPass Uber-Trace-Id:203286ac1782b132:7396771e34d8649d:68241191bf69432b:1 User-Id:25 Username:910919300363 Vary:Origin X-Forwarded-For:172.23.20.6, 10.233.126.141 X-Forwarded-Port:443 X-Real-Ip:172.23.20.6 X-Request-Id:28f2439a-9148-4829-a113-376b243f2589]"}
{"level":"debug","x-request-id":"28f2439a-9148-4829-a113-376b243f2589","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"httpConnGet: /clientpass.ClientpassService/StartClientPass via 28f2439a-9148-4829-a113-376b243f2589"}
{"level":"debug","x-request-id":"28f2439a-9148-4829-a113-376b243f2589","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"http use stream conn: &handler.httpProxy{httpStream:(*handler.httpServerStream)(0xc000982570), kafkaStream:(*handler.brokerClientStream)(0xc0004d60f0)} sourceService: /clientpass.ClientpassService/StartClientPass"}
{"level":"info","x-request-id":"28f2439a-9148-4829-a113-376b243f2589","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"start transfer response from kafka"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"28f2439a-9148-4829-a113-376b243f2589","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"brokerClientStream SetHeader method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"28f2439a-9148-4829-a113-376b243f2589","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"brokerClientStream SetMsg method"}
{"level":"info","x-request-id":"28f2439a-9148-4829-a113-376b243f2589","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"stop transfer response from kafka"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"28f2439a-9148-4829-a113-376b243f2589","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"brokerClientStream RecvMsg method data"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"28f2439a-9148-4829-a113-376b243f2589","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"stop to proxy url: /clientpass.ClientpassService via client.clientpass.startclientpass.in"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"28f2439a-9148-4829-a113-376b243f2589","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"httpConnDel /clientpass.ClientpassService/StartClientPass 28f2439a-9148-4829-a113-376b243f2589"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"28f2439a-9148-4829-a113-376b243f2589","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"brokerClientStream Header method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"28f2439a-9148-4829-a113-376b243f2589","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"brokerClientStream Close method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"28f2439a-9148-4829-a113-376b243f2589","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"return rsp &http.Response{Status:\"\", StatusCode:200, Proto:\"HTTP/1.1\", ProtoMajor:1, ProtoMinor:1, Header:http.Header{\"Accept-Encoding\":[]string{\"gzip, deflate\"}, \"Access-Control-Allow-Credentials\":[]string{\"true\"}, \"Access-Control-Allow-Headers\":[]string{\"X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext\"}, \"Access-Control-Allow-Methods\":[]string{\"GET, POST, PUT, DELETE, OPTIONS\"}, \"Access-Control-Allow-Origin\":[]string{\"*\"}, \"Access-Control-Max-Age\":[]string{\"3600\"}, \"Content-Type\":[]string{\"application/json\"}, \"Vary\":[]string{\"Origin\"}, \"X-Request-Id\":[]string{\"28f2439a-9148-4829-a113-376b243f2589\"}}, Body:io.nopCloserWriterTo{Reader:(*bytes.Reader)(0xc00070af90)}, ContentLength:123, TransferEncoding:[]string(nil), Close:false, Uncompressed:false, Trailer:http.Header(nil), Request:(*http.Request)(0xc0005490e0), TLS:(*tls.ConnectionState)(nil)}"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"28f2439a-9148-4829-a113-376b243f2589","trace-id":"","span-id":"","time":"2024-04-03T10:24:36+05:00","message":"http handler exit"}
HDR http.Header{"Accept":[]string{"*/*"}, "Accept-Encoding":[]string{"gzip, deflate"}, "Content-Length":[]string{"55"}, "Content-Type":[]string{"application/json"}, "Cookie":[]string{"session_id=ed5b1fba-9c31-4747-b1c6-46d6770c8ac1"}, "User-Agent":[]string{"python-requests/2.31.0"}, "X-Forwarded-For":[]string{"172.23.20.6, 10.233.126.141"}, "X-Forwarded-Host":[]string{"dev-apigw.fortebank.com"}, "X-Forwarded-Port":[]string{"443"}, "X-Forwarded-Proto":[]string{"https"}, "X-Forwarded-Scheme":[]string{"https"}, "X-Real-Ip":[]string{"172.23.20.6"}, "X-Request-Id":[]string{"3b568c39-0a7b-4bc3-bfc2-1bd8c87f9127"}, "X-Scheme":[]string{"https"}}
{"level":"debug","x-request-id":"3b568c39-0a7b-4bc3-bfc2-1bd8c87f9127","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"authn.cookie process"}
{"level":"debug","x-request-id":"3b568c39-0a7b-4bc3-bfc2-1bd8c87f9127","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"authn.cookie try to get store /session/ed5b1fba-9c31-4747-b1c6-46d6770c8ac1"}
{"level":"debug","x-request-id":"3b568c39-0a7b-4bc3-bfc2-1bd8c87f9127","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"authn.cookie try to get store /session/ed5b1fba-9c31-4747-b1c6-46d6770c8ac1/attrs"}
{"level":"debug","x-request-id":"3b568c39-0a7b-4bc3-bfc2-1bd8c87f9127","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"authn.cookie set token to eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwOi8vZGV2LWFwaWd3LWdycGMuZm9ydGViYW5rLmNvbSIsInN1YiI6IjI1IiwiZXhwIjoxNzEyMTIyNzc1LCJuYmYiOjE3MTIxMjE4NzUsImlhdCI6MTcxMjEyMTg3NSwianRpIjoiYTBiNjY3YjYtMjU3Ny00Yzg0LThiNjMtYjQwNWRhN2RjODdkIiwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbIm1pYl91c2VyIl19LCJjdXN0b20iOnsiY2xpZW50X2lkIjoiYmVlbGluZV9leHByZXNzIiwibm9uY2UiOiJoa3h6aGZneWJ5dWRuc2YiLCJwaG9uZSI6Iis3NzA1NTU1MjkyOCIsInNjb3BlIjoib2ZmbGluZV9hY2Nlc3MiLCJ0b2tlbl90eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcl9hY3Rpb24iOiJyZWdpc3RyYXRpb24iLCJ1c2VyX3JvbGVzIjpbIm1pYl91c2VyIl0sInVzZXJuYW1lIjoiOTEwOTE5MzAwMzYzIn19.2QxT3rssdF87bDxRTbqlt_PQgf7S8m1CdLsIJjr001bKyaAArlhjDGh7djuGcL3QXdL56TaJI4dkK0GFkHjkusb-lEMzv8jhOPtY_75opC_cCeePFEgX-G2DP0QWs0REwxY7ODMu82hsqWxtPOJ-goDMt32e1VAlMwrfzxxnG2vpDtEdqYFyBTwnk29Uh9RKti_1DuFCXFBQFn3Lk3ByfIbhLJjrNQUcAD0htGiw-dyBVhlTQQTRP-xiU7S7sX71xSRiBfgQESWHf7VBsKuRDoNKovVwCbCli1ZmB_k8qgQri2WVZ6zEm75Q5moOtedeyo879qpcY8l9aZQ3i6CZkw"}
{"level":"info","x-request-id":"3b568c39-0a7b-4bc3-bfc2-1bd8c87f9127","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"jwt.check skip endpoint /authn.AuthnService/AccountUpdate"}
{"level":"debug","x-request-id":"3b568c39-0a7b-4bc3-bfc2-1bd8c87f9127","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"debug","x-request-id":"3b568c39-0a7b-4bc3-bfc2-1bd8c87f9127","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"debug","x-request-id":"3b568c39-0a7b-4bc3-bfc2-1bd8c87f9127","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"debug","x-request-id":"3b568c39-0a7b-4bc3-bfc2-1bd8c87f9127","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"header.cors try to set Access-Control-Allow-Origin with [*]"}
{"level":"debug","x-request-id":"3b568c39-0a7b-4bc3-bfc2-1bd8c87f9127","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"info","x-request-id":"3b568c39-0a7b-4bc3-bfc2-1bd8c87f9127","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"3b568c39-0a7b-4bc3-bfc2-1bd8c87f9127","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"3b568c39-0a7b-4bc3-bfc2-1bd8c87f9127","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"3b568c39-0a7b-4bc3-bfc2-1bd8c87f9127","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"3b568c39-0a7b-4bc3-bfc2-1bd8c87f9127","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"3b568c39-0a7b-4bc3-bfc2-1bd8c87f9127","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"3b568c39-0a7b-4bc3-bfc2-1bd8c87f9127","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"3b568c39-0a7b-4bc3-bfc2-1bd8c87f9127","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"3b568c39-0a7b-4bc3-bfc2-1bd8c87f9127","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"start to proxy url: /authn.AuthnService/v1/account via http://authn-service:80"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"3b568c39-0a7b-4bc3-bfc2-1bd8c87f9127","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"stop to proxy url: /authn.AuthnService/v1/account via http://authn-service:80"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3b568c39-0a7b-4bc3-bfc2-1bd8c87f9127","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"skip hook authn.cookie"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3b568c39-0a7b-4bc3-bfc2-1bd8c87f9127","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3b568c39-0a7b-4bc3-bfc2-1bd8c87f9127","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3b568c39-0a7b-4bc3-bfc2-1bd8c87f9127","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3b568c39-0a7b-4bc3-bfc2-1bd8c87f9127","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3b568c39-0a7b-4bc3-bfc2-1bd8c87f9127","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3b568c39-0a7b-4bc3-bfc2-1bd8c87f9127","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"skip hook jwt.check"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3b568c39-0a7b-4bc3-bfc2-1bd8c87f9127","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"run hook header.cors"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3b568c39-0a7b-4bc3-bfc2-1bd8c87f9127","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3b568c39-0a7b-4bc3-bfc2-1bd8c87f9127","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3b568c39-0a7b-4bc3-bfc2-1bd8c87f9127","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3b568c39-0a7b-4bc3-bfc2-1bd8c87f9127","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3b568c39-0a7b-4bc3-bfc2-1bd8c87f9127","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"header.cors try to set Access-Control-Allow-Origin with [*]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3b568c39-0a7b-4bc3-bfc2-1bd8c87f9127","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"end hook header.cors"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3b568c39-0a7b-4bc3-bfc2-1bd8c87f9127","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3b568c39-0a7b-4bc3-bfc2-1bd8c87f9127","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3b568c39-0a7b-4bc3-bfc2-1bd8c87f9127","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3b568c39-0a7b-4bc3-bfc2-1bd8c87f9127","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"skip hook jwt.extract"}
HDR http.Header{"Accept":[]string{"*/*"}, "Accept-Encoding":[]string{"gzip, deflate"}, "Content-Length":[]string{"56"}, "Content-Type":[]string{"application/json"}, "Cookie":[]string{"session_id=ed5b1fba-9c31-4747-b1c6-46d6770c8ac1"}, "User-Agent":[]string{"python-requests/2.31.0"}, "X-Forwarded-For":[]string{"172.23.20.6, 10.233.126.141"}, "X-Forwarded-Host":[]string{"dev-apigw.fortebank.com"}, "X-Forwarded-Port":[]string{"443"}, "X-Forwarded-Proto":[]string{"https"}, "X-Forwarded-Scheme":[]string{"https"}, "X-Real-Ip":[]string{"172.23.20.6"}, "X-Request-Id":[]string{"f93f65b3-b312-40db-b27f-41bf6635c66b"}, "X-Scheme":[]string{"https"}}
{"level":"debug","x-request-id":"f93f65b3-b312-40db-b27f-41bf6635c66b","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"authn.cookie process"}
{"level":"debug","x-request-id":"f93f65b3-b312-40db-b27f-41bf6635c66b","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"authn.cookie try to get store /session/ed5b1fba-9c31-4747-b1c6-46d6770c8ac1"}
{"level":"debug","x-request-id":"f93f65b3-b312-40db-b27f-41bf6635c66b","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"authn.cookie try to get store /session/ed5b1fba-9c31-4747-b1c6-46d6770c8ac1/attrs"}
{"level":"debug","x-request-id":"f93f65b3-b312-40db-b27f-41bf6635c66b","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"authn.cookie set token to eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwOi8vZGV2LWFwaWd3LWdycGMuZm9ydGViYW5rLmNvbSIsInN1YiI6IjI1IiwiZXhwIjoxNzEyMTIyNzc1LCJuYmYiOjE3MTIxMjE4NzUsImlhdCI6MTcxMjEyMTg3NSwianRpIjoiYTBiNjY3YjYtMjU3Ny00Yzg0LThiNjMtYjQwNWRhN2RjODdkIiwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbIm1pYl91c2VyIl19LCJjdXN0b20iOnsiY2xpZW50X2lkIjoiYmVlbGluZV9leHByZXNzIiwibm9uY2UiOiJoa3h6aGZneWJ5dWRuc2YiLCJwaG9uZSI6Iis3NzA1NTU1MjkyOCIsInNjb3BlIjoib2ZmbGluZV9hY2Nlc3MiLCJ0b2tlbl90eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcl9hY3Rpb24iOiJyZWdpc3RyYXRpb24iLCJ1c2VyX3JvbGVzIjpbIm1pYl91c2VyIl0sInVzZXJuYW1lIjoiOTEwOTE5MzAwMzYzIn19.2QxT3rssdF87bDxRTbqlt_PQgf7S8m1CdLsIJjr001bKyaAArlhjDGh7djuGcL3QXdL56TaJI4dkK0GFkHjkusb-lEMzv8jhOPtY_75opC_cCeePFEgX-G2DP0QWs0REwxY7ODMu82hsqWxtPOJ-goDMt32e1VAlMwrfzxxnG2vpDtEdqYFyBTwnk29Uh9RKti_1DuFCXFBQFn3Lk3ByfIbhLJjrNQUcAD0htGiw-dyBVhlTQQTRP-xiU7S7sX71xSRiBfgQESWHf7VBsKuRDoNKovVwCbCli1ZmB_k8qgQri2WVZ6zEm75Q5moOtedeyo879qpcY8l9aZQ3i6CZkw"}
{"level":"info","x-request-id":"f93f65b3-b312-40db-b27f-41bf6635c66b","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Token"}
{"level":"debug","x-request-id":"f93f65b3-b312-40db-b27f-41bf6635c66b","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"debug","x-request-id":"f93f65b3-b312-40db-b27f-41bf6635c66b","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"debug","x-request-id":"f93f65b3-b312-40db-b27f-41bf6635c66b","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"debug","x-request-id":"f93f65b3-b312-40db-b27f-41bf6635c66b","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"header.cors try to set Access-Control-Allow-Origin with [*]"}
{"level":"debug","x-request-id":"f93f65b3-b312-40db-b27f-41bf6635c66b","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"info","x-request-id":"f93f65b3-b312-40db-b27f-41bf6635c66b","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"f93f65b3-b312-40db-b27f-41bf6635c66b","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"f93f65b3-b312-40db-b27f-41bf6635c66b","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"f93f65b3-b312-40db-b27f-41bf6635c66b","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"f93f65b3-b312-40db-b27f-41bf6635c66b","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"f93f65b3-b312-40db-b27f-41bf6635c66b","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"f93f65b3-b312-40db-b27f-41bf6635c66b","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"f93f65b3-b312-40db-b27f-41bf6635c66b","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"f93f65b3-b312-40db-b27f-41bf6635c66b","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"start to proxy url: /authn.AuthnService/v1/oauth/token via http://authn-service:80"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"f93f65b3-b312-40db-b27f-41bf6635c66b","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"stop to proxy url: /authn.AuthnService/v1/oauth/token via http://authn-service:80"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f93f65b3-b312-40db-b27f-41bf6635c66b","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"skip hook authn.cookie"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f93f65b3-b312-40db-b27f-41bf6635c66b","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f93f65b3-b312-40db-b27f-41bf6635c66b","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f93f65b3-b312-40db-b27f-41bf6635c66b","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f93f65b3-b312-40db-b27f-41bf6635c66b","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f93f65b3-b312-40db-b27f-41bf6635c66b","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f93f65b3-b312-40db-b27f-41bf6635c66b","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"skip hook jwt.check"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f93f65b3-b312-40db-b27f-41bf6635c66b","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"run hook header.cors"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f93f65b3-b312-40db-b27f-41bf6635c66b","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f93f65b3-b312-40db-b27f-41bf6635c66b","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f93f65b3-b312-40db-b27f-41bf6635c66b","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f93f65b3-b312-40db-b27f-41bf6635c66b","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"header.cors try to set Access-Control-Allow-Origin with [*]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f93f65b3-b312-40db-b27f-41bf6635c66b","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f93f65b3-b312-40db-b27f-41bf6635c66b","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"end hook header.cors"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f93f65b3-b312-40db-b27f-41bf6635c66b","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f93f65b3-b312-40db-b27f-41bf6635c66b","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f93f65b3-b312-40db-b27f-41bf6635c66b","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f93f65b3-b312-40db-b27f-41bf6635c66b","trace-id":"","span-id":"","time":"2024-04-03T10:24:39+05:00","message":"skip hook jwt.extract"}
HDR http.Header{"Accept":[]string{"*/*"}, "Accept-Encoding":[]string{"gzip, deflate"}, "Content-Length":[]string{"804"}, "Content-Type":[]string{"application/json"}, "Cookie":[]string{"session_id=ed5b1fba-9c31-4747-b1c6-46d6770c8ac1"}, "User-Agent":[]string{"python-requests/2.31.0"}, "X-Forwarded-For":[]string{"172.23.20.6, 10.233.126.141"}, "X-Forwarded-Host":[]string{"dev-apigw.fortebank.com"}, "X-Forwarded-Port":[]string{"443"}, "X-Forwarded-Proto":[]string{"https"}, "X-Forwarded-Scheme":[]string{"https"}, "X-Real-Ip":[]string{"172.23.20.6"}, "X-Request-Id":[]string{"e77bdd83-dbc8-4b71-9923-8484cdffe5ff"}, "X-Scheme":[]string{"https"}}
{"level":"debug","x-request-id":"e77bdd83-dbc8-4b71-9923-8484cdffe5ff","trace-id":"","span-id":"","time":"2024-04-03T10:24:40+05:00","message":"authn.cookie process"}
{"level":"debug","x-request-id":"e77bdd83-dbc8-4b71-9923-8484cdffe5ff","trace-id":"","span-id":"","time":"2024-04-03T10:24:40+05:00","message":"authn.cookie try to get store /session/ed5b1fba-9c31-4747-b1c6-46d6770c8ac1"}
{"level":"debug","x-request-id":"e77bdd83-dbc8-4b71-9923-8484cdffe5ff","trace-id":"","span-id":"","time":"2024-04-03T10:24:40+05:00","message":"authn.cookie try to get store /session/ed5b1fba-9c31-4747-b1c6-46d6770c8ac1/attrs"}
{"level":"debug","x-request-id":"e77bdd83-dbc8-4b71-9923-8484cdffe5ff","trace-id":"","span-id":"","time":"2024-04-03T10:24:40+05:00","message":"authn.cookie set token to eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwOi8vZGV2LWFwaWd3LWdycGMuZm9ydGViYW5rLmNvbSIsInN1YiI6IjI1IiwiZXhwIjoxNzEyMTIyNzc5LCJuYmYiOjE3MTIxMjE4NzksImlhdCI6MTcxMjEyMTg3OSwianRpIjoiYWI2NzVmN2UtNjBmNi00ZmM0LWE0MjctMDJhNjliZGFkZmYyIiwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbIm1pYl91c2VyIl19LCJjdXN0b20iOnsiY2xpZW50X2lkIjoiYmVlbGluZV9leHByZXNzIiwiZXh0ZXJuYWxfaWQiOiI1MDExNjI0MTk3IiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJ0b2tlbl90eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcl9hY3Rpb24iOiJyZWdpc3RyYXRpb24iLCJ1c2VyX3JvbGVzIjpbIm1pYl91c2VyIl0sInVzZXJuYW1lIjoiOTEwOTE5MzAwMzYzIn19.nY9fgP1ZLB6E3D6qhTHXM1y1_rw8kLOc_jtvQHrkmIr1xBw3NeMBDdKWPM2Se253Yqsy0gO6I85ggPw7gLrNAgdGpTWjxWwIw66JB_sTs8QJIG-g5E8ZwNZPUpvlDb-dlH2QyE_2rIjJmEHBzSSaYeuUTuDqrsY4scr0DK7_u_yWqKUBSQFOyXjeKfhcbdgHPxymhMt45MC30ZrW4ziwe5Nm9zW_-YlcCf5120GmTS1nbymxH3UBoIrMFEy5CDCnN2m_Z1_JqBVEXRcWcvfq9kmR8bjzu0ZDOikRrAa4qdRXSv70cBJTQG10VcIRSgWjy8fl1FMJCdbc38bzqWJ1sA"}
{"level":"info","x-request-id":"e77bdd83-dbc8-4b71-9923-8484cdffe5ff","trace-id":"","span-id":"","time":"2024-04-03T10:24:40+05:00","message":"jwt.check skip endpoint /messenger.Chat2Desk/Chat2Desk"}
{"level":"debug","x-request-id":"e77bdd83-dbc8-4b71-9923-8484cdffe5ff","trace-id":"","span-id":"","time":"2024-04-03T10:24:40+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"debug","x-request-id":"e77bdd83-dbc8-4b71-9923-8484cdffe5ff","trace-id":"","span-id":"","time":"2024-04-03T10:24:40+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"debug","x-request-id":"e77bdd83-dbc8-4b71-9923-8484cdffe5ff","trace-id":"","span-id":"","time":"2024-04-03T10:24:40+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"debug","x-request-id":"e77bdd83-dbc8-4b71-9923-8484cdffe5ff","trace-id":"","span-id":"","time":"2024-04-03T10:24:40+05:00","message":"header.cors try to set Access-Control-Allow-Origin with [*]"}
{"level":"debug","x-request-id":"e77bdd83-dbc8-4b71-9923-8484cdffe5ff","trace-id":"","span-id":"","time":"2024-04-03T10:24:40+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"info","x-request-id":"e77bdd83-dbc8-4b71-9923-8484cdffe5ff","trace-id":"","span-id":"","time":"2024-04-03T10:24:40+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"e77bdd83-dbc8-4b71-9923-8484cdffe5ff","trace-id":"","span-id":"","time":"2024-04-03T10:24:40+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"e77bdd83-dbc8-4b71-9923-8484cdffe5ff","trace-id":"","span-id":"","time":"2024-04-03T10:24:40+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"e77bdd83-dbc8-4b71-9923-8484cdffe5ff","trace-id":"","span-id":"","time":"2024-04-03T10:24:40+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"e77bdd83-dbc8-4b71-9923-8484cdffe5ff","trace-id":"","span-id":"","time":"2024-04-03T10:24:40+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"e77bdd83-dbc8-4b71-9923-8484cdffe5ff","trace-id":"","span-id":"","time":"2024-04-03T10:24:40+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"e77bdd83-dbc8-4b71-9923-8484cdffe5ff","trace-id":"","span-id":"","time":"2024-04-03T10:24:40+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"e77bdd83-dbc8-4b71-9923-8484cdffe5ff","trace-id":"","span-id":"","time":"2024-04-03T10:24:40+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"e77bdd83-dbc8-4b71-9923-8484cdffe5ff","trace-id":"","span-id":"","time":"2024-04-03T10:24:40+05:00","message":"start to proxy url: /messenger.Chat2Desk/messenger/chat2desk/v1/listen2desk via https://dev-messenger-chat2desk.fortebank.com"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"e77bdd83-dbc8-4b71-9923-8484cdffe5ff","trace-id":"","span-id":"","time":"2024-04-03T10:24:40+05:00","message":"stop to proxy url: /messenger.Chat2Desk/messenger/chat2desk/v1/listen2desk via https://dev-messenger-chat2desk.fortebank.com"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e77bdd83-dbc8-4b71-9923-8484cdffe5ff","trace-id":"","span-id":"","time":"2024-04-03T10:24:40+05:00","message":"skip hook authn.cookie"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e77bdd83-dbc8-4b71-9923-8484cdffe5ff","trace-id":"","span-id":"","time":"2024-04-03T10:24:40+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e77bdd83-dbc8-4b71-9923-8484cdffe5ff","trace-id":"","span-id":"","time":"2024-04-03T10:24:40+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e77bdd83-dbc8-4b71-9923-8484cdffe5ff","trace-id":"","span-id":"","time":"2024-04-03T10:24:40+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e77bdd83-dbc8-4b71-9923-8484cdffe5ff","trace-id":"","span-id":"","time":"2024-04-03T10:24:40+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e77bdd83-dbc8-4b71-9923-8484cdffe5ff","trace-id":"","span-id":"","time":"2024-04-03T10:24:40+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e77bdd83-dbc8-4b71-9923-8484cdffe5ff","trace-id":"","span-id":"","time":"2024-04-03T10:24:40+05:00","message":"skip hook jwt.check"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e77bdd83-dbc8-4b71-9923-8484cdffe5ff","trace-id":"","span-id":"","time":"2024-04-03T10:24:40+05:00","message":"run hook header.cors"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e77bdd83-dbc8-4b71-9923-8484cdffe5ff","trace-id":"","span-id":"","time":"2024-04-03T10:24:40+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e77bdd83-dbc8-4b71-9923-8484cdffe5ff","trace-id":"","span-id":"","time":"2024-04-03T10:24:40+05:00","message":"end hook header.cors"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e77bdd83-dbc8-4b71-9923-8484cdffe5ff","trace-id":"","span-id":"","time":"2024-04-03T10:24:40+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e77bdd83-dbc8-4b71-9923-8484cdffe5ff","trace-id":"","span-id":"","time":"2024-04-03T10:24:40+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e77bdd83-dbc8-4b71-9923-8484cdffe5ff","trace-id":"","span-id":"","time":"2024-04-03T10:24:40+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e77bdd83-dbc8-4b71-9923-8484cdffe5ff","trace-id":"","span-id":"","time":"2024-04-03T10:24:40+05:00","message":"skip hook jwt.extract"}
{"level":"error","X-Request-Id":"wjbKncpNMb9Ljn7T","trace-id":"","span-id":"","time":"2024-04-03T10:24:40+05:00","message":"failed to find source-service"}
HDR http.Header{"Accept":[]string{"*/*"}, "Accept-Encoding":[]string{"gzip, deflate"}, "Content-Length":[]string{"1186"}, "Content-Type":[]string{"application/json"}, "User-Agent":[]string{"python-requests/2.31.0"}, "X-Forwarded-For":[]string{"10.233.100.0, 10.233.126.141"}, "X-Forwarded-Host":[]string{"dev-apigw.fortebank.com"}, "X-Forwarded-Port":[]string{"443"}, "X-Forwarded-Proto":[]string{"https"}, "X-Forwarded-Scheme":[]string{"https"}, "X-Real-Ip":[]string{"10.233.100.0"}, "X-Request-Id":[]string{"9a3e067b-49db-4502-abc1-7dc6119d1761"}, "X-Scheme":[]string{"https"}}
{"level":"debug","x-request-id":"9a3e067b-49db-4502-abc1-7dc6119d1761","trace-id":"","span-id":"","time":"2024-04-03T10:25:02+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"9a3e067b-49db-4502-abc1-7dc6119d1761","trace-id":"","span-id":"","time":"2024-04-03T10:25:02+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Token"}
{"level":"debug","x-request-id":"9a3e067b-49db-4502-abc1-7dc6119d1761","trace-id":"","span-id":"","time":"2024-04-03T10:25:02+05:00","message":"header.cors try to set Access-Control-Allow-Origin with [*]"}
{"level":"debug","x-request-id":"9a3e067b-49db-4502-abc1-7dc6119d1761","trace-id":"","span-id":"","time":"2024-04-03T10:25:02+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"debug","x-request-id":"9a3e067b-49db-4502-abc1-7dc6119d1761","trace-id":"","span-id":"","time":"2024-04-03T10:25:02+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"debug","x-request-id":"9a3e067b-49db-4502-abc1-7dc6119d1761","trace-id":"","span-id":"","time":"2024-04-03T10:25:02+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"debug","x-request-id":"9a3e067b-49db-4502-abc1-7dc6119d1761","trace-id":"","span-id":"","time":"2024-04-03T10:25:02+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"info","x-request-id":"9a3e067b-49db-4502-abc1-7dc6119d1761","trace-id":"","span-id":"","time":"2024-04-03T10:25:02+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"9a3e067b-49db-4502-abc1-7dc6119d1761","trace-id":"","span-id":"","time":"2024-04-03T10:25:02+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"9a3e067b-49db-4502-abc1-7dc6119d1761","trace-id":"","span-id":"","time":"2024-04-03T10:25:02+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"9a3e067b-49db-4502-abc1-7dc6119d1761","trace-id":"","span-id":"","time":"2024-04-03T10:25:02+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"9a3e067b-49db-4502-abc1-7dc6119d1761","trace-id":"","span-id":"","time":"2024-04-03T10:25:02+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"9a3e067b-49db-4502-abc1-7dc6119d1761","trace-id":"","span-id":"","time":"2024-04-03T10:25:02+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"9a3e067b-49db-4502-abc1-7dc6119d1761","trace-id":"","span-id":"","time":"2024-04-03T10:25:02+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"9a3e067b-49db-4502-abc1-7dc6119d1761","trace-id":"","span-id":"","time":"2024-04-03T10:25:02+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"9a3e067b-49db-4502-abc1-7dc6119d1761","trace-id":"","span-id":"","time":"2024-04-03T10:25:02+05:00","message":"start to proxy url: /authn.AuthnService/v1/oauth/token via http://authn-service:80"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"9a3e067b-49db-4502-abc1-7dc6119d1761","trace-id":"","span-id":"","time":"2024-04-03T10:25:02+05:00","message":"stop to proxy url: /authn.AuthnService/v1/oauth/token via http://authn-service:80"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"9a3e067b-49db-4502-abc1-7dc6119d1761","trace-id":"","span-id":"","time":"2024-04-03T10:25:02+05:00","message":"skip hook authn.cookie"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"9a3e067b-49db-4502-abc1-7dc6119d1761","trace-id":"","span-id":"","time":"2024-04-03T10:25:02+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"9a3e067b-49db-4502-abc1-7dc6119d1761","trace-id":"","span-id":"","time":"2024-04-03T10:25:02+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"9a3e067b-49db-4502-abc1-7dc6119d1761","trace-id":"","span-id":"","time":"2024-04-03T10:25:02+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"9a3e067b-49db-4502-abc1-7dc6119d1761","trace-id":"","span-id":"","time":"2024-04-03T10:25:02+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"9a3e067b-49db-4502-abc1-7dc6119d1761","trace-id":"","span-id":"","time":"2024-04-03T10:25:02+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"9a3e067b-49db-4502-abc1-7dc6119d1761","trace-id":"","span-id":"","time":"2024-04-03T10:25:02+05:00","message":"skip hook jwt.check"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"9a3e067b-49db-4502-abc1-7dc6119d1761","trace-id":"","span-id":"","time":"2024-04-03T10:25:02+05:00","message":"run hook header.cors"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"9a3e067b-49db-4502-abc1-7dc6119d1761","trace-id":"","span-id":"","time":"2024-04-03T10:25:02+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"9a3e067b-49db-4502-abc1-7dc6119d1761","trace-id":"","span-id":"","time":"2024-04-03T10:25:02+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"9a3e067b-49db-4502-abc1-7dc6119d1761","trace-id":"","span-id":"","time":"2024-04-03T10:25:02+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"9a3e067b-49db-4502-abc1-7dc6119d1761","trace-id":"","span-id":"","time":"2024-04-03T10:25:02+05:00","message":"header.cors try to set Access-Control-Allow-Origin with [*]"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"9a3e067b-49db-4502-abc1-7dc6119d1761","trace-id":"","span-id":"","time":"2024-04-03T10:25:02+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"9a3e067b-49db-4502-abc1-7dc6119d1761","trace-id":"","span-id":"","time":"2024-04-03T10:25:02+05:00","message":"end hook header.cors"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"9a3e067b-49db-4502-abc1-7dc6119d1761","trace-id":"","span-id":"","time":"2024-04-03T10:25:02+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"9a3e067b-49db-4502-abc1-7dc6119d1761","trace-id":"","span-id":"","time":"2024-04-03T10:25:02+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"9a3e067b-49db-4502-abc1-7dc6119d1761","trace-id":"","span-id":"","time":"2024-04-03T10:25:02+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"9a3e067b-49db-4502-abc1-7dc6119d1761","trace-id":"","span-id":"","time":"2024-04-03T10:25:02+05:00","message":"skip hook jwt.extract"}
HDR http.Header{"Accept":[]string{"*/*"}, "Accept-Encoding":[]string{"gzip, deflate"}, "Content-Type":[]string{"application/json"}, "User-Agent":[]string{"python-requests/2.31.0"}, "X-Forwarded-For":[]string{"10.233.100.0, 10.233.126.141"}, "X-Forwarded-Host":[]string{"dev-apigw.fortebank.com"}, "X-Forwarded-Port":[]string{"443"}, "X-Forwarded-Proto":[]string{"https"}, "X-Forwarded-Scheme":[]string{"https"}, "X-Real-Ip":[]string{"10.233.100.0"}, "X-Request-Id":[]string{"0aec7f4f-a056-4a17-a19d-6fc4af890bc7"}, "X-Scheme":[]string{"https"}}
{"level":"debug","x-request-id":"0aec7f4f-a056-4a17-a19d-6fc4af890bc7","trace-id":"","span-id":"","time":"2024-04-03T10:25:07+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"0aec7f4f-a056-4a17-a19d-6fc4af890bc7","trace-id":"","span-id":"","time":"2024-04-03T10:25:07+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Login"}
{"level":"debug","x-request-id":"0aec7f4f-a056-4a17-a19d-6fc4af890bc7","trace-id":"","span-id":"","time":"2024-04-03T10:25:07+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"debug","x-request-id":"0aec7f4f-a056-4a17-a19d-6fc4af890bc7","trace-id":"","span-id":"","time":"2024-04-03T10:25:07+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"debug","x-request-id":"0aec7f4f-a056-4a17-a19d-6fc4af890bc7","trace-id":"","span-id":"","time":"2024-04-03T10:25:07+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"debug","x-request-id":"0aec7f4f-a056-4a17-a19d-6fc4af890bc7","trace-id":"","span-id":"","time":"2024-04-03T10:25:07+05:00","message":"header.cors try to set Access-Control-Allow-Origin with [*]"}
{"level":"debug","x-request-id":"0aec7f4f-a056-4a17-a19d-6fc4af890bc7","trace-id":"","span-id":"","time":"2024-04-03T10:25:07+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"info","x-request-id":"0aec7f4f-a056-4a17-a19d-6fc4af890bc7","trace-id":"","span-id":"","time":"2024-04-03T10:25:07+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"0aec7f4f-a056-4a17-a19d-6fc4af890bc7","trace-id":"","span-id":"","time":"2024-04-03T10:25:07+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"0aec7f4f-a056-4a17-a19d-6fc4af890bc7","trace-id":"","span-id":"","time":"2024-04-03T10:25:07+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"0aec7f4f-a056-4a17-a19d-6fc4af890bc7","trace-id":"","span-id":"","time":"2024-04-03T10:25:07+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"0aec7f4f-a056-4a17-a19d-6fc4af890bc7","trace-id":"","span-id":"","time":"2024-04-03T10:25:07+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"0aec7f4f-a056-4a17-a19d-6fc4af890bc7","trace-id":"","span-id":"","time":"2024-04-03T10:25:07+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"0aec7f4f-a056-4a17-a19d-6fc4af890bc7","trace-id":"","span-id":"","time":"2024-04-03T10:25:07+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"0aec7f4f-a056-4a17-a19d-6fc4af890bc7","trace-id":"","span-id":"","time":"2024-04-03T10:25:07+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"0aec7f4f-a056-4a17-a19d-6fc4af890bc7","trace-id":"","span-id":"","time":"2024-04-03T10:25:07+05:00","message":"start to proxy url: /authn.AuthnService/v1/login via http://authn-service:80"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"0aec7f4f-a056-4a17-a19d-6fc4af890bc7","trace-id":"","span-id":"","time":"2024-04-03T10:25:07+05:00","message":"stop to proxy url: /authn.AuthnService/v1/login via http://authn-service:80"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"0aec7f4f-a056-4a17-a19d-6fc4af890bc7","trace-id":"","span-id":"","time":"2024-04-03T10:25:07+05:00","message":"skip hook authn.cookie"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"0aec7f4f-a056-4a17-a19d-6fc4af890bc7","trace-id":"","span-id":"","time":"2024-04-03T10:25:07+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"0aec7f4f-a056-4a17-a19d-6fc4af890bc7","trace-id":"","span-id":"","time":"2024-04-03T10:25:07+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"0aec7f4f-a056-4a17-a19d-6fc4af890bc7","trace-id":"","span-id":"","time":"2024-04-03T10:25:07+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"0aec7f4f-a056-4a17-a19d-6fc4af890bc7","trace-id":"","span-id":"","time":"2024-04-03T10:25:07+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"0aec7f4f-a056-4a17-a19d-6fc4af890bc7","trace-id":"","span-id":"","time":"2024-04-03T10:25:07+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"0aec7f4f-a056-4a17-a19d-6fc4af890bc7","trace-id":"","span-id":"","time":"2024-04-03T10:25:07+05:00","message":"skip hook jwt.check"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"0aec7f4f-a056-4a17-a19d-6fc4af890bc7","trace-id":"","span-id":"","time":"2024-04-03T10:25:07+05:00","message":"run hook header.cors"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"0aec7f4f-a056-4a17-a19d-6fc4af890bc7","trace-id":"","span-id":"","time":"2024-04-03T10:25:07+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"0aec7f4f-a056-4a17-a19d-6fc4af890bc7","trace-id":"","span-id":"","time":"2024-04-03T10:25:07+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"0aec7f4f-a056-4a17-a19d-6fc4af890bc7","trace-id":"","span-id":"","time":"2024-04-03T10:25:07+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"0aec7f4f-a056-4a17-a19d-6fc4af890bc7","trace-id":"","span-id":"","time":"2024-04-03T10:25:07+05:00","message":"header.cors try to set Access-Control-Allow-Origin with [*]"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"0aec7f4f-a056-4a17-a19d-6fc4af890bc7","trace-id":"","span-id":"","time":"2024-04-03T10:25:07+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"0aec7f4f-a056-4a17-a19d-6fc4af890bc7","trace-id":"","span-id":"","time":"2024-04-03T10:25:07+05:00","message":"end hook header.cors"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"0aec7f4f-a056-4a17-a19d-6fc4af890bc7","trace-id":"","span-id":"","time":"2024-04-03T10:25:07+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"0aec7f4f-a056-4a17-a19d-6fc4af890bc7","trace-id":"","span-id":"","time":"2024-04-03T10:25:07+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"0aec7f4f-a056-4a17-a19d-6fc4af890bc7","trace-id":"","span-id":"","time":"2024-04-03T10:25:07+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"0aec7f4f-a056-4a17-a19d-6fc4af890bc7","trace-id":"","span-id":"","time":"2024-04-03T10:25:07+05:00","message":"skip hook jwt.extract"}
HDR http.Header{"Accept":[]string{"application/json, text/plain, */*"}, "Accept-Encoding":[]string{"gzip, deflate, br, zstd"}, "Accept-Language":[]string{"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7"}, "Content-Length":[]string{"35965"}, "Content-Type":[]string{"application/json"}, "Cookie":[]string{"AMP_80fbd2fe20=JTdCJTIyZGV2aWNlSWQlMjIlM0ElMjIyMzk2N2VlOC1jMjFhLTRiY2ItYWE0MC02NzllYjM1OGRlMmMlMjIlMkMlMjJ1c2VySWQlMjIlM0ElMjIwMy5BMDcwNTE0JTIyJTJDJTIyc2Vzc2lvbklkJTIyJTNBMTcxMjEyMTYzNjgyOCUyQyUyMm9wdE91dCUyMiUzQWZhbHNlJTJDJTIybGFzdEV2ZW50VGltZSUyMiUzQTE3MTIxMjE3NjEzOTElMkMlMjJsYXN0RXZlbnRJZCUyMiUzQTE5JTdE; session_id=c1e82aa3-2f01-4af3-8256-f494d8bac1e2"}, "Origin":[]string{"https://dev-beeline-express.fortebank.com"}, "Referer":[]string{"https://dev-beeline-express.fortebank.com/"}, "Sec-Fetch-Dest":[]string{"empty"}, "Sec-Fetch-Mode":[]string{"cors"}, "Sec-Fetch-Site":[]string{"same-site"}, "User-Agent":[]string{"Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1"}, "X-Forwarded-For":[]string{"172.23.20.6, 10.233.126.141"}, "X-Forwarded-Host":[]string{"dev-apigw.fortebank.com"}, "X-Forwarded-Port":[]string{"443"}, "X-Forwarded-Proto":[]string{"https"}, "X-Forwarded-Scheme":[]string{"https"}, "X-Real-Ip":[]string{"172.23.20.6"}, "X-Request-Id":[]string{"83057f8ab7f0901e2b9f4f27433a0bd1"}, "X-Scheme":[]string{"https"}}
{"level":"debug","x-request-id":"83057f8ab7f0901e2b9f4f27433a0bd1","trace-id":"","span-id":"","time":"2024-04-03T10:25:09+05:00","message":"authn.cookie process"}
{"level":"debug","x-request-id":"83057f8ab7f0901e2b9f4f27433a0bd1","trace-id":"","span-id":"","time":"2024-04-03T10:25:09+05:00","message":"authn.cookie skip cookie AMP_80fbd2fe20=JTdCJTIyZGV2aWNlSWQlMjIlM0ElMjIyMzk2N2VlOC1jMjFhLTRiY2ItYWE0MC02NzllYjM1OGRlMmMlMjIlMkMlMjJ1c2VySWQlMjIlM0ElMjIwMy5BMDcwNTE0JTIyJTJDJTIyc2Vzc2lvbklkJTIyJTNBMTcxMjEyMTYzNjgyOCUyQyUyMm9wdE91dCUyMiUzQWZhbHNlJTJDJTIybGFzdEV2ZW50VGltZSUyMiUzQTE3MTIxMjE3NjEzOTElMkMlMjJsYXN0RXZlbnRJZCUyMiUzQTE5JTdE"}
{"level":"debug","x-request-id":"83057f8ab7f0901e2b9f4f27433a0bd1","trace-id":"","span-id":"","time":"2024-04-03T10:25:09+05:00","message":"authn.cookie try to get store /session/c1e82aa3-2f01-4af3-8256-f494d8bac1e2"}
{"level":"debug","x-request-id":"83057f8ab7f0901e2b9f4f27433a0bd1","trace-id":"","span-id":"","time":"2024-04-03T10:25:09+05:00","message":"authn.cookie try to get store /session/c1e82aa3-2f01-4af3-8256-f494d8bac1e2/attrs"}
{"level":"debug","x-request-id":"83057f8ab7f0901e2b9f4f27433a0bd1","trace-id":"","span-id":"","time":"2024-04-03T10:25:09+05:00","message":"authn.cookie set token to eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwOi8vZGV2LWFwaWd3LWdycGMuZm9ydGViYW5rLmNvbSIsInN1YiI6IjIwMCIsImV4cCI6MTcxMjEyMjc3NiwibmJmIjoxNzEyMTIxODc2LCJpYXQiOjE3MTIxMjE4NzYsImp0aSI6IjE3NzZjY2NiLTNjMzAtNGRjMi05MjZmLWNjZmMyYjkxZTZlMyIsInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJtaWJfdXNlciJdfSwiY3VzdG9tIjp7ImNsaWVudF9pZCI6ImJlZWxpbmVfZXhwcmVzcyIsInBob25lIjoiKzc3NDc2MjMyMzMxIiwic2NvcGUiOiJvZmZsaW5lX2FjY2VzcyIsInRva2VuX3R5cGUiOiJhY2Nlc3NfdG9rZW4iLCJ1c2VyX2FjdGlvbiI6InJlZ2lzdHJhdGlvbiIsInVzZXJfcm9sZXMiOlsibWliX3VzZXIiXSwidXNlcm5hbWUiOiI5MzA1MTAzNTAxOTEifX0.ehG4x4ekpxUU32PITMUbu75t8nVfPEB_XznY1by86ICZwI2UakpG1tpAvn4accuqX-InhrJS9uwcj9DdonBCZ4660x8cI3uCxoiDnUSbIO0wSNpqrta6UL1f18ouheaQdYRQ-Yi7iwYsCZ-lyeo6BtlfMhdL3wyrT6OU7QgN2uHelZqF3dWunEGqlEvd-aC4GCSuSv0EnB7cmbnJpQLu9eVXIfzmmm5dtC80JqFBD6Lg3yT-j-T_r72rClQNW2zLuupO0k7rOkakrMcEPXucYJtWcSYAwwfMSjPxBymVTl2hGYl_8qdtt1-LIPipYR_2b4CZ15PSpQ0K9PeMLDhZmg"}
{"level":"debug","x-request-id":"83057f8ab7f0901e2b9f4f27433a0bd1","trace-id":"","span-id":"","time":"2024-04-03T10:25:09+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"83057f8ab7f0901e2b9f4f27433a0bd1","trace-id":"","span-id":"","time":"2024-04-03T10:25:09+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"beeline_express\", \"phone\":\"+77476232331\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"930510350191\"}, \"exp\":1.712122776e+09, \"iat\":1.712121876e+09, \"iss\":\"http://dev-apigw-grpc.fortebank.com\", \"jti\":\"1776cccb-3c30-4dc2-926f-ccfc2b91e6e3\", \"nbf\":1.712121876e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"200\"}"}
{"level":"debug","x-request-id":"83057f8ab7f0901e2b9f4f27433a0bd1","trace-id":"","span-id":"","time":"2024-04-03T10:25:09+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"debug","x-request-id":"83057f8ab7f0901e2b9f4f27433a0bd1","trace-id":"","span-id":"","time":"2024-04-03T10:25:09+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"debug","x-request-id":"83057f8ab7f0901e2b9f4f27433a0bd1","trace-id":"","span-id":"","time":"2024-04-03T10:25:09+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"debug","x-request-id":"83057f8ab7f0901e2b9f4f27433a0bd1","trace-id":"","span-id":"","time":"2024-04-03T10:25:09+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"debug","x-request-id":"83057f8ab7f0901e2b9f4f27433a0bd1","trace-id":"","span-id":"","time":"2024-04-03T10:25:09+05:00","message":"header.cors try to set Access-Control-Allow-Origin with [*]"}
{"level":"info","x-request-id":"83057f8ab7f0901e2b9f4f27433a0bd1","trace-id":"","span-id":"","time":"2024-04-03T10:25:09+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"83057f8ab7f0901e2b9f4f27433a0bd1","trace-id":"","span-id":"","time":"2024-04-03T10:25:09+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"beeline_express\", \"phone\":\"+77476232331\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"930510350191\"}, \"exp\":1.712122776e+09, \"iat\":1.712121876e+09, \"iss\":\"http://dev-apigw-grpc.fortebank.com\", \"jti\":\"1776cccb-3c30-4dc2-926f-ccfc2b91e6e3\", \"nbf\":1.712121876e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"200\"}"}
{"level":"info","x-request-id":"83057f8ab7f0901e2b9f4f27433a0bd1","trace-id":"","span-id":"","time":"2024-04-03T10:25:09+05:00","message":"jwt.extract set User-Id to 200"}
{"level":"info","x-request-id":"83057f8ab7f0901e2b9f4f27433a0bd1","trace-id":"","span-id":"","time":"2024-04-03T10:25:09+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"83057f8ab7f0901e2b9f4f27433a0bd1","trace-id":"","span-id":"","time":"2024-04-03T10:25:09+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"beeline_express\", \"phone\":\"+77476232331\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"930510350191\"}, \"exp\":1.712122776e+09, \"iat\":1.712121876e+09, \"iss\":\"http://dev-apigw-grpc.fortebank.com\", \"jti\":\"1776cccb-3c30-4dc2-926f-ccfc2b91e6e3\", \"nbf\":1.712121876e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"200\"}"}
{"level":"info","x-request-id":"83057f8ab7f0901e2b9f4f27433a0bd1","trace-id":"","span-id":"","time":"2024-04-03T10:25:09+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"83057f8ab7f0901e2b9f4f27433a0bd1","trace-id":"","span-id":"","time":"2024-04-03T10:25:09+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"beeline_express\", \"phone\":\"+77476232331\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"930510350191\"}, \"exp\":1.712122776e+09, \"iat\":1.712121876e+09, \"iss\":\"http://dev-apigw-grpc.fortebank.com\", \"jti\":\"1776cccb-3c30-4dc2-926f-ccfc2b91e6e3\", \"nbf\":1.712121876e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"200\"}"}
{"level":"info","x-request-id":"83057f8ab7f0901e2b9f4f27433a0bd1","trace-id":"","span-id":"","time":"2024-04-03T10:25:09+05:00","message":"jwt.extract set Username to 930510350191"}
{"level":"info","x-request-id":"83057f8ab7f0901e2b9f4f27433a0bd1","trace-id":"","span-id":"","time":"2024-04-03T10:25:09+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"83057f8ab7f0901e2b9f4f27433a0bd1","trace-id":"","span-id":"","time":"2024-04-03T10:25:09+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"beeline_express\", \"phone\":\"+77476232331\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"930510350191\"}, \"exp\":1.712122776e+09, \"iat\":1.712121876e+09, \"iss\":\"http://dev-apigw-grpc.fortebank.com\", \"jti\":\"1776cccb-3c30-4dc2-926f-ccfc2b91e6e3\", \"nbf\":1.712121876e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"200\"}"}
{"level":"info","x-request-id":"83057f8ab7f0901e2b9f4f27433a0bd1","trace-id":"","span-id":"","time":"2024-04-03T10:25:09+05:00","message":"jwt.extract set Phone to +77476232331"}
{"level":"info","x-request-id":"83057f8ab7f0901e2b9f4f27433a0bd1","trace-id":"","span-id":"","time":"2024-04-03T10:25:09+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"83057f8ab7f0901e2b9f4f27433a0bd1","trace-id":"","span-id":"","time":"2024-04-03T10:25:09+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"beeline_express\", \"phone\":\"+77476232331\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"930510350191\"}, \"exp\":1.712122776e+09, \"iat\":1.712121876e+09, \"iss\":\"http://dev-apigw-grpc.fortebank.com\", \"jti\":\"1776cccb-3c30-4dc2-926f-ccfc2b91e6e3\", \"nbf\":1.712121876e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"200\"}"}
{"level":"info","x-request-id":"83057f8ab7f0901e2b9f4f27433a0bd1","trace-id":"","span-id":"","time":"2024-04-03T10:25:09+05:00","message":"jwt.extract set username to 930510350191"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"83057f8ab7f0901e2b9f4f27433a0bd1","trace-id":"","span-id":"","time":"2024-04-03T10:25:09+05:00","message":"httpConnAdd /clientpass.ClientpassService/OnboardingPass 83057f8ab7f0901e2b9f4f27433a0bd1"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"83057f8ab7f0901e2b9f4f27433a0bd1","trace-id":"","span-id":"","time":"2024-04-03T10:25:09+05:00","message":"start to proxy url: /clientpass.ClientpassService via client.clientpass.onboarding.in"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"83057f8ab7f0901e2b9f4f27433a0bd1","trace-id":"","span-id":"","time":"2024-04-03T10:25:09+05:00","message":"start to proxy url: /clientpass.ClientpassService via client.clientpass.onboarding.in"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"83057f8ab7f0901e2b9f4f27433a0bd1","trace-id":"","span-id":"","time":"2024-04-03T10:25:09+05:00","message":"brokerClientStream brokerClientStream SendMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"83057f8ab7f0901e2b9f4f27433a0bd1","trace-id":"","span-id":"","time":"2024-04-03T10:25:09+05:00","message":"brokerClientStream try to publish to client.clientpass.onboarding.in msg with hdr: metadata.Metadata{\"Accept-Encoding\":\"gzip, deflate, br, zstd\", \"Accept-Language\":\"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7\", \"Access-Control-Allow-Credentials\":\"true\", \"Access-Control-Allow-Headers\":\"X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext\", \"Access-Control-Allow-Methods\":\"GET, POST, PUT, DELETE, OPTIONS\", \"Access-Control-Allow-Origin\":\"https://dev-beeline-express.fortebank.com\", \"Access-Control-Max-Age\":\"3600\", \"Authorization\":\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwOi8vZGV2LWFwaWd3LWdycGMuZm9ydGViYW5rLmNvbSIsInN1YiI6IjIwMCIsImV4cCI6MTcxMjEyMjc3NiwibmJmIjoxNzEyMTIxODc2LCJpYXQiOjE3MTIxMjE4NzYsImp0aSI6IjE3NzZjY2NiLTNjMzAtNGRjMi05MjZmLWNjZmMyYjkxZTZlMyIsInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJtaWJfdXNlciJdfSwiY3VzdG9tIjp7ImNsaWVudF9pZCI6ImJlZWxpbmVfZXhwcmVzcyIsInBob25lIjoiKzc3NDc2MjMyMzMxIiwic2NvcGUiOiJvZmZsaW5lX2FjY2VzcyIsInRva2VuX3R5cGUiOiJhY2Nlc3NfdG9rZW4iLCJ1c2VyX2FjdGlvbiI6InJlZ2lzdHJhdGlvbiIsInVzZXJfcm9sZXMiOlsibWliX3VzZXIiXSwidXNlcm5hbWUiOiI5MzA1MTAzNTAxOTEifX0.ehG4x4ekpxUU32PITMUbu75t8nVfPEB_XznY1by86ICZwI2UakpG1tpAvn4accuqX-InhrJS9uwcj9DdonBCZ4660x8cI3uCxoiDnUSbIO0wSNpqrta6UL1f18ouheaQdYRQ-Yi7iwYsCZ-lyeo6BtlfMhdL3wyrT6OU7QgN2uHelZqF3dWunEGqlEvd-aC4GCSuSv0EnB7cmbnJpQLu9eVXIfzmmm5dtC80JqFBD6Lg3yT-j-T_r72rClQNW2zLuupO0k7rOkakrMcEPXucYJtWcSYAwwfMSjPxBymVTl2hGYl_8qdtt1-LIPipYR_2b4CZ15PSpQ0K9PeMLDhZmg\", \"Client-Ip\":\"172.23.20.6\", \"Content-Type\":\"application/json\", \"Language\":\"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7\", \"Phone\":\"+77476232331\", \"Referer\":\"https://dev-beeline-express.fortebank.com/\", \"Sec-Fetch-Dest\":\"empty\", \"Sec-Fetch-Mode\":\"cors\", \"Sec-Fetch-Site\":\"same-site\", \"Source-Service\":\"/clientpass.ClientpassService/OnboardingPass\", \"User-Id\":\"200\", \"Username\":\"930510350191\", \"Vary\":\"Origin\", \"X-Forwarded-For\":\"172.23.20.6, 10.233.126.141\", \"X-Forwarded-Port\":\"443\", \"X-Real-Ip\":\"172.23.20.6\", \"X-Request-Id\":\"83057f8ab7f0901e2b9f4f27433a0bd1\"}"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"83057f8ab7f0901e2b9f4f27433a0bd1","trace-id":"","span-id":"","time":"2024-04-03T10:25:09+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"info","X-Request-Id":"83057f8ab7f0901e2b9f4f27433a0bd1","trace-id":"","span-id":"","time":"2024-04-03T10:25:09+05:00","message":"get message for service: /clientpass.ClientpassService/OnboardingPass with md map[Accept-Encoding:gzip, deflate, br, zstd Accept-Language:ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7 Access-Control-Allow-Credentials:true Access-Control-Allow-Headers:X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext Access-Control-Allow-Methods:GET, POST, PUT, DELETE, OPTIONS Access-Control-Allow-Origin:https://dev-beeline-express.fortebank.com Access-Control-Max-Age:3600 Authorization:Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwOi8vZGV2LWFwaWd3LWdycGMuZm9ydGViYW5rLmNvbSIsInN1YiI6IjIwMCIsImV4cCI6MTcxMjEyMjc3NiwibmJmIjoxNzEyMTIxODc2LCJpYXQiOjE3MTIxMjE4NzYsImp0aSI6IjE3NzZjY2NiLTNjMzAtNGRjMi05MjZmLWNjZmMyYjkxZTZlMyIsInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJtaWJfdXNlciJdfSwiY3VzdG9tIjp7ImNsaWVudF9pZCI6ImJlZWxpbmVfZXhwcmVzcyIsInBob25lIjoiKzc3NDc2MjMyMzMxIiwic2NvcGUiOiJvZmZsaW5lX2FjY2VzcyIsInRva2VuX3R5cGUiOiJhY2Nlc3NfdG9rZW4iLCJ1c2VyX2FjdGlvbiI6InJlZ2lzdHJhdGlvbiIsInVzZXJfcm9sZXMiOlsibWliX3VzZXIiXSwidXNlcm5hbWUiOiI5MzA1MTAzNTAxOTEifX0.ehG4x4ekpxUU32PITMUbu75t8nVfPEB_XznY1by86ICZwI2UakpG1tpAvn4accuqX-InhrJS9uwcj9DdonBCZ4660x8cI3uCxoiDnUSbIO0wSNpqrta6UL1f18ouheaQdYRQ-Yi7iwYsCZ-lyeo6BtlfMhdL3wyrT6OU7QgN2uHelZqF3dWunEGqlEvd-aC4GCSuSv0EnB7cmbnJpQLu9eVXIfzmmm5dtC80JqFBD6Lg3yT-j-T_r72rClQNW2zLuupO0k7rOkakrMcEPXucYJtWcSYAwwfMSjPxBymVTl2hGYl_8qdtt1-LIPipYR_2b4CZ15PSpQ0K9PeMLDhZmg Client-Ip:172.23.20.6 Content-Type:application/grpc Error-Code:1001 Error-Data:signature is invalid Grpc-Code:13 Language:ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7 Micro-Topic:apigw.in Phone:+77476232331 Referer:https://dev-beeline-express.fortebank.com/ Sec-Fetch-Dest:empty Sec-Fetch-Mode:cors Sec-Fetch-Site:same-site Source-Channel:MIB3.0 Source-Service:/clientpass.ClientpassService/OnboardingPass Uber-Trace-Id:0af9031ee6e4461e:167befcd09889f5f:57e12d5cb217f143:1 User-Id:200 Username:930510350191 Vary:Origin X-Forwarded-For:172.23.20.6, 10.233.126.141 X-Forwarded-Port:443 X-Real-Ip:172.23.20.6 X-Request-Id:83057f8ab7f0901e2b9f4f27433a0bd1]"}
{"level":"info","x-request-id":"83057f8ab7f0901e2b9f4f27433a0bd1","trace-id":"","span-id":"","time":"2024-04-03T10:25:09+05:00","message":"get message for service: /clientpass.ClientpassService/OnboardingPass"}
{"level":"debug","x-request-id":"83057f8ab7f0901e2b9f4f27433a0bd1","trace-id":"","span-id":"","time":"2024-04-03T10:25:09+05:00","message":"grpcConnGet: /clientpass.ClientpassService/OnboardingPass via 83057f8ab7f0901e2b9f4f27433a0bd1"}
{"level":"error","x-request-id":"83057f8ab7f0901e2b9f4f27433a0bd1","trace-id":"","span-id":"","time":"2024-04-03T10:25:09+05:00","message":"failed to find conn"}
HDR http.Header{"Accept":[]string{"*/*"}, "Accept-Encoding":[]string{"gzip, deflate"}, "Content-Type":[]string{"application/json"}, "User-Agent":[]string{"python-requests/2.31.0"}, "X-Forwarded-For":[]string{"10.233.100.0, 10.233.126.141"}, "X-Forwarded-Host":[]string{"dev-apigw.fortebank.com"}, "X-Forwarded-Port":[]string{"443"}, "X-Forwarded-Proto":[]string{"https"}, "X-Forwarded-Scheme":[]string{"https"}, "X-Real-Ip":[]string{"10.233.100.0"}, "X-Request-Id":[]string{"3d683507-fb68-4e3a-a277-7efca8e508ef"}, "X-Scheme":[]string{"https"}}
{"level":"debug","x-request-id":"3d683507-fb68-4e3a-a277-7efca8e508ef","trace-id":"","span-id":"","time":"2024-04-03T10:25:10+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"3d683507-fb68-4e3a-a277-7efca8e508ef","trace-id":"","span-id":"","time":"2024-04-03T10:25:10+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Login"}
{"level":"debug","x-request-id":"3d683507-fb68-4e3a-a277-7efca8e508ef","trace-id":"","span-id":"","time":"2024-04-03T10:25:10+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"debug","x-request-id":"3d683507-fb68-4e3a-a277-7efca8e508ef","trace-id":"","span-id":"","time":"2024-04-03T10:25:10+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"debug","x-request-id":"3d683507-fb68-4e3a-a277-7efca8e508ef","trace-id":"","span-id":"","time":"2024-04-03T10:25:10+05:00","message":"header.cors try to set Access-Control-Allow-Origin with [*]"}
{"level":"debug","x-request-id":"3d683507-fb68-4e3a-a277-7efca8e508ef","trace-id":"","span-id":"","time":"2024-04-03T10:25:10+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"debug","x-request-id":"3d683507-fb68-4e3a-a277-7efca8e508ef","trace-id":"","span-id":"","time":"2024-04-03T10:25:10+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"info","x-request-id":"3d683507-fb68-4e3a-a277-7efca8e508ef","trace-id":"","span-id":"","time":"2024-04-03T10:25:10+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"3d683507-fb68-4e3a-a277-7efca8e508ef","trace-id":"","span-id":"","time":"2024-04-03T10:25:10+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"3d683507-fb68-4e3a-a277-7efca8e508ef","trace-id":"","span-id":"","time":"2024-04-03T10:25:10+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"3d683507-fb68-4e3a-a277-7efca8e508ef","trace-id":"","span-id":"","time":"2024-04-03T10:25:10+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"3d683507-fb68-4e3a-a277-7efca8e508ef","trace-id":"","span-id":"","time":"2024-04-03T10:25:10+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"3d683507-fb68-4e3a-a277-7efca8e508ef","trace-id":"","span-id":"","time":"2024-04-03T10:25:10+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"3d683507-fb68-4e3a-a277-7efca8e508ef","trace-id":"","span-id":"","time":"2024-04-03T10:25:10+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"3d683507-fb68-4e3a-a277-7efca8e508ef","trace-id":"","span-id":"","time":"2024-04-03T10:25:10+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"3d683507-fb68-4e3a-a277-7efca8e508ef","trace-id":"","span-id":"","time":"2024-04-03T10:25:10+05:00","message":"start to proxy url: /authn.AuthnService/v1/login via http://authn-service:80"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"3d683507-fb68-4e3a-a277-7efca8e508ef","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"stop to proxy url: /authn.AuthnService/v1/login via http://authn-service:80"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"3d683507-fb68-4e3a-a277-7efca8e508ef","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"skip hook authn.cookie"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"3d683507-fb68-4e3a-a277-7efca8e508ef","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"3d683507-fb68-4e3a-a277-7efca8e508ef","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"3d683507-fb68-4e3a-a277-7efca8e508ef","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"3d683507-fb68-4e3a-a277-7efca8e508ef","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"3d683507-fb68-4e3a-a277-7efca8e508ef","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"3d683507-fb68-4e3a-a277-7efca8e508ef","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"skip hook jwt.check"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"3d683507-fb68-4e3a-a277-7efca8e508ef","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"run hook header.cors"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"3d683507-fb68-4e3a-a277-7efca8e508ef","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"3d683507-fb68-4e3a-a277-7efca8e508ef","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"3d683507-fb68-4e3a-a277-7efca8e508ef","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"3d683507-fb68-4e3a-a277-7efca8e508ef","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"header.cors try to set Access-Control-Allow-Origin with [*]"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"3d683507-fb68-4e3a-a277-7efca8e508ef","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"3d683507-fb68-4e3a-a277-7efca8e508ef","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"end hook header.cors"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"3d683507-fb68-4e3a-a277-7efca8e508ef","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"3d683507-fb68-4e3a-a277-7efca8e508ef","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"3d683507-fb68-4e3a-a277-7efca8e508ef","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"3d683507-fb68-4e3a-a277-7efca8e508ef","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"skip hook jwt.extract"}
HDR http.Header{"Accept":[]string{"*/*"}, "Accept-Encoding":[]string{"gzip, deflate"}, "Content-Type":[]string{"application/json"}, "User-Agent":[]string{"python-requests/2.31.0"}, "X-Forwarded-For":[]string{"10.233.100.0, 10.233.126.141"}, "X-Forwarded-Host":[]string{"dev-apigw.fortebank.com"}, "X-Forwarded-Port":[]string{"443"}, "X-Forwarded-Proto":[]string{"https"}, "X-Forwarded-Scheme":[]string{"https"}, "X-Real-Ip":[]string{"10.233.100.0"}, "X-Request-Id":[]string{"85bfdd0b-f67b-402f-9fe6-5c485660027b"}, "X-Scheme":[]string{"https"}}
{"level":"debug","x-request-id":"85bfdd0b-f67b-402f-9fe6-5c485660027b","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"85bfdd0b-f67b-402f-9fe6-5c485660027b","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Token"}
{"level":"debug","x-request-id":"85bfdd0b-f67b-402f-9fe6-5c485660027b","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"debug","x-request-id":"85bfdd0b-f67b-402f-9fe6-5c485660027b","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"debug","x-request-id":"85bfdd0b-f67b-402f-9fe6-5c485660027b","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"debug","x-request-id":"85bfdd0b-f67b-402f-9fe6-5c485660027b","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"header.cors try to set Access-Control-Allow-Origin with [*]"}
{"level":"debug","x-request-id":"85bfdd0b-f67b-402f-9fe6-5c485660027b","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"info","x-request-id":"85bfdd0b-f67b-402f-9fe6-5c485660027b","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"85bfdd0b-f67b-402f-9fe6-5c485660027b","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"85bfdd0b-f67b-402f-9fe6-5c485660027b","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"85bfdd0b-f67b-402f-9fe6-5c485660027b","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"85bfdd0b-f67b-402f-9fe6-5c485660027b","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"85bfdd0b-f67b-402f-9fe6-5c485660027b","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"85bfdd0b-f67b-402f-9fe6-5c485660027b","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"85bfdd0b-f67b-402f-9fe6-5c485660027b","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"85bfdd0b-f67b-402f-9fe6-5c485660027b","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"start to proxy url: /authn.AuthnService/v1/oauth/token via http://authn-service:80"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"85bfdd0b-f67b-402f-9fe6-5c485660027b","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"stop to proxy url: /authn.AuthnService/v1/oauth/token via http://authn-service:80"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"85bfdd0b-f67b-402f-9fe6-5c485660027b","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"skip hook authn.cookie"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"85bfdd0b-f67b-402f-9fe6-5c485660027b","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"85bfdd0b-f67b-402f-9fe6-5c485660027b","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"85bfdd0b-f67b-402f-9fe6-5c485660027b","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"85bfdd0b-f67b-402f-9fe6-5c485660027b","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"85bfdd0b-f67b-402f-9fe6-5c485660027b","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"85bfdd0b-f67b-402f-9fe6-5c485660027b","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"skip hook jwt.check"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"85bfdd0b-f67b-402f-9fe6-5c485660027b","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"run hook header.cors"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"85bfdd0b-f67b-402f-9fe6-5c485660027b","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"85bfdd0b-f67b-402f-9fe6-5c485660027b","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"85bfdd0b-f67b-402f-9fe6-5c485660027b","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"85bfdd0b-f67b-402f-9fe6-5c485660027b","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"85bfdd0b-f67b-402f-9fe6-5c485660027b","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"end hook header.cors"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"85bfdd0b-f67b-402f-9fe6-5c485660027b","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"85bfdd0b-f67b-402f-9fe6-5c485660027b","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"85bfdd0b-f67b-402f-9fe6-5c485660027b","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"85bfdd0b-f67b-402f-9fe6-5c485660027b","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"skip hook jwt.extract"}
{"level":"debug","x-request-id":"0732f669-5b4a-43e4-8ad2-bcf33d273ccd","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"authn.cookie process"}
{"level":"debug","x-request-id":"0732f669-5b4a-43e4-8ad2-bcf33d273ccd","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"authn.cookie try to get store /session/dffe2a3c-e392-4e65-9015-e56965ad81f2"}
HDR http.Header{"Accept":[]string{"*/*"}, "Accept-Encoding":[]string{"gzip, deflate"}, "Content-Length":[]string{"0"}, "Content-Type":[]string{"application/json"}, "Cookie":[]string{"session_id=dffe2a3c-e392-4e65-9015-e56965ad81f2"}, "User-Agent":[]string{"python-requests/2.31.0"}, "X-Forwarded-For":[]string{"10.233.100.0, 10.233.126.141"}, "X-Forwarded-Host":[]string{"dev-apigw.fortebank.com"}, "X-Forwarded-Port":[]string{"443"}, "X-Forwarded-Proto":[]string{"https"}, "X-Forwarded-Scheme":[]string{"https"}, "X-Real-Ip":[]string{"10.233.100.0"}, "X-Request-Id":[]string{"0732f669-5b4a-43e4-8ad2-bcf33d273ccd"}, "X-Scheme":[]string{"https"}}
{"level":"debug","x-request-id":"0732f669-5b4a-43e4-8ad2-bcf33d273ccd","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"authn.cookie try to get store /session/dffe2a3c-e392-4e65-9015-e56965ad81f2/attrs"}
{"level":"debug","x-request-id":"0732f669-5b4a-43e4-8ad2-bcf33d273ccd","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"authn.cookie set token to eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwOi8vZGV2LWFwaWd3LWdycGMuZm9ydGViYW5rLmNvbSIsInN1YiI6IjI1IiwiZXhwIjoxNzEyMTIyODExLCJuYmYiOjE3MTIxMjE5MTEsImlhdCI6MTcxMjEyMTkxMSwianRpIjoiMjRhZTJlMTktN2UzNS00YWU2LTg1Y2UtOTk2ZGJmNDU3NzA0IiwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbIm1pYl91c2VyIl19LCJjdXN0b20iOnsiY2xpZW50X2lkIjoiYmVlbGluZV9leHByZXNzIiwibm9uY2UiOiJvYXBrc2VwdXRkYmducWIiLCJwaG9uZSI6Iis3NzA1NTU1MjkyOCIsInNjb3BlIjoib2ZmbGluZV9hY2Nlc3MiLCJ0b2tlbl90eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcl9hY3Rpb24iOiJyZWdpc3RyYXRpb24iLCJ1c2VyX3JvbGVzIjpbIm1pYl91c2VyIl0sInVzZXJuYW1lIjoiOTEwOTE5MzAwMzYzIn19.L516sDHUAbszFLR2CieWsCwxHKyL0F_-D3pNZGLQslcTr6PWmvEjTT8hEAtwa_21oPjybGbgb2jFd7kKfSuJ5u3kvvSdoojObkb1zZdx15hpaOFu7fb9uabAWTKHKGspFecsh3VDI2QHmelSszHnTt9yCINSnlmmHP26jrEq2nJFyeT8ReORwcUn3Cx9esZ39BCsE7qbiKDWYlvj89duEX0FcmCqH_m9iC21XifhX-qvf4AFYXBzYWy5m4edhMuYdnKXn1bTcbe8uBLuglpxfnW3PEYoK1jMpOQHXLdFpjuFAHrLz4Dc1At6-Jf0Gl9Q4TBXhxXLdVokjyc1hENDNQ"}
{"level":"debug","x-request-id":"0732f669-5b4a-43e4-8ad2-bcf33d273ccd","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"0732f669-5b4a-43e4-8ad2-bcf33d273ccd","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"beeline_express\", \"nonce\":\"oapkseputdbgnqb\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712122811e+09, \"iat\":1.712121911e+09, \"iss\":\"http://dev-apigw-grpc.fortebank.com\", \"jti\":\"24ae2e19-7e35-4ae6-85ce-996dbf457704\", \"nbf\":1.712121911e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"debug","x-request-id":"0732f669-5b4a-43e4-8ad2-bcf33d273ccd","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"debug","x-request-id":"0732f669-5b4a-43e4-8ad2-bcf33d273ccd","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"header.cors try to set Access-Control-Allow-Origin with [*]"}
{"level":"debug","x-request-id":"0732f669-5b4a-43e4-8ad2-bcf33d273ccd","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"debug","x-request-id":"0732f669-5b4a-43e4-8ad2-bcf33d273ccd","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"debug","x-request-id":"0732f669-5b4a-43e4-8ad2-bcf33d273ccd","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"info","x-request-id":"0732f669-5b4a-43e4-8ad2-bcf33d273ccd","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"0732f669-5b4a-43e4-8ad2-bcf33d273ccd","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"beeline_express\", \"nonce\":\"oapkseputdbgnqb\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712122811e+09, \"iat\":1.712121911e+09, \"iss\":\"http://dev-apigw-grpc.fortebank.com\", \"jti\":\"24ae2e19-7e35-4ae6-85ce-996dbf457704\", \"nbf\":1.712121911e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"0732f669-5b4a-43e4-8ad2-bcf33d273ccd","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"jwt.extract set User-Id to 25"}
{"level":"info","x-request-id":"0732f669-5b4a-43e4-8ad2-bcf33d273ccd","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"0732f669-5b4a-43e4-8ad2-bcf33d273ccd","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"beeline_express\", \"nonce\":\"oapkseputdbgnqb\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712122811e+09, \"iat\":1.712121911e+09, \"iss\":\"http://dev-apigw-grpc.fortebank.com\", \"jti\":\"24ae2e19-7e35-4ae6-85ce-996dbf457704\", \"nbf\":1.712121911e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"0732f669-5b4a-43e4-8ad2-bcf33d273ccd","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"0732f669-5b4a-43e4-8ad2-bcf33d273ccd","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"beeline_express\", \"nonce\":\"oapkseputdbgnqb\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712122811e+09, \"iat\":1.712121911e+09, \"iss\":\"http://dev-apigw-grpc.fortebank.com\", \"jti\":\"24ae2e19-7e35-4ae6-85ce-996dbf457704\", \"nbf\":1.712121911e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"0732f669-5b4a-43e4-8ad2-bcf33d273ccd","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"jwt.extract set Username to 910919300363"}
{"level":"info","x-request-id":"0732f669-5b4a-43e4-8ad2-bcf33d273ccd","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"0732f669-5b4a-43e4-8ad2-bcf33d273ccd","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"beeline_express\", \"nonce\":\"oapkseputdbgnqb\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712122811e+09, \"iat\":1.712121911e+09, \"iss\":\"http://dev-apigw-grpc.fortebank.com\", \"jti\":\"24ae2e19-7e35-4ae6-85ce-996dbf457704\", \"nbf\":1.712121911e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"0732f669-5b4a-43e4-8ad2-bcf33d273ccd","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"jwt.extract set Phone to +77055552928"}
{"level":"info","x-request-id":"0732f669-5b4a-43e4-8ad2-bcf33d273ccd","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"0732f669-5b4a-43e4-8ad2-bcf33d273ccd","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"beeline_express\", \"nonce\":\"oapkseputdbgnqb\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712122811e+09, \"iat\":1.712121911e+09, \"iss\":\"http://dev-apigw-grpc.fortebank.com\", \"jti\":\"24ae2e19-7e35-4ae6-85ce-996dbf457704\", \"nbf\":1.712121911e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"0732f669-5b4a-43e4-8ad2-bcf33d273ccd","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"jwt.extract set otp_datetime to 1712121911"}
{"level":"info","x-request-id":"0732f669-5b4a-43e4-8ad2-bcf33d273ccd","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"0732f669-5b4a-43e4-8ad2-bcf33d273ccd","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"beeline_express\", \"nonce\":\"oapkseputdbgnqb\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712122811e+09, \"iat\":1.712121911e+09, \"iss\":\"http://dev-apigw-grpc.fortebank.com\", \"jti\":\"24ae2e19-7e35-4ae6-85ce-996dbf457704\", \"nbf\":1.712121911e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"0732f669-5b4a-43e4-8ad2-bcf33d273ccd","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"jwt.extract set username to 910919300363"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"0732f669-5b4a-43e4-8ad2-bcf33d273ccd","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"httpConnAdd /clientpass.ClientpassService/StartClientPass 0732f669-5b4a-43e4-8ad2-bcf33d273ccd"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"0732f669-5b4a-43e4-8ad2-bcf33d273ccd","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"start to proxy url: /clientpass.ClientpassService via client.clientpass.startclientpass.in"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"0732f669-5b4a-43e4-8ad2-bcf33d273ccd","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"start to proxy url: /clientpass.ClientpassService via client.clientpass.startclientpass.in"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"0732f669-5b4a-43e4-8ad2-bcf33d273ccd","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"brokerClientStream brokerClientStream SendMsg method"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"0732f669-5b4a-43e4-8ad2-bcf33d273ccd","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"brokerClientStream try to publish to client.clientpass.startclientpass.in msg with hdr: metadata.Metadata{\"Accept-Encoding\":\"gzip, deflate\", \"Access-Control-Allow-Credentials\":\"true\", \"Access-Control-Allow-Headers\":\"X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext\", \"Access-Control-Allow-Methods\":\"GET, POST, PUT, DELETE, OPTIONS\", \"Access-Control-Allow-Origin\":\"*\", \"Access-Control-Max-Age\":\"3600\", \"Authorization\":\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwOi8vZGV2LWFwaWd3LWdycGMuZm9ydGViYW5rLmNvbSIsInN1YiI6IjI1IiwiZXhwIjoxNzEyMTIyODExLCJuYmYiOjE3MTIxMjE5MTEsImlhdCI6MTcxMjEyMTkxMSwianRpIjoiMjRhZTJlMTktN2UzNS00YWU2LTg1Y2UtOTk2ZGJmNDU3NzA0IiwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbIm1pYl91c2VyIl19LCJjdXN0b20iOnsiY2xpZW50X2lkIjoiYmVlbGluZV9leHByZXNzIiwibm9uY2UiOiJvYXBrc2VwdXRkYmducWIiLCJwaG9uZSI6Iis3NzA1NTU1MjkyOCIsInNjb3BlIjoib2ZmbGluZV9hY2Nlc3MiLCJ0b2tlbl90eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcl9hY3Rpb24iOiJyZWdpc3RyYXRpb24iLCJ1c2VyX3JvbGVzIjpbIm1pYl91c2VyIl0sInVzZXJuYW1lIjoiOTEwOTE5MzAwMzYzIn19.L516sDHUAbszFLR2CieWsCwxHKyL0F_-D3pNZGLQslcTr6PWmvEjTT8hEAtwa_21oPjybGbgb2jFd7kKfSuJ5u3kvvSdoojObkb1zZdx15hpaOFu7fb9uabAWTKHKGspFecsh3VDI2QHmelSszHnTt9yCINSnlmmHP26jrEq2nJFyeT8ReORwcUn3Cx9esZ39BCsE7qbiKDWYlvj89duEX0FcmCqH_m9iC21XifhX-qvf4AFYXBzYWy5m4edhMuYdnKXn1bTcbe8uBLuglpxfnW3PEYoK1jMpOQHXLdFpjuFAHrLz4Dc1At6-Jf0Gl9Q4TBXhxXLdVokjyc1hENDNQ\", \"Client-Ip\":\"10.233.100.0\", \"Content-Type\":\"application/json\", \"Otp_datetime\":\"1712121911\", \"Phone\":\"+77055552928\", \"Source-Service\":\"/clientpass.ClientpassService/StartClientPass\", \"User-Id\":\"25\", \"Username\":\"910919300363\", \"Vary\":\"Origin\", \"X-Forwarded-For\":\"10.233.100.0, 10.233.126.141\", \"X-Forwarded-Port\":\"443\", \"X-Real-Ip\":\"10.233.100.0\", \"X-Request-Id\":\"0732f669-5b4a-43e4-8ad2-bcf33d273ccd\"}"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"0732f669-5b4a-43e4-8ad2-bcf33d273ccd","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"info","X-Request-Id":"0732f669-5b4a-43e4-8ad2-bcf33d273ccd","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"get message for service: /clientpass.ClientpassService/StartClientPass with md map[Accept-Encoding:gzip, deflate Access-Control-Allow-Credentials:true Access-Control-Allow-Headers:X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext Access-Control-Allow-Methods:GET, POST, PUT, DELETE, OPTIONS Access-Control-Allow-Origin:* Access-Control-Max-Age:3600 Authorization:Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwOi8vZGV2LWFwaWd3LWdycGMuZm9ydGViYW5rLmNvbSIsInN1YiI6IjI1IiwiZXhwIjoxNzEyMTIyODExLCJuYmYiOjE3MTIxMjE5MTEsImlhdCI6MTcxMjEyMTkxMSwianRpIjoiMjRhZTJlMTktN2UzNS00YWU2LTg1Y2UtOTk2ZGJmNDU3NzA0IiwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbIm1pYl91c2VyIl19LCJjdXN0b20iOnsiY2xpZW50X2lkIjoiYmVlbGluZV9leHByZXNzIiwibm9uY2UiOiJvYXBrc2VwdXRkYmducWIiLCJwaG9uZSI6Iis3NzA1NTU1MjkyOCIsInNjb3BlIjoib2ZmbGluZV9hY2Nlc3MiLCJ0b2tlbl90eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcl9hY3Rpb24iOiJyZWdpc3RyYXRpb24iLCJ1c2VyX3JvbGVzIjpbIm1pYl91c2VyIl0sInVzZXJuYW1lIjoiOTEwOTE5MzAwMzYzIn19.L516sDHUAbszFLR2CieWsCwxHKyL0F_-D3pNZGLQslcTr6PWmvEjTT8hEAtwa_21oPjybGbgb2jFd7kKfSuJ5u3kvvSdoojObkb1zZdx15hpaOFu7fb9uabAWTKHKGspFecsh3VDI2QHmelSszHnTt9yCINSnlmmHP26jrEq2nJFyeT8ReORwcUn3Cx9esZ39BCsE7qbiKDWYlvj89duEX0FcmCqH_m9iC21XifhX-qvf4AFYXBzYWy5m4edhMuYdnKXn1bTcbe8uBLuglpxfnW3PEYoK1jMpOQHXLdFpjuFAHrLz4Dc1At6-Jf0Gl9Q4TBXhxXLdVokjyc1hENDNQ Client-Ip:10.233.100.0 Content-Type:application/json Micro-Topic:apigw.in Otp_datetime:1712121911 Phone:+77055552928 Source-Service:/clientpass.ClientpassService/StartClientPass Uber-Trace-Id:6caed0b54ef07edb:2718716480eb8b4f:15c7e963f2cd4e03:1 User-Id:25 Username:910919300363 Vary:Origin X-Forwarded-For:10.233.100.0, 10.233.126.141 X-Forwarded-Port:443 X-Real-Ip:10.233.100.0 X-Request-Id:0732f669-5b4a-43e4-8ad2-bcf33d273ccd]"}
{"level":"debug","x-request-id":"0732f669-5b4a-43e4-8ad2-bcf33d273ccd","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"httpConnGet: /clientpass.ClientpassService/StartClientPass via 0732f669-5b4a-43e4-8ad2-bcf33d273ccd"}
{"level":"debug","x-request-id":"0732f669-5b4a-43e4-8ad2-bcf33d273ccd","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"http use stream conn: &handler.httpProxy{httpStream:(*handler.httpServerStream)(0xc00053c2b0), kafkaStream:(*handler.brokerClientStream)(0xc0005460f0)} sourceService: /clientpass.ClientpassService/StartClientPass"}
{"level":"info","x-request-id":"0732f669-5b4a-43e4-8ad2-bcf33d273ccd","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"start transfer response from kafka"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"0732f669-5b4a-43e4-8ad2-bcf33d273ccd","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"brokerClientStream SetHeader method"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"0732f669-5b4a-43e4-8ad2-bcf33d273ccd","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"brokerClientStream SetMsg method"}
{"level":"info","x-request-id":"0732f669-5b4a-43e4-8ad2-bcf33d273ccd","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"stop transfer response from kafka"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"0732f669-5b4a-43e4-8ad2-bcf33d273ccd","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"brokerClientStream RecvMsg method data"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"0732f669-5b4a-43e4-8ad2-bcf33d273ccd","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"stop to proxy url: /clientpass.ClientpassService via client.clientpass.startclientpass.in"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"0732f669-5b4a-43e4-8ad2-bcf33d273ccd","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"httpConnDel /clientpass.ClientpassService/StartClientPass 0732f669-5b4a-43e4-8ad2-bcf33d273ccd"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"0732f669-5b4a-43e4-8ad2-bcf33d273ccd","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"brokerClientStream Header method"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"0732f669-5b4a-43e4-8ad2-bcf33d273ccd","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"brokerClientStream Close method"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"0732f669-5b4a-43e4-8ad2-bcf33d273ccd","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"return rsp &http.Response{Status:\"\", StatusCode:200, Proto:\"HTTP/1.1\", ProtoMajor:1, ProtoMinor:1, Header:http.Header{\"Accept-Encoding\":[]string{\"gzip, deflate\"}, \"Access-Control-Allow-Credentials\":[]string{\"true\"}, \"Access-Control-Allow-Headers\":[]string{\"X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext\"}, \"Access-Control-Allow-Methods\":[]string{\"GET, POST, PUT, DELETE, OPTIONS\"}, \"Access-Control-Allow-Origin\":[]string{\"*\"}, \"Access-Control-Max-Age\":[]string{\"3600\"}, \"Content-Type\":[]string{\"application/json\"}, \"Vary\":[]string{\"Origin\"}, \"X-Request-Id\":[]string{\"0732f669-5b4a-43e4-8ad2-bcf33d273ccd\"}}, Body:io.nopCloserWriterTo{Reader:(*bytes.Reader)(0xc000739530)}, ContentLength:123, TransferEncoding:[]string(nil), Close:false, Uncompressed:false, Trailer:http.Header(nil), Request:(*http.Request)(0xc0003fe480), TLS:(*tls.ConnectionState)(nil)}"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"0732f669-5b4a-43e4-8ad2-bcf33d273ccd","trace-id":"","span-id":"","time":"2024-04-03T10:25:11+05:00","message":"http handler exit"}
HDR http.Header{"Accept":[]string{"*/*"}, "Accept-Encoding":[]string{"gzip, deflate"}, "Content-Length":[]string{"55"}, "Content-Type":[]string{"application/json"}, "Cookie":[]string{"session_id=dffe2a3c-e392-4e65-9015-e56965ad81f2"}, "User-Agent":[]string{"python-requests/2.31.0"}, "X-Forwarded-For":[]string{"10.233.100.0, 10.233.126.141"}, "X-Forwarded-Host":[]string{"dev-apigw.fortebank.com"}, "X-Forwarded-Port":[]string{"443"}, "X-Forwarded-Proto":[]string{"https"}, "X-Forwarded-Scheme":[]string{"https"}, "X-Real-Ip":[]string{"10.233.100.0"}, "X-Request-Id":[]string{"046b5c20-d8c9-40b4-8d1f-98cfd48becbf"}, "X-Scheme":[]string{"https"}}
{"level":"debug","x-request-id":"046b5c20-d8c9-40b4-8d1f-98cfd48becbf","trace-id":"","span-id":"","time":"2024-04-03T10:25:13+05:00","message":"authn.cookie process"}
{"level":"debug","x-request-id":"046b5c20-d8c9-40b4-8d1f-98cfd48becbf","trace-id":"","span-id":"","time":"2024-04-03T10:25:13+05:00","message":"authn.cookie try to get store /session/dffe2a3c-e392-4e65-9015-e56965ad81f2"}
{"level":"debug","x-request-id":"046b5c20-d8c9-40b4-8d1f-98cfd48becbf","trace-id":"","span-id":"","time":"2024-04-03T10:25:13+05:00","message":"authn.cookie try to get store /session/dffe2a3c-e392-4e65-9015-e56965ad81f2/attrs"}
{"level":"debug","x-request-id":"046b5c20-d8c9-40b4-8d1f-98cfd48becbf","trace-id":"","span-id":"","time":"2024-04-03T10:25:13+05:00","message":"authn.cookie set token to eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwOi8vZGV2LWFwaWd3LWdycGMuZm9ydGViYW5rLmNvbSIsInN1YiI6IjI1IiwiZXhwIjoxNzEyMTIyODExLCJuYmYiOjE3MTIxMjE5MTEsImlhdCI6MTcxMjEyMTkxMSwianRpIjoiMjRhZTJlMTktN2UzNS00YWU2LTg1Y2UtOTk2ZGJmNDU3NzA0IiwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbIm1pYl91c2VyIl19LCJjdXN0b20iOnsiY2xpZW50X2lkIjoiYmVlbGluZV9leHByZXNzIiwibm9uY2UiOiJvYXBrc2VwdXRkYmducWIiLCJwaG9uZSI6Iis3NzA1NTU1MjkyOCIsInNjb3BlIjoib2ZmbGluZV9hY2Nlc3MiLCJ0b2tlbl90eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcl9hY3Rpb24iOiJyZWdpc3RyYXRpb24iLCJ1c2VyX3JvbGVzIjpbIm1pYl91c2VyIl0sInVzZXJuYW1lIjoiOTEwOTE5MzAwMzYzIn19.L516sDHUAbszFLR2CieWsCwxHKyL0F_-D3pNZGLQslcTr6PWmvEjTT8hEAtwa_21oPjybGbgb2jFd7kKfSuJ5u3kvvSdoojObkb1zZdx15hpaOFu7fb9uabAWTKHKGspFecsh3VDI2QHmelSszHnTt9yCINSnlmmHP26jrEq2nJFyeT8ReORwcUn3Cx9esZ39BCsE7qbiKDWYlvj89duEX0FcmCqH_m9iC21XifhX-qvf4AFYXBzYWy5m4edhMuYdnKXn1bTcbe8uBLuglpxfnW3PEYoK1jMpOQHXLdFpjuFAHrLz4Dc1At6-Jf0Gl9Q4TBXhxXLdVokjyc1hENDNQ"}
{"level":"info","x-request-id":"046b5c20-d8c9-40b4-8d1f-98cfd48becbf","trace-id":"","span-id":"","time":"2024-04-03T10:25:13+05:00","message":"jwt.check skip endpoint /authn.AuthnService/AccountUpdate"}
{"level":"debug","x-request-id":"046b5c20-d8c9-40b4-8d1f-98cfd48becbf","trace-id":"","span-id":"","time":"2024-04-03T10:25:13+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"debug","x-request-id":"046b5c20-d8c9-40b4-8d1f-98cfd48becbf","trace-id":"","span-id":"","time":"2024-04-03T10:25:13+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"debug","x-request-id":"046b5c20-d8c9-40b4-8d1f-98cfd48becbf","trace-id":"","span-id":"","time":"2024-04-03T10:25:13+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"debug","x-request-id":"046b5c20-d8c9-40b4-8d1f-98cfd48becbf","trace-id":"","span-id":"","time":"2024-04-03T10:25:13+05:00","message":"header.cors try to set Access-Control-Allow-Origin with [*]"}
{"level":"debug","x-request-id":"046b5c20-d8c9-40b4-8d1f-98cfd48becbf","trace-id":"","span-id":"","time":"2024-04-03T10:25:13+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"info","x-request-id":"046b5c20-d8c9-40b4-8d1f-98cfd48becbf","trace-id":"","span-id":"","time":"2024-04-03T10:25:13+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"046b5c20-d8c9-40b4-8d1f-98cfd48becbf","trace-id":"","span-id":"","time":"2024-04-03T10:25:13+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"046b5c20-d8c9-40b4-8d1f-98cfd48becbf","trace-id":"","span-id":"","time":"2024-04-03T10:25:13+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"046b5c20-d8c9-40b4-8d1f-98cfd48becbf","trace-id":"","span-id":"","time":"2024-04-03T10:25:13+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"046b5c20-d8c9-40b4-8d1f-98cfd48becbf","trace-id":"","span-id":"","time":"2024-04-03T10:25:13+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"046b5c20-d8c9-40b4-8d1f-98cfd48becbf","trace-id":"","span-id":"","time":"2024-04-03T10:25:13+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"046b5c20-d8c9-40b4-8d1f-98cfd48becbf","trace-id":"","span-id":"","time":"2024-04-03T10:25:13+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"046b5c20-d8c9-40b4-8d1f-98cfd48becbf","trace-id":"","span-id":"","time":"2024-04-03T10:25:13+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"046b5c20-d8c9-40b4-8d1f-98cfd48becbf","trace-id":"","span-id":"","time":"2024-04-03T10:25:13+05:00","message":"start to proxy url: /authn.AuthnService/v1/account via http://authn-service:80"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"046b5c20-d8c9-40b4-8d1f-98cfd48becbf","trace-id":"","span-id":"","time":"2024-04-03T10:25:13+05:00","message":"stop to proxy url: /authn.AuthnService/v1/account via http://authn-service:80"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"046b5c20-d8c9-40b4-8d1f-98cfd48becbf","trace-id":"","span-id":"","time":"2024-04-03T10:25:13+05:00","message":"skip hook authn.cookie"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"046b5c20-d8c9-40b4-8d1f-98cfd48becbf","trace-id":"","span-id":"","time":"2024-04-03T10:25:13+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"046b5c20-d8c9-40b4-8d1f-98cfd48becbf","trace-id":"","span-id":"","time":"2024-04-03T10:25:13+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"046b5c20-d8c9-40b4-8d1f-98cfd48becbf","trace-id":"","span-id":"","time":"2024-04-03T10:25:13+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"046b5c20-d8c9-40b4-8d1f-98cfd48becbf","trace-id":"","span-id":"","time":"2024-04-03T10:25:13+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"046b5c20-d8c9-40b4-8d1f-98cfd48becbf","trace-id":"","span-id":"","time":"2024-04-03T10:25:13+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"046b5c20-d8c9-40b4-8d1f-98cfd48becbf","trace-id":"","span-id":"","time":"2024-04-03T10:25:13+05:00","message":"skip hook jwt.check"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"046b5c20-d8c9-40b4-8d1f-98cfd48becbf","trace-id":"","span-id":"","time":"2024-04-03T10:25:13+05:00","message":"run hook header.cors"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"046b5c20-d8c9-40b4-8d1f-98cfd48becbf","trace-id":"","span-id":"","time":"2024-04-03T10:25:13+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"046b5c20-d8c9-40b4-8d1f-98cfd48becbf","trace-id":"","span-id":"","time":"2024-04-03T10:25:13+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"046b5c20-d8c9-40b4-8d1f-98cfd48becbf","trace-id":"","span-id":"","time":"2024-04-03T10:25:13+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"046b5c20-d8c9-40b4-8d1f-98cfd48becbf","trace-id":"","span-id":"","time":"2024-04-03T10:25:13+05:00","message":"header.cors try to set Access-Control-Allow-Origin with [*]"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"046b5c20-d8c9-40b4-8d1f-98cfd48becbf","trace-id":"","span-id":"","time":"2024-04-03T10:25:13+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"046b5c20-d8c9-40b4-8d1f-98cfd48becbf","trace-id":"","span-id":"","time":"2024-04-03T10:25:13+05:00","message":"end hook header.cors"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"046b5c20-d8c9-40b4-8d1f-98cfd48becbf","trace-id":"","span-id":"","time":"2024-04-03T10:25:13+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"046b5c20-d8c9-40b4-8d1f-98cfd48becbf","trace-id":"","span-id":"","time":"2024-04-03T10:25:13+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"046b5c20-d8c9-40b4-8d1f-98cfd48becbf","trace-id":"","span-id":"","time":"2024-04-03T10:25:13+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"046b5c20-d8c9-40b4-8d1f-98cfd48becbf","trace-id":"","span-id":"","time":"2024-04-03T10:25:13+05:00","message":"skip hook jwt.extract"}
{"level":"debug","x-request-id":"f4d67ace-42bb-4fc1-bcdf-46ca7458bfc1","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"authn.cookie process"}
HDR http.Header{"Accept":[]string{"*/*"}, "Accept-Encoding":[]string{"gzip, deflate"}, "Content-Type":[]string{"application/json"}, "Cookie":[]string{"session_id=dffe2a3c-e392-4e65-9015-e56965ad81f2"}, "User-Agent":[]string{"python-requests/2.31.0"}, "X-Forwarded-For":[]string{"10.233.100.0, 10.233.126.141"}, "X-Forwarded-Host":[]string{"dev-apigw.fortebank.com"}, "X-Forwarded-Port":[]string{"443"}, "X-Forwarded-Proto":[]string{"https"}, "X-Forwarded-Scheme":[]string{"https"}, "X-Real-Ip":[]string{"10.233.100.0"}, "X-Request-Id":[]string{"f4d67ace-42bb-4fc1-bcdf-46ca7458bfc1"}, "X-Scheme":[]string{"https"}}
{"level":"debug","x-request-id":"f4d67ace-42bb-4fc1-bcdf-46ca7458bfc1","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"authn.cookie try to get store /session/dffe2a3c-e392-4e65-9015-e56965ad81f2"}
{"level":"debug","x-request-id":"f4d67ace-42bb-4fc1-bcdf-46ca7458bfc1","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"authn.cookie try to get store /session/dffe2a3c-e392-4e65-9015-e56965ad81f2/attrs"}
{"level":"debug","x-request-id":"f4d67ace-42bb-4fc1-bcdf-46ca7458bfc1","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"authn.cookie set token to eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwOi8vZGV2LWFwaWd3LWdycGMuZm9ydGViYW5rLmNvbSIsInN1YiI6IjI1IiwiZXhwIjoxNzEyMTIyODExLCJuYmYiOjE3MTIxMjE5MTEsImlhdCI6MTcxMjEyMTkxMSwianRpIjoiMjRhZTJlMTktN2UzNS00YWU2LTg1Y2UtOTk2ZGJmNDU3NzA0IiwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbIm1pYl91c2VyIl19LCJjdXN0b20iOnsiY2xpZW50X2lkIjoiYmVlbGluZV9leHByZXNzIiwibm9uY2UiOiJvYXBrc2VwdXRkYmducWIiLCJwaG9uZSI6Iis3NzA1NTU1MjkyOCIsInNjb3BlIjoib2ZmbGluZV9hY2Nlc3MiLCJ0b2tlbl90eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcl9hY3Rpb24iOiJyZWdpc3RyYXRpb24iLCJ1c2VyX3JvbGVzIjpbIm1pYl91c2VyIl0sInVzZXJuYW1lIjoiOTEwOTE5MzAwMzYzIn19.L516sDHUAbszFLR2CieWsCwxHKyL0F_-D3pNZGLQslcTr6PWmvEjTT8hEAtwa_21oPjybGbgb2jFd7kKfSuJ5u3kvvSdoojObkb1zZdx15hpaOFu7fb9uabAWTKHKGspFecsh3VDI2QHmelSszHnTt9yCINSnlmmHP26jrEq2nJFyeT8ReORwcUn3Cx9esZ39BCsE7qbiKDWYlvj89duEX0FcmCqH_m9iC21XifhX-qvf4AFYXBzYWy5m4edhMuYdnKXn1bTcbe8uBLuglpxfnW3PEYoK1jMpOQHXLdFpjuFAHrLz4Dc1At6-Jf0Gl9Q4TBXhxXLdVokjyc1hENDNQ"}
{"level":"info","x-request-id":"f4d67ace-42bb-4fc1-bcdf-46ca7458bfc1","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Token"}
{"level":"debug","x-request-id":"f4d67ace-42bb-4fc1-bcdf-46ca7458bfc1","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"debug","x-request-id":"f4d67ace-42bb-4fc1-bcdf-46ca7458bfc1","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"debug","x-request-id":"f4d67ace-42bb-4fc1-bcdf-46ca7458bfc1","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"debug","x-request-id":"f4d67ace-42bb-4fc1-bcdf-46ca7458bfc1","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"debug","x-request-id":"f4d67ace-42bb-4fc1-bcdf-46ca7458bfc1","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"header.cors try to set Access-Control-Allow-Origin with [*]"}
{"level":"info","x-request-id":"f4d67ace-42bb-4fc1-bcdf-46ca7458bfc1","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"f4d67ace-42bb-4fc1-bcdf-46ca7458bfc1","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"f4d67ace-42bb-4fc1-bcdf-46ca7458bfc1","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"f4d67ace-42bb-4fc1-bcdf-46ca7458bfc1","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"f4d67ace-42bb-4fc1-bcdf-46ca7458bfc1","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"f4d67ace-42bb-4fc1-bcdf-46ca7458bfc1","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"f4d67ace-42bb-4fc1-bcdf-46ca7458bfc1","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"f4d67ace-42bb-4fc1-bcdf-46ca7458bfc1","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"f4d67ace-42bb-4fc1-bcdf-46ca7458bfc1","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"start to proxy url: /authn.AuthnService/v1/oauth/token via http://authn-service:80"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"f4d67ace-42bb-4fc1-bcdf-46ca7458bfc1","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"stop to proxy url: /authn.AuthnService/v1/oauth/token via http://authn-service:80"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"f4d67ace-42bb-4fc1-bcdf-46ca7458bfc1","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"skip hook authn.cookie"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"f4d67ace-42bb-4fc1-bcdf-46ca7458bfc1","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"f4d67ace-42bb-4fc1-bcdf-46ca7458bfc1","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"f4d67ace-42bb-4fc1-bcdf-46ca7458bfc1","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"f4d67ace-42bb-4fc1-bcdf-46ca7458bfc1","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"f4d67ace-42bb-4fc1-bcdf-46ca7458bfc1","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"f4d67ace-42bb-4fc1-bcdf-46ca7458bfc1","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"skip hook jwt.check"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"f4d67ace-42bb-4fc1-bcdf-46ca7458bfc1","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"run hook header.cors"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"f4d67ace-42bb-4fc1-bcdf-46ca7458bfc1","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"f4d67ace-42bb-4fc1-bcdf-46ca7458bfc1","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"f4d67ace-42bb-4fc1-bcdf-46ca7458bfc1","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"f4d67ace-42bb-4fc1-bcdf-46ca7458bfc1","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"header.cors try to set Access-Control-Allow-Origin with [*]"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"f4d67ace-42bb-4fc1-bcdf-46ca7458bfc1","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"f4d67ace-42bb-4fc1-bcdf-46ca7458bfc1","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"end hook header.cors"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"f4d67ace-42bb-4fc1-bcdf-46ca7458bfc1","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"f4d67ace-42bb-4fc1-bcdf-46ca7458bfc1","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"f4d67ace-42bb-4fc1-bcdf-46ca7458bfc1","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"f4d67ace-42bb-4fc1-bcdf-46ca7458bfc1","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"skip hook jwt.extract"}
HDR http.Header{"Accept":[]string{"*/*"}, "Accept-Encoding":[]string{"gzip, deflate"}, "Content-Length":[]string{"804"}, "Content-Type":[]string{"application/json"}, "Cookie":[]string{"session_id=dffe2a3c-e392-4e65-9015-e56965ad81f2"}, "User-Agent":[]string{"python-requests/2.31.0"}, "X-Forwarded-For":[]string{"10.233.100.0, 10.233.126.141"}, "X-Forwarded-Host":[]string{"dev-apigw.fortebank.com"}, "X-Forwarded-Port":[]string{"443"}, "X-Forwarded-Proto":[]string{"https"}, "X-Forwarded-Scheme":[]string{"https"}, "X-Real-Ip":[]string{"10.233.100.0"}, "X-Request-Id":[]string{"dc2dc733-61f0-4fdc-98a3-5bbcf3c73ca3"}, "X-Scheme":[]string{"https"}}
{"level":"debug","x-request-id":"dc2dc733-61f0-4fdc-98a3-5bbcf3c73ca3","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"authn.cookie process"}
{"level":"debug","x-request-id":"dc2dc733-61f0-4fdc-98a3-5bbcf3c73ca3","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"authn.cookie try to get store /session/dffe2a3c-e392-4e65-9015-e56965ad81f2"}
{"level":"debug","x-request-id":"dc2dc733-61f0-4fdc-98a3-5bbcf3c73ca3","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"authn.cookie try to get store /session/dffe2a3c-e392-4e65-9015-e56965ad81f2/attrs"}
{"level":"debug","x-request-id":"dc2dc733-61f0-4fdc-98a3-5bbcf3c73ca3","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"authn.cookie set token to eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwOi8vZGV2LWFwaWd3LWdycGMuZm9ydGViYW5rLmNvbSIsInN1YiI6IjI1IiwiZXhwIjoxNzEyMTIyODE0LCJuYmYiOjE3MTIxMjE5MTQsImlhdCI6MTcxMjEyMTkxNCwianRpIjoiZjBhMGRkZjMtZjIwYy00N2JkLWE2OWMtZWQ1ZjhiMGQ0MTU2IiwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbIm1pYl91c2VyIl19LCJjdXN0b20iOnsiY2xpZW50X2lkIjoiYmVlbGluZV9leHByZXNzIiwiZXh0ZXJuYWxfaWQiOiI1MDExNjI0MTk3IiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJ0b2tlbl90eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcl9hY3Rpb24iOiJyZWdpc3RyYXRpb24iLCJ1c2VyX3JvbGVzIjpbIm1pYl91c2VyIl0sInVzZXJuYW1lIjoiOTEwOTE5MzAwMzYzIn19.DpQC76nRZwIllm5PSOBjFQ3Fj4OO6wPLddKVoUPx245rCS3-mNT5UZRa5SDL3PoTssXexlmkn2wTS8jvue4blkc0IR3a-LQ1emHdRRYSXCgCWTTY-9wvjNu0FGJ6wFAGZbb4GKE5THOteCd0lT78aLfQKLeh1NgVDOkUYsEIWOyyCwQJUSt-JuqAo3OtzWMnZ3gwYpOUs-FXKXse6FtragsPPtZ406NFDJARXnJsJuJXnn74DSNwa3kdF_Iiiu0szNWcp6pRuQqzjaBxCazLnDAtPlO7d7a_kK8FNKzvAXsXiPkr1FHgXby354emsZMpeoQwE2F__SxEDWbIsigZCA"}
{"level":"info","x-request-id":"dc2dc733-61f0-4fdc-98a3-5bbcf3c73ca3","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"jwt.check skip endpoint /messenger.Chat2Desk/Chat2Desk"}
{"level":"debug","x-request-id":"dc2dc733-61f0-4fdc-98a3-5bbcf3c73ca3","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"debug","x-request-id":"dc2dc733-61f0-4fdc-98a3-5bbcf3c73ca3","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"debug","x-request-id":"dc2dc733-61f0-4fdc-98a3-5bbcf3c73ca3","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"debug","x-request-id":"dc2dc733-61f0-4fdc-98a3-5bbcf3c73ca3","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"header.cors try to set Access-Control-Allow-Origin with [*]"}
{"level":"debug","x-request-id":"dc2dc733-61f0-4fdc-98a3-5bbcf3c73ca3","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"info","x-request-id":"dc2dc733-61f0-4fdc-98a3-5bbcf3c73ca3","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"dc2dc733-61f0-4fdc-98a3-5bbcf3c73ca3","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"dc2dc733-61f0-4fdc-98a3-5bbcf3c73ca3","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"dc2dc733-61f0-4fdc-98a3-5bbcf3c73ca3","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"dc2dc733-61f0-4fdc-98a3-5bbcf3c73ca3","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"dc2dc733-61f0-4fdc-98a3-5bbcf3c73ca3","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"dc2dc733-61f0-4fdc-98a3-5bbcf3c73ca3","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"dc2dc733-61f0-4fdc-98a3-5bbcf3c73ca3","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"dc2dc733-61f0-4fdc-98a3-5bbcf3c73ca3","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"start to proxy url: /messenger.Chat2Desk/messenger/chat2desk/v1/listen2desk via https://dev-messenger-chat2desk.fortebank.com"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"dc2dc733-61f0-4fdc-98a3-5bbcf3c73ca3","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"stop to proxy url: /messenger.Chat2Desk/messenger/chat2desk/v1/listen2desk via https://dev-messenger-chat2desk.fortebank.com"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"dc2dc733-61f0-4fdc-98a3-5bbcf3c73ca3","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"skip hook authn.cookie"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"dc2dc733-61f0-4fdc-98a3-5bbcf3c73ca3","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"dc2dc733-61f0-4fdc-98a3-5bbcf3c73ca3","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"dc2dc733-61f0-4fdc-98a3-5bbcf3c73ca3","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"dc2dc733-61f0-4fdc-98a3-5bbcf3c73ca3","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"dc2dc733-61f0-4fdc-98a3-5bbcf3c73ca3","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"dc2dc733-61f0-4fdc-98a3-5bbcf3c73ca3","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"skip hook jwt.check"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"dc2dc733-61f0-4fdc-98a3-5bbcf3c73ca3","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"run hook header.cors"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"dc2dc733-61f0-4fdc-98a3-5bbcf3c73ca3","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"dc2dc733-61f0-4fdc-98a3-5bbcf3c73ca3","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"end hook header.cors"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"dc2dc733-61f0-4fdc-98a3-5bbcf3c73ca3","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"dc2dc733-61f0-4fdc-98a3-5bbcf3c73ca3","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"dc2dc733-61f0-4fdc-98a3-5bbcf3c73ca3","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"dc2dc733-61f0-4fdc-98a3-5bbcf3c73ca3","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"skip hook jwt.extract"}
{"level":"error","X-Request-Id":"7QkQCjGDpMn8t6Wp","trace-id":"","span-id":"","time":"2024-04-03T10:25:14+05:00","message":"failed to find source-service"}
HDR http.Header{"Accept":[]string{"*/*"}, "Accept-Encoding":[]string{"gzip, deflate"}, "Content-Length":[]string{"0"}, "Content-Type":[]string{"application/json"}, "Cookie":[]string{"session_id=1232121312213213213"}, "User-Agent":[]string{"python-requests/2.31.0"}, "X-Forwarded-For":[]string{"172.23.20.6, 10.233.126.141"}, "X-Forwarded-Host":[]string{"dev-apigw.fortebank.com"}, "X-Forwarded-Port":[]string{"443"}, "X-Forwarded-Proto":[]string{"https"}, "X-Forwarded-Scheme":[]string{"https"}, "X-Real-Ip":[]string{"172.23.20.6"}, "X-Request-Id":[]string{"257606c8-43d3-49f3-8c77-1352c0cc2a56"}, "X-Scheme":[]string{"https"}}
{"level":"debug","x-request-id":"257606c8-43d3-49f3-8c77-1352c0cc2a56","trace-id":"","span-id":"","time":"2024-04-03T10:25:36+05:00","message":"authn.cookie process"}
{"level":"debug","x-request-id":"257606c8-43d3-49f3-8c77-1352c0cc2a56","trace-id":"","span-id":"","time":"2024-04-03T10:25:36+05:00","message":"authn.cookie try to get store /session/1232121312213213213"}
{"level":"debug","x-request-id":"257606c8-43d3-49f3-8c77-1352c0cc2a56","trace-id":"","span-id":"","time":"2024-04-03T10:25:36+05:00","message":"jwt.check process"}
{"level":"error","x-request-id":"257606c8-43d3-49f3-8c77-1352c0cc2a56","trace-id":"","span-id":"","time":"2024-04-03T10:25:36+05:00","message":"jwt.check failedmissing token"}
HDR http.Header{"Accept":[]string{"*/*"}, "Accept-Encoding":[]string{"gzip, deflate"}, "Content-Length":[]string{"0"}, "Content-Type":[]string{"application/json"}, "User-Agent":[]string{"python-requests/2.31.0"}, "X-Forwarded-For":[]string{"10.233.100.0, 10.233.126.141"}, "X-Forwarded-Host":[]string{"dev-apigw.fortebank.com"}, "X-Forwarded-Port":[]string{"443"}, "X-Forwarded-Proto":[]string{"https"}, "X-Forwarded-Scheme":[]string{"https"}, "X-Real-Ip":[]string{"10.233.100.0"}, "X-Request-Id":[]string{"c81e26b4-ae1b-4141-bd33-b249d6222eac"}, "X-Scheme":[]string{"https"}}
{"level":"debug","x-request-id":"c81e26b4-ae1b-4141-bd33-b249d6222eac","trace-id":"","span-id":"","time":"2024-04-03T10:25:37+05:00","message":"authn.cookie not found"}
{"level":"debug","x-request-id":"c81e26b4-ae1b-4141-bd33-b249d6222eac","trace-id":"","span-id":"","time":"2024-04-03T10:25:37+05:00","message":"jwt.check process"}
{"level":"error","x-request-id":"c81e26b4-ae1b-4141-bd33-b249d6222eac","trace-id":"","span-id":"","time":"2024-04-03T10:25:37+05:00","message":"jwt.check failedmissing token"}
{"level":"debug","x-request-id":"e8920472ac1158613c48edcf4e4fff76","time":"2024-04-03T10:25:38+05:00","message":"information handler: 0x2165040 method: GET url: /favicon.ico"}
{"level":"info","time":"2024-04-03T10:25:38+05:00","message":"not found handler url: /favicon.ico"}
{"level":"info","client_ctn":"","client_tin":"","endpoint":"unknown","http_addr":"172.23.20.6","http_code":404,"http_method":"GET","http_rsptime":0.001061057,"http_uri":"/favicon.ico","x-request-id":"e8920472ac1158613c48edcf4e4fff76","time":"2024-04-03T10:25:38+05:00"}
HDR http.Header{"Accept":[]string{"*/*"}, "Accept-Encoding":[]string{"gzip, deflate"}, "Content-Length":[]string{"378"}, "Content-Type":[]string{"application/json"}, "User-Agent":[]string{"python-requests/2.31.0"}, "X-Forwarded-For":[]string{"172.23.20.6, 10.233.126.141"}, "X-Forwarded-Host":[]string{"dev-apigw.fortebank.com"}, "X-Forwarded-Port":[]string{"443"}, "X-Forwarded-Proto":[]string{"https"}, "X-Forwarded-Scheme":[]string{"https"}, "X-Real-Ip":[]string{"172.23.20.6"}, "X-Request-Id":[]string{"abcc3a8c-0507-4d43-87a0-ac7482e4d611"}, "X-Scheme":[]string{"https"}}
{"level":"debug","x-request-id":"abcc3a8c-0507-4d43-87a0-ac7482e4d611","trace-id":"","span-id":"","time":"2024-04-03T10:25:41+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"abcc3a8c-0507-4d43-87a0-ac7482e4d611","trace-id":"","span-id":"","time":"2024-04-03T10:25:41+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Login"}
{"level":"debug","x-request-id":"abcc3a8c-0507-4d43-87a0-ac7482e4d611","trace-id":"","span-id":"","time":"2024-04-03T10:25:41+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"debug","x-request-id":"abcc3a8c-0507-4d43-87a0-ac7482e4d611","trace-id":"","span-id":"","time":"2024-04-03T10:25:41+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"debug","x-request-id":"abcc3a8c-0507-4d43-87a0-ac7482e4d611","trace-id":"","span-id":"","time":"2024-04-03T10:25:41+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"debug","x-request-id":"abcc3a8c-0507-4d43-87a0-ac7482e4d611","trace-id":"","span-id":"","time":"2024-04-03T10:25:41+05:00","message":"header.cors try to set Access-Control-Allow-Origin with [*]"}
{"level":"debug","x-request-id":"abcc3a8c-0507-4d43-87a0-ac7482e4d611","trace-id":"","span-id":"","time":"2024-04-03T10:25:41+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"info","x-request-id":"abcc3a8c-0507-4d43-87a0-ac7482e4d611","trace-id":"","span-id":"","time":"2024-04-03T10:25:41+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"abcc3a8c-0507-4d43-87a0-ac7482e4d611","trace-id":"","span-id":"","time":"2024-04-03T10:25:41+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"abcc3a8c-0507-4d43-87a0-ac7482e4d611","trace-id":"","span-id":"","time":"2024-04-03T10:25:41+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"abcc3a8c-0507-4d43-87a0-ac7482e4d611","trace-id":"","span-id":"","time":"2024-04-03T10:25:41+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"abcc3a8c-0507-4d43-87a0-ac7482e4d611","trace-id":"","span-id":"","time":"2024-04-03T10:25:41+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"abcc3a8c-0507-4d43-87a0-ac7482e4d611","trace-id":"","span-id":"","time":"2024-04-03T10:25:41+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"abcc3a8c-0507-4d43-87a0-ac7482e4d611","trace-id":"","span-id":"","time":"2024-04-03T10:25:41+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"abcc3a8c-0507-4d43-87a0-ac7482e4d611","trace-id":"","span-id":"","time":"2024-04-03T10:25:41+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"abcc3a8c-0507-4d43-87a0-ac7482e4d611","trace-id":"","span-id":"","time":"2024-04-03T10:25:41+05:00","message":"start to proxy url: /authn.AuthnService/v1/login via http://authn-service:80"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"abcc3a8c-0507-4d43-87a0-ac7482e4d611","trace-id":"","span-id":"","time":"2024-04-03T10:25:41+05:00","message":"stop to proxy url: /authn.AuthnService/v1/login via http://authn-service:80"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"abcc3a8c-0507-4d43-87a0-ac7482e4d611","trace-id":"","span-id":"","time":"2024-04-03T10:25:41+05:00","message":"skip hook authn.cookie"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"abcc3a8c-0507-4d43-87a0-ac7482e4d611","trace-id":"","span-id":"","time":"2024-04-03T10:25:41+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"abcc3a8c-0507-4d43-87a0-ac7482e4d611","trace-id":"","span-id":"","time":"2024-04-03T10:25:41+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"abcc3a8c-0507-4d43-87a0-ac7482e4d611","trace-id":"","span-id":"","time":"2024-04-03T10:25:41+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"abcc3a8c-0507-4d43-87a0-ac7482e4d611","trace-id":"","span-id":"","time":"2024-04-03T10:25:41+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"abcc3a8c-0507-4d43-87a0-ac7482e4d611","trace-id":"","span-id":"","time":"2024-04-03T10:25:41+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"abcc3a8c-0507-4d43-87a0-ac7482e4d611","trace-id":"","span-id":"","time":"2024-04-03T10:25:41+05:00","message":"skip hook jwt.check"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"abcc3a8c-0507-4d43-87a0-ac7482e4d611","trace-id":"","span-id":"","time":"2024-04-03T10:25:41+05:00","message":"run hook header.cors"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"abcc3a8c-0507-4d43-87a0-ac7482e4d611","trace-id":"","span-id":"","time":"2024-04-03T10:25:41+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"abcc3a8c-0507-4d43-87a0-ac7482e4d611","trace-id":"","span-id":"","time":"2024-04-03T10:25:41+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"abcc3a8c-0507-4d43-87a0-ac7482e4d611","trace-id":"","span-id":"","time":"2024-04-03T10:25:41+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"abcc3a8c-0507-4d43-87a0-ac7482e4d611","trace-id":"","span-id":"","time":"2024-04-03T10:25:41+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"abcc3a8c-0507-4d43-87a0-ac7482e4d611","trace-id":"","span-id":"","time":"2024-04-03T10:25:41+05:00","message":"header.cors try to set Access-Control-Allow-Origin with [*]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"abcc3a8c-0507-4d43-87a0-ac7482e4d611","trace-id":"","span-id":"","time":"2024-04-03T10:25:41+05:00","message":"end hook header.cors"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"abcc3a8c-0507-4d43-87a0-ac7482e4d611","trace-id":"","span-id":"","time":"2024-04-03T10:25:41+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"abcc3a8c-0507-4d43-87a0-ac7482e4d611","trace-id":"","span-id":"","time":"2024-04-03T10:25:41+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"abcc3a8c-0507-4d43-87a0-ac7482e4d611","trace-id":"","span-id":"","time":"2024-04-03T10:25:41+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"abcc3a8c-0507-4d43-87a0-ac7482e4d611","trace-id":"","span-id":"","time":"2024-04-03T10:25:41+05:00","message":"skip hook jwt.extract"}
{"level":"debug","x-request-id":"a203c394-c6a2-483d-b355-63ce9c1c2707","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"authn.cookie not found"}
HDR http.Header{"Accept":[]string{"*/*"}, "Accept-Encoding":[]string{"gzip, deflate"}, "Content-Length":[]string{"426"}, "Content-Type":[]string{"application/json"}, "User-Agent":[]string{"python-requests/2.31.0"}, "X-Forwarded-For":[]string{"172.23.20.6, 10.233.126.141"}, "X-Forwarded-Host":[]string{"dev-apigw.fortebank.com"}, "X-Forwarded-Port":[]string{"443"}, "X-Forwarded-Proto":[]string{"https"}, "X-Forwarded-Scheme":[]string{"https"}, "X-Real-Ip":[]string{"172.23.20.6"}, "X-Request-Id":[]string{"a203c394-c6a2-483d-b355-63ce9c1c2707"}, "X-Scheme":[]string{"https"}}
{"level":"info","x-request-id":"a203c394-c6a2-483d-b355-63ce9c1c2707","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Login"}
{"level":"debug","x-request-id":"a203c394-c6a2-483d-b355-63ce9c1c2707","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"header.cors try to set Access-Control-Allow-Origin with [*]"}
{"level":"debug","x-request-id":"a203c394-c6a2-483d-b355-63ce9c1c2707","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"debug","x-request-id":"a203c394-c6a2-483d-b355-63ce9c1c2707","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"debug","x-request-id":"a203c394-c6a2-483d-b355-63ce9c1c2707","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"debug","x-request-id":"a203c394-c6a2-483d-b355-63ce9c1c2707","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"info","x-request-id":"a203c394-c6a2-483d-b355-63ce9c1c2707","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"a203c394-c6a2-483d-b355-63ce9c1c2707","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"a203c394-c6a2-483d-b355-63ce9c1c2707","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"a203c394-c6a2-483d-b355-63ce9c1c2707","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"a203c394-c6a2-483d-b355-63ce9c1c2707","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"a203c394-c6a2-483d-b355-63ce9c1c2707","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"a203c394-c6a2-483d-b355-63ce9c1c2707","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"a203c394-c6a2-483d-b355-63ce9c1c2707","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"a203c394-c6a2-483d-b355-63ce9c1c2707","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"start to proxy url: /authn.AuthnService/v1/login via http://authn-service:80"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"a203c394-c6a2-483d-b355-63ce9c1c2707","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"stop to proxy url: /authn.AuthnService/v1/login via http://authn-service:80"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"a203c394-c6a2-483d-b355-63ce9c1c2707","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"skip hook authn.cookie"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"a203c394-c6a2-483d-b355-63ce9c1c2707","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"a203c394-c6a2-483d-b355-63ce9c1c2707","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"a203c394-c6a2-483d-b355-63ce9c1c2707","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"a203c394-c6a2-483d-b355-63ce9c1c2707","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"a203c394-c6a2-483d-b355-63ce9c1c2707","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"a203c394-c6a2-483d-b355-63ce9c1c2707","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"skip hook jwt.check"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"a203c394-c6a2-483d-b355-63ce9c1c2707","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"run hook header.cors"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"a203c394-c6a2-483d-b355-63ce9c1c2707","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"a203c394-c6a2-483d-b355-63ce9c1c2707","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"a203c394-c6a2-483d-b355-63ce9c1c2707","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"a203c394-c6a2-483d-b355-63ce9c1c2707","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"header.cors try to set Access-Control-Allow-Origin with [*]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"a203c394-c6a2-483d-b355-63ce9c1c2707","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"a203c394-c6a2-483d-b355-63ce9c1c2707","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"end hook header.cors"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"a203c394-c6a2-483d-b355-63ce9c1c2707","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"a203c394-c6a2-483d-b355-63ce9c1c2707","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"a203c394-c6a2-483d-b355-63ce9c1c2707","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"a203c394-c6a2-483d-b355-63ce9c1c2707","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"skip hook jwt.extract"}
HDR http.Header{"Accept":[]string{"*/*"}, "Accept-Encoding":[]string{"gzip, deflate"}, "Content-Length":[]string{"1467"}, "Content-Type":[]string{"application/json"}, "User-Agent":[]string{"python-requests/2.31.0"}, "X-Forwarded-For":[]string{"172.23.20.6, 10.233.126.141"}, "X-Forwarded-Host":[]string{"dev-apigw.fortebank.com"}, "X-Forwarded-Port":[]string{"443"}, "X-Forwarded-Proto":[]string{"https"}, "X-Forwarded-Scheme":[]string{"https"}, "X-Real-Ip":[]string{"172.23.20.6"}, "X-Request-Id":[]string{"78354de5-0aa1-4172-9603-d528093bcdb0"}, "X-Scheme":[]string{"https"}}
{"level":"debug","x-request-id":"78354de5-0aa1-4172-9603-d528093bcdb0","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"78354de5-0aa1-4172-9603-d528093bcdb0","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Token"}
{"level":"debug","x-request-id":"78354de5-0aa1-4172-9603-d528093bcdb0","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"debug","x-request-id":"78354de5-0aa1-4172-9603-d528093bcdb0","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"debug","x-request-id":"78354de5-0aa1-4172-9603-d528093bcdb0","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"debug","x-request-id":"78354de5-0aa1-4172-9603-d528093bcdb0","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"debug","x-request-id":"78354de5-0aa1-4172-9603-d528093bcdb0","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"header.cors try to set Access-Control-Allow-Origin with [*]"}
{"level":"info","x-request-id":"78354de5-0aa1-4172-9603-d528093bcdb0","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"78354de5-0aa1-4172-9603-d528093bcdb0","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"78354de5-0aa1-4172-9603-d528093bcdb0","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"78354de5-0aa1-4172-9603-d528093bcdb0","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"78354de5-0aa1-4172-9603-d528093bcdb0","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"78354de5-0aa1-4172-9603-d528093bcdb0","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"78354de5-0aa1-4172-9603-d528093bcdb0","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"78354de5-0aa1-4172-9603-d528093bcdb0","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"78354de5-0aa1-4172-9603-d528093bcdb0","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"start to proxy url: /authn.AuthnService/v1/oauth/token via http://authn-service:80"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"78354de5-0aa1-4172-9603-d528093bcdb0","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"stop to proxy url: /authn.AuthnService/v1/oauth/token via http://authn-service:80"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"78354de5-0aa1-4172-9603-d528093bcdb0","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"skip hook authn.cookie"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"78354de5-0aa1-4172-9603-d528093bcdb0","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"78354de5-0aa1-4172-9603-d528093bcdb0","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"78354de5-0aa1-4172-9603-d528093bcdb0","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"78354de5-0aa1-4172-9603-d528093bcdb0","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"78354de5-0aa1-4172-9603-d528093bcdb0","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"78354de5-0aa1-4172-9603-d528093bcdb0","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"skip hook jwt.check"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"78354de5-0aa1-4172-9603-d528093bcdb0","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"run hook header.cors"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"78354de5-0aa1-4172-9603-d528093bcdb0","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"78354de5-0aa1-4172-9603-d528093bcdb0","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"78354de5-0aa1-4172-9603-d528093bcdb0","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"78354de5-0aa1-4172-9603-d528093bcdb0","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"78354de5-0aa1-4172-9603-d528093bcdb0","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"end hook header.cors"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"78354de5-0aa1-4172-9603-d528093bcdb0","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"78354de5-0aa1-4172-9603-d528093bcdb0","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"78354de5-0aa1-4172-9603-d528093bcdb0","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"78354de5-0aa1-4172-9603-d528093bcdb0","trace-id":"","span-id":"","time":"2024-04-03T10:25:45+05:00","message":"skip hook jwt.extract"}
HDR http.Header{"Accept":[]string{"*/*"}, "Accept-Encoding":[]string{"gzip, deflate"}, "Content-Length":[]string{"0"}, "Content-Type":[]string{"application/json"}, "Cookie":[]string{"session_id=2304a37f-fdbb-4484-864f-6c5ca6571524"}, "User-Agent":[]string{"python-requests/2.31.0"}, "X-Forwarded-For":[]string{"172.23.20.6, 10.233.126.141"}, "X-Forwarded-Host":[]string{"dev-apigw.fortebank.com"}, "X-Forwarded-Port":[]string{"443"}, "X-Forwarded-Proto":[]string{"https"}, "X-Forwarded-Scheme":[]string{"https"}, "X-Real-Ip":[]string{"172.23.20.6"}, "X-Request-Id":[]string{"8bfe0a82-f544-4701-a0eb-712c8f041c84"}, "X-Scheme":[]string{"https"}}
{"level":"debug","x-request-id":"8bfe0a82-f544-4701-a0eb-712c8f041c84","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"authn.cookie process"}
{"level":"debug","x-request-id":"8bfe0a82-f544-4701-a0eb-712c8f041c84","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"authn.cookie try to get store /session/2304a37f-fdbb-4484-864f-6c5ca6571524"}
{"level":"debug","x-request-id":"8bfe0a82-f544-4701-a0eb-712c8f041c84","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"authn.cookie try to get store /session/2304a37f-fdbb-4484-864f-6c5ca6571524/attrs"}
{"level":"debug","x-request-id":"8bfe0a82-f544-4701-a0eb-712c8f041c84","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"authn.cookie set token to eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwOi8vZGV2LWFwaWd3LWdycGMuZm9ydGViYW5rLmNvbSIsInN1YiI6IjI1IiwiZXhwIjoxNzEyMTIyODQ1LCJuYmYiOjE3MTIxMjE5NDUsImlhdCI6MTcxMjEyMTk0NSwianRpIjoiY2JmZmQwZTQtYjIzZS00YjZiLWJkM2MtM2Q2MGIyMjEzODViIiwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbIm1pYl91c2VyIl19LCJjdXN0b20iOnsiY2xpZW50X2lkIjoiYmVlbGluZV9leHByZXNzIiwibm9uY2UiOiJjdnpsYm95c2tjdWJmYW4iLCJwaG9uZSI6Iis3NzA1NTU1MjkyOCIsInNjb3BlIjoib2ZmbGluZV9hY2Nlc3MiLCJ0b2tlbl90eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcl9hY3Rpb24iOiJyZWdpc3RyYXRpb24iLCJ1c2VyX3JvbGVzIjpbIm1pYl91c2VyIl0sInVzZXJuYW1lIjoiOTEwOTE5MzAwMzYzIn19.SHY84QH74tuazlqtZ-B-ucRc2v3-oq3ubbQ7wra3jKuRTI9q58_Ze9HG1gBFvYjF7xK5jaBCwL1zgsJRCWGffiFqSS0HAGTzobFbVZxlZDmxPuTB1XFNQOcbLIAKaDvSCRtwVt-21YIITa_BNTK4BEIhK3rEk0-idaCTX5eiWxDJqeCdZOKfONFeNKtwi5psvYWbWQQGuv_HKDBBSm0rW6CF2lggMlNvS-aH1kD_HylXnsiD1DmX9yGXpTnAL1R8TYtzVwXCGGDYqaDsvBaYbDqXYcZlIlbvIrRbUmrzC0wO_-kdMIIzJR27Q_4joaV6aqIyjQ29_jZjtU66W9ATiw"}
{"level":"debug","x-request-id":"8bfe0a82-f544-4701-a0eb-712c8f041c84","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"8bfe0a82-f544-4701-a0eb-712c8f041c84","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"beeline_express\", \"nonce\":\"cvzlboyskcubfan\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712122845e+09, \"iat\":1.712121945e+09, \"iss\":\"http://dev-apigw-grpc.fortebank.com\", \"jti\":\"cbffd0e4-b23e-4b6b-bd3c-3d60b221385b\", \"nbf\":1.712121945e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"debug","x-request-id":"8bfe0a82-f544-4701-a0eb-712c8f041c84","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"debug","x-request-id":"8bfe0a82-f544-4701-a0eb-712c8f041c84","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"debug","x-request-id":"8bfe0a82-f544-4701-a0eb-712c8f041c84","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"header.cors try to set Access-Control-Allow-Origin with [*]"}
{"level":"debug","x-request-id":"8bfe0a82-f544-4701-a0eb-712c8f041c84","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"debug","x-request-id":"8bfe0a82-f544-4701-a0eb-712c8f041c84","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"info","x-request-id":"8bfe0a82-f544-4701-a0eb-712c8f041c84","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"8bfe0a82-f544-4701-a0eb-712c8f041c84","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"beeline_express\", \"nonce\":\"cvzlboyskcubfan\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712122845e+09, \"iat\":1.712121945e+09, \"iss\":\"http://dev-apigw-grpc.fortebank.com\", \"jti\":\"cbffd0e4-b23e-4b6b-bd3c-3d60b221385b\", \"nbf\":1.712121945e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"8bfe0a82-f544-4701-a0eb-712c8f041c84","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"jwt.extract set User-Id to 25"}
{"level":"info","x-request-id":"8bfe0a82-f544-4701-a0eb-712c8f041c84","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"8bfe0a82-f544-4701-a0eb-712c8f041c84","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"beeline_express\", \"nonce\":\"cvzlboyskcubfan\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712122845e+09, \"iat\":1.712121945e+09, \"iss\":\"http://dev-apigw-grpc.fortebank.com\", \"jti\":\"cbffd0e4-b23e-4b6b-bd3c-3d60b221385b\", \"nbf\":1.712121945e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"8bfe0a82-f544-4701-a0eb-712c8f041c84","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"8bfe0a82-f544-4701-a0eb-712c8f041c84","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"beeline_express\", \"nonce\":\"cvzlboyskcubfan\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712122845e+09, \"iat\":1.712121945e+09, \"iss\":\"http://dev-apigw-grpc.fortebank.com\", \"jti\":\"cbffd0e4-b23e-4b6b-bd3c-3d60b221385b\", \"nbf\":1.712121945e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"8bfe0a82-f544-4701-a0eb-712c8f041c84","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"jwt.extract set Username to 910919300363"}
{"level":"info","x-request-id":"8bfe0a82-f544-4701-a0eb-712c8f041c84","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"8bfe0a82-f544-4701-a0eb-712c8f041c84","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"beeline_express\", \"nonce\":\"cvzlboyskcubfan\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712122845e+09, \"iat\":1.712121945e+09, \"iss\":\"http://dev-apigw-grpc.fortebank.com\", \"jti\":\"cbffd0e4-b23e-4b6b-bd3c-3d60b221385b\", \"nbf\":1.712121945e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"8bfe0a82-f544-4701-a0eb-712c8f041c84","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"jwt.extract set Phone to +77055552928"}
{"level":"info","x-request-id":"8bfe0a82-f544-4701-a0eb-712c8f041c84","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"8bfe0a82-f544-4701-a0eb-712c8f041c84","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"beeline_express\", \"nonce\":\"cvzlboyskcubfan\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712122845e+09, \"iat\":1.712121945e+09, \"iss\":\"http://dev-apigw-grpc.fortebank.com\", \"jti\":\"cbffd0e4-b23e-4b6b-bd3c-3d60b221385b\", \"nbf\":1.712121945e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"8bfe0a82-f544-4701-a0eb-712c8f041c84","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"jwt.extract set otp_datetime to 1712121945"}
{"level":"info","x-request-id":"8bfe0a82-f544-4701-a0eb-712c8f041c84","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"8bfe0a82-f544-4701-a0eb-712c8f041c84","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"beeline_express\", \"nonce\":\"cvzlboyskcubfan\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712122845e+09, \"iat\":1.712121945e+09, \"iss\":\"http://dev-apigw-grpc.fortebank.com\", \"jti\":\"cbffd0e4-b23e-4b6b-bd3c-3d60b221385b\", \"nbf\":1.712121945e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"8bfe0a82-f544-4701-a0eb-712c8f041c84","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"jwt.extract set username to 910919300363"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"8bfe0a82-f544-4701-a0eb-712c8f041c84","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"httpConnAdd /clientpass.ClientpassService/StartClientPass 8bfe0a82-f544-4701-a0eb-712c8f041c84"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"8bfe0a82-f544-4701-a0eb-712c8f041c84","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"start to proxy url: /clientpass.ClientpassService via client.clientpass.startclientpass.in"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"8bfe0a82-f544-4701-a0eb-712c8f041c84","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"start to proxy url: /clientpass.ClientpassService via client.clientpass.startclientpass.in"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"8bfe0a82-f544-4701-a0eb-712c8f041c84","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"brokerClientStream brokerClientStream SendMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"8bfe0a82-f544-4701-a0eb-712c8f041c84","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"brokerClientStream try to publish to client.clientpass.startclientpass.in msg with hdr: metadata.Metadata{\"Accept-Encoding\":\"gzip, deflate\", \"Access-Control-Allow-Credentials\":\"true\", \"Access-Control-Allow-Headers\":\"X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext\", \"Access-Control-Allow-Methods\":\"GET, POST, PUT, DELETE, OPTIONS\", \"Access-Control-Allow-Origin\":\"*\", \"Access-Control-Max-Age\":\"3600\", \"Authorization\":\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwOi8vZGV2LWFwaWd3LWdycGMuZm9ydGViYW5rLmNvbSIsInN1YiI6IjI1IiwiZXhwIjoxNzEyMTIyODQ1LCJuYmYiOjE3MTIxMjE5NDUsImlhdCI6MTcxMjEyMTk0NSwianRpIjoiY2JmZmQwZTQtYjIzZS00YjZiLWJkM2MtM2Q2MGIyMjEzODViIiwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbIm1pYl91c2VyIl19LCJjdXN0b20iOnsiY2xpZW50X2lkIjoiYmVlbGluZV9leHByZXNzIiwibm9uY2UiOiJjdnpsYm95c2tjdWJmYW4iLCJwaG9uZSI6Iis3NzA1NTU1MjkyOCIsInNjb3BlIjoib2ZmbGluZV9hY2Nlc3MiLCJ0b2tlbl90eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcl9hY3Rpb24iOiJyZWdpc3RyYXRpb24iLCJ1c2VyX3JvbGVzIjpbIm1pYl91c2VyIl0sInVzZXJuYW1lIjoiOTEwOTE5MzAwMzYzIn19.SHY84QH74tuazlqtZ-B-ucRc2v3-oq3ubbQ7wra3jKuRTI9q58_Ze9HG1gBFvYjF7xK5jaBCwL1zgsJRCWGffiFqSS0HAGTzobFbVZxlZDmxPuTB1XFNQOcbLIAKaDvSCRtwVt-21YIITa_BNTK4BEIhK3rEk0-idaCTX5eiWxDJqeCdZOKfONFeNKtwi5psvYWbWQQGuv_HKDBBSm0rW6CF2lggMlNvS-aH1kD_HylXnsiD1DmX9yGXpTnAL1R8TYtzVwXCGGDYqaDsvBaYbDqXYcZlIlbvIrRbUmrzC0wO_-kdMIIzJR27Q_4joaV6aqIyjQ29_jZjtU66W9ATiw\", \"Client-Ip\":\"172.23.20.6\", \"Content-Type\":\"application/json\", \"Otp_datetime\":\"1712121945\", \"Phone\":\"+77055552928\", \"Source-Service\":\"/clientpass.ClientpassService/StartClientPass\", \"User-Id\":\"25\", \"Username\":\"910919300363\", \"Vary\":\"Origin\", \"X-Forwarded-For\":\"172.23.20.6, 10.233.126.141\", \"X-Forwarded-Port\":\"443\", \"X-Real-Ip\":\"172.23.20.6\", \"X-Request-Id\":\"8bfe0a82-f544-4701-a0eb-712c8f041c84\"}"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"8bfe0a82-f544-4701-a0eb-712c8f041c84","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"info","X-Request-Id":"8bfe0a82-f544-4701-a0eb-712c8f041c84","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"get message for service: /clientpass.ClientpassService/StartClientPass with md map[Accept-Encoding:gzip, deflate Access-Control-Allow-Credentials:true Access-Control-Allow-Headers:X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext Access-Control-Allow-Methods:GET, POST, PUT, DELETE, OPTIONS Access-Control-Allow-Origin:* Access-Control-Max-Age:3600 Authorization:Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwOi8vZGV2LWFwaWd3LWdycGMuZm9ydGViYW5rLmNvbSIsInN1YiI6IjI1IiwiZXhwIjoxNzEyMTIyODQ1LCJuYmYiOjE3MTIxMjE5NDUsImlhdCI6MTcxMjEyMTk0NSwianRpIjoiY2JmZmQwZTQtYjIzZS00YjZiLWJkM2MtM2Q2MGIyMjEzODViIiwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbIm1pYl91c2VyIl19LCJjdXN0b20iOnsiY2xpZW50X2lkIjoiYmVlbGluZV9leHByZXNzIiwibm9uY2UiOiJjdnpsYm95c2tjdWJmYW4iLCJwaG9uZSI6Iis3NzA1NTU1MjkyOCIsInNjb3BlIjoib2ZmbGluZV9hY2Nlc3MiLCJ0b2tlbl90eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcl9hY3Rpb24iOiJyZWdpc3RyYXRpb24iLCJ1c2VyX3JvbGVzIjpbIm1pYl91c2VyIl0sInVzZXJuYW1lIjoiOTEwOTE5MzAwMzYzIn19.SHY84QH74tuazlqtZ-B-ucRc2v3-oq3ubbQ7wra3jKuRTI9q58_Ze9HG1gBFvYjF7xK5jaBCwL1zgsJRCWGffiFqSS0HAGTzobFbVZxlZDmxPuTB1XFNQOcbLIAKaDvSCRtwVt-21YIITa_BNTK4BEIhK3rEk0-idaCTX5eiWxDJqeCdZOKfONFeNKtwi5psvYWbWQQGuv_HKDBBSm0rW6CF2lggMlNvS-aH1kD_HylXnsiD1DmX9yGXpTnAL1R8TYtzVwXCGGDYqaDsvBaYbDqXYcZlIlbvIrRbUmrzC0wO_-kdMIIzJR27Q_4joaV6aqIyjQ29_jZjtU66W9ATiw Client-Ip:172.23.20.6 Content-Type:application/json Micro-Topic:apigw.in Otp_datetime:1712121945 Phone:+77055552928 Source-Service:/clientpass.ClientpassService/StartClientPass Uber-Trace-Id:649fa190e9e1d2bc:26246c2a2eb750cd:08cee49b9b68cb14:1 User-Id:25 Username:910919300363 Vary:Origin X-Forwarded-For:172.23.20.6, 10.233.126.141 X-Forwarded-Port:443 X-Real-Ip:172.23.20.6 X-Request-Id:8bfe0a82-f544-4701-a0eb-712c8f041c84]"}
{"level":"debug","x-request-id":"8bfe0a82-f544-4701-a0eb-712c8f041c84","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"httpConnGet: /clientpass.ClientpassService/StartClientPass via 8bfe0a82-f544-4701-a0eb-712c8f041c84"}
{"level":"debug","x-request-id":"8bfe0a82-f544-4701-a0eb-712c8f041c84","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"http use stream conn: &handler.httpProxy{httpStream:(*handler.httpServerStream)(0xc000944530), kafkaStream:(*handler.brokerClientStream)(0xc0004d60f0)} sourceService: /clientpass.ClientpassService/StartClientPass"}
{"level":"info","x-request-id":"8bfe0a82-f544-4701-a0eb-712c8f041c84","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"start transfer response from kafka"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"8bfe0a82-f544-4701-a0eb-712c8f041c84","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"brokerClientStream SetHeader method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"8bfe0a82-f544-4701-a0eb-712c8f041c84","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"brokerClientStream SetMsg method"}
{"level":"info","x-request-id":"8bfe0a82-f544-4701-a0eb-712c8f041c84","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"stop transfer response from kafka"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"8bfe0a82-f544-4701-a0eb-712c8f041c84","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"brokerClientStream RecvMsg method data"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"8bfe0a82-f544-4701-a0eb-712c8f041c84","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"stop to proxy url: /clientpass.ClientpassService via client.clientpass.startclientpass.in"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"8bfe0a82-f544-4701-a0eb-712c8f041c84","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"httpConnDel /clientpass.ClientpassService/StartClientPass 8bfe0a82-f544-4701-a0eb-712c8f041c84"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"8bfe0a82-f544-4701-a0eb-712c8f041c84","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"brokerClientStream Header method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"8bfe0a82-f544-4701-a0eb-712c8f041c84","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"brokerClientStream Close method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"8bfe0a82-f544-4701-a0eb-712c8f041c84","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"return rsp &http.Response{Status:\"\", StatusCode:200, Proto:\"HTTP/1.1\", ProtoMajor:1, ProtoMinor:1, Header:http.Header{\"Accept-Encoding\":[]string{\"gzip, deflate\"}, \"Access-Control-Allow-Credentials\":[]string{\"true\"}, \"Access-Control-Allow-Headers\":[]string{\"X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext\"}, \"Access-Control-Allow-Methods\":[]string{\"GET, POST, PUT, DELETE, OPTIONS\"}, \"Access-Control-Allow-Origin\":[]string{\"*\"}, \"Access-Control-Max-Age\":[]string{\"3600\"}, \"Content-Type\":[]string{\"application/json\"}, \"Vary\":[]string{\"Origin\"}, \"X-Request-Id\":[]string{\"8bfe0a82-f544-4701-a0eb-712c8f041c84\"}}, Body:io.nopCloserWriterTo{Reader:(*bytes.Reader)(0xc0006e1440)}, ContentLength:123, TransferEncoding:[]string(nil), Close:false, Uncompressed:false, Trailer:http.Header(nil), Request:(*http.Request)(0xc000af7200), TLS:(*tls.ConnectionState)(nil)}"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"8bfe0a82-f544-4701-a0eb-712c8f041c84","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"http handler exit"}
HDR http.Header{"Accept":[]string{"*/*"}, "Accept-Encoding":[]string{"gzip, deflate"}, "Content-Length":[]string{"55"}, "Content-Type":[]string{"application/json"}, "Cookie":[]string{"session_id=2304a37f-fdbb-4484-864f-6c5ca6571524"}, "User-Agent":[]string{"python-requests/2.31.0"}, "X-Forwarded-For":[]string{"172.23.20.6, 10.233.126.141"}, "X-Forwarded-Host":[]string{"dev-apigw.fortebank.com"}, "X-Forwarded-Port":[]string{"443"}, "X-Forwarded-Proto":[]string{"https"}, "X-Forwarded-Scheme":[]string{"https"}, "X-Real-Ip":[]string{"172.23.20.6"}, "X-Request-Id":[]string{"f4824897-d63e-4014-93ef-689d97a84592"}, "X-Scheme":[]string{"https"}}
{"level":"debug","x-request-id":"f4824897-d63e-4014-93ef-689d97a84592","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"authn.cookie process"}
{"level":"debug","x-request-id":"f4824897-d63e-4014-93ef-689d97a84592","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"authn.cookie try to get store /session/2304a37f-fdbb-4484-864f-6c5ca6571524"}
{"level":"debug","x-request-id":"f4824897-d63e-4014-93ef-689d97a84592","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"authn.cookie try to get store /session/2304a37f-fdbb-4484-864f-6c5ca6571524/attrs"}
{"level":"debug","x-request-id":"f4824897-d63e-4014-93ef-689d97a84592","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"authn.cookie set token to eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwOi8vZGV2LWFwaWd3LWdycGMuZm9ydGViYW5rLmNvbSIsInN1YiI6IjI1IiwiZXhwIjoxNzEyMTIyODQ1LCJuYmYiOjE3MTIxMjE5NDUsImlhdCI6MTcxMjEyMTk0NSwianRpIjoiY2JmZmQwZTQtYjIzZS00YjZiLWJkM2MtM2Q2MGIyMjEzODViIiwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbIm1pYl91c2VyIl19LCJjdXN0b20iOnsiY2xpZW50X2lkIjoiYmVlbGluZV9leHByZXNzIiwibm9uY2UiOiJjdnpsYm95c2tjdWJmYW4iLCJwaG9uZSI6Iis3NzA1NTU1MjkyOCIsInNjb3BlIjoib2ZmbGluZV9hY2Nlc3MiLCJ0b2tlbl90eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcl9hY3Rpb24iOiJyZWdpc3RyYXRpb24iLCJ1c2VyX3JvbGVzIjpbIm1pYl91c2VyIl0sInVzZXJuYW1lIjoiOTEwOTE5MzAwMzYzIn19.SHY84QH74tuazlqtZ-B-ucRc2v3-oq3ubbQ7wra3jKuRTI9q58_Ze9HG1gBFvYjF7xK5jaBCwL1zgsJRCWGffiFqSS0HAGTzobFbVZxlZDmxPuTB1XFNQOcbLIAKaDvSCRtwVt-21YIITa_BNTK4BEIhK3rEk0-idaCTX5eiWxDJqeCdZOKfONFeNKtwi5psvYWbWQQGuv_HKDBBSm0rW6CF2lggMlNvS-aH1kD_HylXnsiD1DmX9yGXpTnAL1R8TYtzVwXCGGDYqaDsvBaYbDqXYcZlIlbvIrRbUmrzC0wO_-kdMIIzJR27Q_4joaV6aqIyjQ29_jZjtU66W9ATiw"}
{"level":"info","x-request-id":"f4824897-d63e-4014-93ef-689d97a84592","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"jwt.check skip endpoint /authn.AuthnService/AccountUpdate"}
{"level":"debug","x-request-id":"f4824897-d63e-4014-93ef-689d97a84592","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"header.cors try to set Access-Control-Allow-Origin with [*]"}
{"level":"debug","x-request-id":"f4824897-d63e-4014-93ef-689d97a84592","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"debug","x-request-id":"f4824897-d63e-4014-93ef-689d97a84592","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"debug","x-request-id":"f4824897-d63e-4014-93ef-689d97a84592","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"debug","x-request-id":"f4824897-d63e-4014-93ef-689d97a84592","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"info","x-request-id":"f4824897-d63e-4014-93ef-689d97a84592","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"f4824897-d63e-4014-93ef-689d97a84592","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"f4824897-d63e-4014-93ef-689d97a84592","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"f4824897-d63e-4014-93ef-689d97a84592","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"f4824897-d63e-4014-93ef-689d97a84592","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"f4824897-d63e-4014-93ef-689d97a84592","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"f4824897-d63e-4014-93ef-689d97a84592","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"f4824897-d63e-4014-93ef-689d97a84592","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"f4824897-d63e-4014-93ef-689d97a84592","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"start to proxy url: /authn.AuthnService/v1/account via http://authn-service:80"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"f4824897-d63e-4014-93ef-689d97a84592","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"stop to proxy url: /authn.AuthnService/v1/account via http://authn-service:80"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f4824897-d63e-4014-93ef-689d97a84592","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"skip hook authn.cookie"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f4824897-d63e-4014-93ef-689d97a84592","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f4824897-d63e-4014-93ef-689d97a84592","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f4824897-d63e-4014-93ef-689d97a84592","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f4824897-d63e-4014-93ef-689d97a84592","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f4824897-d63e-4014-93ef-689d97a84592","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f4824897-d63e-4014-93ef-689d97a84592","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"skip hook jwt.check"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f4824897-d63e-4014-93ef-689d97a84592","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"run hook header.cors"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f4824897-d63e-4014-93ef-689d97a84592","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"header.cors try to set Access-Control-Allow-Origin with [*]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f4824897-d63e-4014-93ef-689d97a84592","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f4824897-d63e-4014-93ef-689d97a84592","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f4824897-d63e-4014-93ef-689d97a84592","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f4824897-d63e-4014-93ef-689d97a84592","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f4824897-d63e-4014-93ef-689d97a84592","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"end hook header.cors"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f4824897-d63e-4014-93ef-689d97a84592","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f4824897-d63e-4014-93ef-689d97a84592","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f4824897-d63e-4014-93ef-689d97a84592","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f4824897-d63e-4014-93ef-689d97a84592","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"skip hook jwt.extract"}
HDR http.Header{"Accept":[]string{"*/*"}, "Accept-Encoding":[]string{"gzip, deflate"}, "Content-Length":[]string{"56"}, "Content-Type":[]string{"application/json"}, "Cookie":[]string{"session_id=2304a37f-fdbb-4484-864f-6c5ca6571524"}, "User-Agent":[]string{"python-requests/2.31.0"}, "X-Forwarded-For":[]string{"172.23.20.6, 10.233.126.141"}, "X-Forwarded-Host":[]string{"dev-apigw.fortebank.com"}, "X-Forwarded-Port":[]string{"443"}, "X-Forwarded-Proto":[]string{"https"}, "X-Forwarded-Scheme":[]string{"https"}, "X-Real-Ip":[]string{"172.23.20.6"}, "X-Request-Id":[]string{"7fca2915-a752-46a3-8b93-d82a3e8427e8"}, "X-Scheme":[]string{"https"}}
{"level":"debug","x-request-id":"7fca2915-a752-46a3-8b93-d82a3e8427e8","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"authn.cookie process"}
{"level":"debug","x-request-id":"7fca2915-a752-46a3-8b93-d82a3e8427e8","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"authn.cookie try to get store /session/2304a37f-fdbb-4484-864f-6c5ca6571524"}
{"level":"debug","x-request-id":"7fca2915-a752-46a3-8b93-d82a3e8427e8","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"authn.cookie try to get store /session/2304a37f-fdbb-4484-864f-6c5ca6571524/attrs"}
{"level":"debug","x-request-id":"7fca2915-a752-46a3-8b93-d82a3e8427e8","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"authn.cookie set token to eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwOi8vZGV2LWFwaWd3LWdycGMuZm9ydGViYW5rLmNvbSIsInN1YiI6IjI1IiwiZXhwIjoxNzEyMTIyODQ1LCJuYmYiOjE3MTIxMjE5NDUsImlhdCI6MTcxMjEyMTk0NSwianRpIjoiY2JmZmQwZTQtYjIzZS00YjZiLWJkM2MtM2Q2MGIyMjEzODViIiwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbIm1pYl91c2VyIl19LCJjdXN0b20iOnsiY2xpZW50X2lkIjoiYmVlbGluZV9leHByZXNzIiwibm9uY2UiOiJjdnpsYm95c2tjdWJmYW4iLCJwaG9uZSI6Iis3NzA1NTU1MjkyOCIsInNjb3BlIjoib2ZmbGluZV9hY2Nlc3MiLCJ0b2tlbl90eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcl9hY3Rpb24iOiJyZWdpc3RyYXRpb24iLCJ1c2VyX3JvbGVzIjpbIm1pYl91c2VyIl0sInVzZXJuYW1lIjoiOTEwOTE5MzAwMzYzIn19.SHY84QH74tuazlqtZ-B-ucRc2v3-oq3ubbQ7wra3jKuRTI9q58_Ze9HG1gBFvYjF7xK5jaBCwL1zgsJRCWGffiFqSS0HAGTzobFbVZxlZDmxPuTB1XFNQOcbLIAKaDvSCRtwVt-21YIITa_BNTK4BEIhK3rEk0-idaCTX5eiWxDJqeCdZOKfONFeNKtwi5psvYWbWQQGuv_HKDBBSm0rW6CF2lggMlNvS-aH1kD_HylXnsiD1DmX9yGXpTnAL1R8TYtzVwXCGGDYqaDsvBaYbDqXYcZlIlbvIrRbUmrzC0wO_-kdMIIzJR27Q_4joaV6aqIyjQ29_jZjtU66W9ATiw"}
{"level":"info","x-request-id":"7fca2915-a752-46a3-8b93-d82a3e8427e8","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Token"}
{"level":"debug","x-request-id":"7fca2915-a752-46a3-8b93-d82a3e8427e8","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"debug","x-request-id":"7fca2915-a752-46a3-8b93-d82a3e8427e8","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"header.cors try to set Access-Control-Allow-Origin with [*]"}
{"level":"debug","x-request-id":"7fca2915-a752-46a3-8b93-d82a3e8427e8","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"debug","x-request-id":"7fca2915-a752-46a3-8b93-d82a3e8427e8","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"debug","x-request-id":"7fca2915-a752-46a3-8b93-d82a3e8427e8","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"info","x-request-id":"7fca2915-a752-46a3-8b93-d82a3e8427e8","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"7fca2915-a752-46a3-8b93-d82a3e8427e8","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"7fca2915-a752-46a3-8b93-d82a3e8427e8","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"7fca2915-a752-46a3-8b93-d82a3e8427e8","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"7fca2915-a752-46a3-8b93-d82a3e8427e8","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"7fca2915-a752-46a3-8b93-d82a3e8427e8","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"7fca2915-a752-46a3-8b93-d82a3e8427e8","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"7fca2915-a752-46a3-8b93-d82a3e8427e8","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"7fca2915-a752-46a3-8b93-d82a3e8427e8","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"start to proxy url: /authn.AuthnService/v1/oauth/token via http://authn-service:80"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"7fca2915-a752-46a3-8b93-d82a3e8427e8","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"stop to proxy url: /authn.AuthnService/v1/oauth/token via http://authn-service:80"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7fca2915-a752-46a3-8b93-d82a3e8427e8","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"skip hook authn.cookie"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7fca2915-a752-46a3-8b93-d82a3e8427e8","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7fca2915-a752-46a3-8b93-d82a3e8427e8","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7fca2915-a752-46a3-8b93-d82a3e8427e8","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7fca2915-a752-46a3-8b93-d82a3e8427e8","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7fca2915-a752-46a3-8b93-d82a3e8427e8","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7fca2915-a752-46a3-8b93-d82a3e8427e8","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"skip hook jwt.check"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7fca2915-a752-46a3-8b93-d82a3e8427e8","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"run hook header.cors"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7fca2915-a752-46a3-8b93-d82a3e8427e8","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7fca2915-a752-46a3-8b93-d82a3e8427e8","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7fca2915-a752-46a3-8b93-d82a3e8427e8","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7fca2915-a752-46a3-8b93-d82a3e8427e8","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7fca2915-a752-46a3-8b93-d82a3e8427e8","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"header.cors try to set Access-Control-Allow-Origin with [*]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7fca2915-a752-46a3-8b93-d82a3e8427e8","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"end hook header.cors"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7fca2915-a752-46a3-8b93-d82a3e8427e8","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7fca2915-a752-46a3-8b93-d82a3e8427e8","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7fca2915-a752-46a3-8b93-d82a3e8427e8","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7fca2915-a752-46a3-8b93-d82a3e8427e8","trace-id":"","span-id":"","time":"2024-04-03T10:25:46+05:00","message":"skip hook jwt.extract"}
HDR http.Header{"Accept":[]string{"*/*"}, "Accept-Encoding":[]string{"gzip, deflate"}, "Content-Length":[]string{"35"}, "Content-Type":[]string{"application/json"}, "Cookie":[]string{"session_id=2304a37f-fdbb-4484-864f-6c5ca6571524"}, "User-Agent":[]string{"python-requests/2.31.0"}, "X-Forwarded-For":[]string{"172.23.20.6, 10.233.126.141"}, "X-Forwarded-Host":[]string{"dev-apigw.fortebank.com"}, "X-Forwarded-Port":[]string{"443"}, "X-Forwarded-Proto":[]string{"https"}, "X-Forwarded-Scheme":[]string{"https"}, "X-Real-Ip":[]string{"172.23.20.6"}, "X-Request-Id":[]string{"286aea1c-7a4e-4685-b9a4-d56e51c030c7"}, "X-Scheme":[]string{"https"}}
{"level":"debug","x-request-id":"286aea1c-7a4e-4685-b9a4-d56e51c030c7","trace-id":"","span-id":"","time":"2024-04-03T10:25:47+05:00","message":"authn.cookie process"}
{"level":"debug","x-request-id":"286aea1c-7a4e-4685-b9a4-d56e51c030c7","trace-id":"","span-id":"","time":"2024-04-03T10:25:47+05:00","message":"authn.cookie try to get store /session/2304a37f-fdbb-4484-864f-6c5ca6571524"}
{"level":"debug","x-request-id":"286aea1c-7a4e-4685-b9a4-d56e51c030c7","trace-id":"","span-id":"","time":"2024-04-03T10:25:47+05:00","message":"authn.cookie try to get store /session/2304a37f-fdbb-4484-864f-6c5ca6571524/attrs"}
{"level":"debug","x-request-id":"286aea1c-7a4e-4685-b9a4-d56e51c030c7","trace-id":"","span-id":"","time":"2024-04-03T10:25:47+05:00","message":"authn.cookie set token to eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwOi8vZGV2LWFwaWd3LWdycGMuZm9ydGViYW5rLmNvbSIsInN1YiI6IjI1IiwiZXhwIjoxNzEyMTIyODQ2LCJuYmYiOjE3MTIxMjE5NDYsImlhdCI6MTcxMjEyMTk0NiwianRpIjoiNGE5YmY3ZGQtNTJjNy00MDc5LTkyMTgtODVlNDNhMTZlZjJhIiwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbIm1pYl91c2VyIl19LCJjdXN0b20iOnsiY2xpZW50X2lkIjoiYmVlbGluZV9leHByZXNzIiwiZXh0ZXJuYWxfaWQiOiI1MDExNjI0MTk3IiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJ0b2tlbl90eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcl9hY3Rpb24iOiJyZWdpc3RyYXRpb24iLCJ1c2VyX3JvbGVzIjpbIm1pYl91c2VyIl0sInVzZXJuYW1lIjoiOTEwOTE5MzAwMzYzIn19.iFnleMJ8mhhFvMQhYXplXePUSOsSzhorf3IPvml61oQ3tqCyvMnnd-ts2QSiLOerCwzsH_lXVIBIBpeXp9OgfTAWwD79T8CIIeKUTj_QUtEs-iTG6wvIh1WE-BShRDM309n4O3UMG7vEoKRhZcsTqX2wo4d-fkSVDxx4o7PLearWK1skPxVkBeWZOaJKMv9Z_xkCTHSi_rCRiCexZl3FZGXecIhAGGAWnzd3jaItJEqcFT9AxTwCf1t_Aua2EO5Smu3HAZrHUIOGuKr8ATAdqUt_MEzpdAhWTgRsRwq-2y8_bZKQhiMakg-VN37WEKtwTBr4-xvF0dk6VpsuVjS-Ng"}
{"level":"info","x-request-id":"286aea1c-7a4e-4685-b9a4-d56e51c030c7","trace-id":"","span-id":"","time":"2024-04-03T10:25:47+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Revoke"}
{"level":"debug","x-request-id":"286aea1c-7a4e-4685-b9a4-d56e51c030c7","trace-id":"","span-id":"","time":"2024-04-03T10:25:47+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"debug","x-request-id":"286aea1c-7a4e-4685-b9a4-d56e51c030c7","trace-id":"","span-id":"","time":"2024-04-03T10:25:47+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"debug","x-request-id":"286aea1c-7a4e-4685-b9a4-d56e51c030c7","trace-id":"","span-id":"","time":"2024-04-03T10:25:47+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"debug","x-request-id":"286aea1c-7a4e-4685-b9a4-d56e51c030c7","trace-id":"","span-id":"","time":"2024-04-03T10:25:47+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"debug","x-request-id":"286aea1c-7a4e-4685-b9a4-d56e51c030c7","trace-id":"","span-id":"","time":"2024-04-03T10:25:47+05:00","message":"header.cors try to set Access-Control-Allow-Origin with [*]"}
{"level":"info","x-request-id":"286aea1c-7a4e-4685-b9a4-d56e51c030c7","trace-id":"","span-id":"","time":"2024-04-03T10:25:47+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"286aea1c-7a4e-4685-b9a4-d56e51c030c7","trace-id":"","span-id":"","time":"2024-04-03T10:25:47+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"286aea1c-7a4e-4685-b9a4-d56e51c030c7","trace-id":"","span-id":"","time":"2024-04-03T10:25:47+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"286aea1c-7a4e-4685-b9a4-d56e51c030c7","trace-id":"","span-id":"","time":"2024-04-03T10:25:47+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"286aea1c-7a4e-4685-b9a4-d56e51c030c7","trace-id":"","span-id":"","time":"2024-04-03T10:25:47+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"286aea1c-7a4e-4685-b9a4-d56e51c030c7","trace-id":"","span-id":"","time":"2024-04-03T10:25:47+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"286aea1c-7a4e-4685-b9a4-d56e51c030c7","trace-id":"","span-id":"","time":"2024-04-03T10:25:47+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"286aea1c-7a4e-4685-b9a4-d56e51c030c7","trace-id":"","span-id":"","time":"2024-04-03T10:25:47+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"286aea1c-7a4e-4685-b9a4-d56e51c030c7","trace-id":"","span-id":"","time":"2024-04-03T10:25:47+05:00","message":"start to proxy url: /authn.AuthnService/v1/oauth/revoke via http://authn-service:80"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"286aea1c-7a4e-4685-b9a4-d56e51c030c7","trace-id":"","span-id":"","time":"2024-04-03T10:25:47+05:00","message":"stop to proxy url: /authn.AuthnService/v1/oauth/revoke via http://authn-service:80"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"286aea1c-7a4e-4685-b9a4-d56e51c030c7","trace-id":"","span-id":"","time":"2024-04-03T10:25:47+05:00","message":"skip hook authn.cookie"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"286aea1c-7a4e-4685-b9a4-d56e51c030c7","trace-id":"","span-id":"","time":"2024-04-03T10:25:47+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"286aea1c-7a4e-4685-b9a4-d56e51c030c7","trace-id":"","span-id":"","time":"2024-04-03T10:25:47+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"286aea1c-7a4e-4685-b9a4-d56e51c030c7","trace-id":"","span-id":"","time":"2024-04-03T10:25:47+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"286aea1c-7a4e-4685-b9a4-d56e51c030c7","trace-id":"","span-id":"","time":"2024-04-03T10:25:47+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"286aea1c-7a4e-4685-b9a4-d56e51c030c7","trace-id":"","span-id":"","time":"2024-04-03T10:25:47+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"286aea1c-7a4e-4685-b9a4-d56e51c030c7","trace-id":"","span-id":"","time":"2024-04-03T10:25:47+05:00","message":"skip hook jwt.check"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"286aea1c-7a4e-4685-b9a4-d56e51c030c7","trace-id":"","span-id":"","time":"2024-04-03T10:25:47+05:00","message":"run hook header.cors"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"286aea1c-7a4e-4685-b9a4-d56e51c030c7","trace-id":"","span-id":"","time":"2024-04-03T10:25:47+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"286aea1c-7a4e-4685-b9a4-d56e51c030c7","trace-id":"","span-id":"","time":"2024-04-03T10:25:47+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"286aea1c-7a4e-4685-b9a4-d56e51c030c7","trace-id":"","span-id":"","time":"2024-04-03T10:25:47+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"286aea1c-7a4e-4685-b9a4-d56e51c030c7","trace-id":"","span-id":"","time":"2024-04-03T10:25:47+05:00","message":"header.cors try to set Access-Control-Allow-Origin with [*]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"286aea1c-7a4e-4685-b9a4-d56e51c030c7","trace-id":"","span-id":"","time":"2024-04-03T10:25:47+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"286aea1c-7a4e-4685-b9a4-d56e51c030c7","trace-id":"","span-id":"","time":"2024-04-03T10:25:47+05:00","message":"end hook header.cors"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"286aea1c-7a4e-4685-b9a4-d56e51c030c7","trace-id":"","span-id":"","time":"2024-04-03T10:25:47+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"286aea1c-7a4e-4685-b9a4-d56e51c030c7","trace-id":"","span-id":"","time":"2024-04-03T10:25:47+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"286aea1c-7a4e-4685-b9a4-d56e51c030c7","trace-id":"","span-id":"","time":"2024-04-03T10:25:47+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"286aea1c-7a4e-4685-b9a4-d56e51c030c7","trace-id":"","span-id":"","time":"2024-04-03T10:25:47+05:00","message":"skip hook jwt.extract"}
{"level":"debug","x-request-id":"31e98af8-6715-4e58-82e4-97e9222e7b94","trace-id":"","span-id":"","time":"2024-04-03T10:25:49+05:00","message":"authn.cookie process"}
HDR http.Header{"Accept":[]string{"*/*"}, "Accept-Encoding":[]string{"gzip, deflate"}, "Content-Length":[]string{"0"}, "Content-Type":[]string{"application/json"}, "Cookie":[]string{"session_id=2304a37f-fdbb-4484-864f-6c5ca6571524"}, "User-Agent":[]string{"python-requests/2.31.0"}, "X-Forwarded-For":[]string{"172.23.20.6, 10.233.126.141"}, "X-Forwarded-Host":[]string{"dev-apigw.fortebank.com"}, "X-Forwarded-Port":[]string{"443"}, "X-Forwarded-Proto":[]string{"https"}, "X-Forwarded-Scheme":[]string{"https"}, "X-Real-Ip":[]string{"172.23.20.6"}, "X-Request-Id":[]string{"31e98af8-6715-4e58-82e4-97e9222e7b94"}, "X-Scheme":[]string{"https"}}
{"level":"debug","x-request-id":"31e98af8-6715-4e58-82e4-97e9222e7b94","trace-id":"","span-id":"","time":"2024-04-03T10:25:49+05:00","message":"authn.cookie try to get store /session/2304a37f-fdbb-4484-864f-6c5ca6571524"}
{"level":"debug","x-request-id":"31e98af8-6715-4e58-82e4-97e9222e7b94","trace-id":"","span-id":"","time":"2024-04-03T10:25:49+05:00","message":"authn.cookie try to get store /session/2304a37f-fdbb-4484-864f-6c5ca6571524/attrs"}
{"level":"debug","x-request-id":"31e98af8-6715-4e58-82e4-97e9222e7b94","trace-id":"","span-id":"","time":"2024-04-03T10:25:49+05:00","message":"authn.cookie set token to eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwOi8vZGV2LWFwaWd3LWdycGMuZm9ydGViYW5rLmNvbSIsInN1YiI6IjI1IiwiZXhwIjoxNzEyMTIyODQ2LCJuYmYiOjE3MTIxMjE5NDYsImlhdCI6MTcxMjEyMTk0NiwianRpIjoiNGE5YmY3ZGQtNTJjNy00MDc5LTkyMTgtODVlNDNhMTZlZjJhIiwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbIm1pYl91c2VyIl19LCJjdXN0b20iOnsiY2xpZW50X2lkIjoiYmVlbGluZV9leHByZXNzIiwiZXh0ZXJuYWxfaWQiOiI1MDExNjI0MTk3IiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJ0b2tlbl90eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcl9hY3Rpb24iOiJyZWdpc3RyYXRpb24iLCJ1c2VyX3JvbGVzIjpbIm1pYl91c2VyIl0sInVzZXJuYW1lIjoiOTEwOTE5MzAwMzYzIn19.iFnleMJ8mhhFvMQhYXplXePUSOsSzhorf3IPvml61oQ3tqCyvMnnd-ts2QSiLOerCwzsH_lXVIBIBpeXp9OgfTAWwD79T8CIIeKUTj_QUtEs-iTG6wvIh1WE-BShRDM309n4O3UMG7vEoKRhZcsTqX2wo4d-fkSVDxx4o7PLearWK1skPxVkBeWZOaJKMv9Z_xkCTHSi_rCRiCexZl3FZGXecIhAGGAWnzd3jaItJEqcFT9AxTwCf1t_Aua2EO5Smu3HAZrHUIOGuKr8ATAdqUt_MEzpdAhWTgRsRwq-2y8_bZKQhiMakg-VN37WEKtwTBr4-xvF0dk6VpsuVjS-Ng"}
{"level":"debug","x-request-id":"31e98af8-6715-4e58-82e4-97e9222e7b94","trace-id":"","span-id":"","time":"2024-04-03T10:25:49+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"31e98af8-6715-4e58-82e4-97e9222e7b94","trace-id":"","span-id":"","time":"2024-04-03T10:25:49+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"beeline_express\", \"external_id\":\"5011624197\", \"phone\":\"+77055552928\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712122846e+09, \"iat\":1.712121946e+09, \"iss\":\"http://dev-apigw-grpc.fortebank.com\", \"jti\":\"4a9bf7dd-52c7-4079-9218-85e43a16ef2a\", \"nbf\":1.712121946e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"error","x-request-id":"31e98af8-6715-4e58-82e4-97e9222e7b94","trace-id":"","span-id":"","time":"2024-04-03T10:25:49+05:00","message":"jwt.check failedtoken revoked"}
{"level":"debug","x-request-id":"12542c3c-92e0-4ae1-8ea4-4e37aca9227b","time":"2024-04-03T10:25:54+05:00","message":"authn.cookie not found"}
{"level":"debug","x-request-id":"12542c3c-92e0-4ae1-8ea4-4e37aca9227b","time":"2024-04-03T10:25:54+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"12542c3c-92e0-4ae1-8ea4-4e37aca9227b","time":"2024-04-03T10:25:54+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"12542c3c-92e0-4ae1-8ea4-4e37aca9227b","time":"2024-04-03T10:25:54+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"12542c3c-92e0-4ae1-8ea4-4e37aca9227b","time":"2024-04-03T10:25:54+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"12542c3c-92e0-4ae1-8ea4-4e37aca9227b","time":"2024-04-03T10:25:54+05:00","message":"jwt.extract set User-Id to 25"}
{"level":"info","x-request-id":"12542c3c-92e0-4ae1-8ea4-4e37aca9227b","time":"2024-04-03T10:25:54+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"12542c3c-92e0-4ae1-8ea4-4e37aca9227b","time":"2024-04-03T10:25:54+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"12542c3c-92e0-4ae1-8ea4-4e37aca9227b","time":"2024-04-03T10:25:54+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"12542c3c-92e0-4ae1-8ea4-4e37aca9227b","time":"2024-04-03T10:25:54+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"12542c3c-92e0-4ae1-8ea4-4e37aca9227b","time":"2024-04-03T10:25:54+05:00","message":"jwt.extract set Username to 910919300363"}
{"level":"info","x-request-id":"12542c3c-92e0-4ae1-8ea4-4e37aca9227b","time":"2024-04-03T10:25:54+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"12542c3c-92e0-4ae1-8ea4-4e37aca9227b","time":"2024-04-03T10:25:54+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"12542c3c-92e0-4ae1-8ea4-4e37aca9227b","time":"2024-04-03T10:25:54+05:00","message":"jwt.extract set Phone to +77055552928"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"12542c3c-92e0-4ae1-8ea4-4e37aca9227b","trace-id":"","span-id":"","time":"2024-04-03T10:25:54+05:00","message":"grpcConnAdd /testing.MockService/UnaryCall 12542c3c-92e0-4ae1-8ea4-4e37aca9227b"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"12542c3c-92e0-4ae1-8ea4-4e37aca9227b","trace-id":"","span-id":"","time":"2024-04-03T10:25:54+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"12542c3c-92e0-4ae1-8ea4-4e37aca9227b","trace-id":"","span-id":"","time":"2024-04-03T10:25:54+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"12542c3c-92e0-4ae1-8ea4-4e37aca9227b","trace-id":"","span-id":"","time":"2024-04-03T10:25:54+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"12542c3c-92e0-4ae1-8ea4-4e37aca9227b","trace-id":"","span-id":"","time":"2024-04-03T10:25:54+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"12542c3c-92e0-4ae1-8ea4-4e37aca9227b","trace-id":"","span-id":"","time":"2024-04-03T10:25:54+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"12542c3c-92e0-4ae1-8ea4-4e37aca9227b","trace-id":"","span-id":"","time":"2024-04-03T10:25:54+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"12542c3c-92e0-4ae1-8ea4-4e37aca9227b","trace-id":"","span-id":"","time":"2024-04-03T10:25:54+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"12542c3c-92e0-4ae1-8ea4-4e37aca9227b","trace-id":"","span-id":"","time":"2024-04-03T10:25:54+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"12542c3c-92e0-4ae1-8ea4-4e37aca9227b","trace-id":"","span-id":"","time":"2024-04-03T10:25:54+05:00","message":"brokerClientStream brokerClientStream SendMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"12542c3c-92e0-4ae1-8ea4-4e37aca9227b","trace-id":"","span-id":"","time":"2024-04-03T10:25:54+05:00","message":"brokerClientStream try to publish to qa.mock.connection1.in msg with hdr: metadata.Metadata{\"Authorization\":\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A\", \"Client-Ip\":\"172.23.20.6\", \"Content-Type\":\"application/grpc\", \"Phone\":\"+77055552928\", \"Qa-Custom-Headers\":\"{\\\"Qa-Delay\\\": 6000}\", \"Source-Service\":\"/testing.MockService/UnaryCall\", \"User-Id\":\"25\", \"Username\":\"910919300363\", \"X-Forwarded-For\":\"172.23.20.6\", \"X-Forwarded-Port\":\"443\", \"X-Real-Ip\":\"172.23.20.6\", \"X-Request-Id\":\"12542c3c-92e0-4ae1-8ea4-4e37aca9227b\"}"}
{"level":"info","time":"2024-04-03T10:25:54+05:00","message":"immediate metadata update triggeredwhyforced load because we are producing to a topic for the first time"}
{"level":"info","time":"2024-04-03T10:25:54+05:00","message":"producing to a new topic for the first time, fetching metadata to learn its partitionstopicqa.mock.connection1.in"}
{"level":"info","time":"2024-04-03T10:25:54+05:00","message":"done waiting for metadata for new topictopicqa.mock.connection1.in"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"12542c3c-92e0-4ae1-8ea4-4e37aca9227b","trace-id":"","span-id":"","time":"2024-04-03T10:25:54+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"12542c3c-92e0-4ae1-8ea4-4e37aca9227b","trace-id":"","span-id":"","time":"2024-04-03T10:25:54+05:00","message":"brokerClientStream CloseSend method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"12542c3c-92e0-4ae1-8ea4-4e37aca9227b","trace-id":"","span-id":"","time":"2024-04-03T10:25:54+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"12542c3c-92e0-4ae1-8ea4-4e37aca9227b","trace-id":"","span-id":"","time":"2024-04-03T10:25:54+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"12542c3c-92e0-4ae1-8ea4-4e37aca9227b","trace-id":"","span-id":"","time":"2024-04-03T10:25:54+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"12542c3c-92e0-4ae1-8ea4-4e37aca9227b","trace-id":"","span-id":"","time":"2024-04-03T10:25:54+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"12542c3c-92e0-4ae1-8ea4-4e37aca9227b","trace-id":"","span-id":"","time":"2024-04-03T10:25:54+05:00","message":"brokerClientStream CloseSend method"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"12542c3c-92e0-4ae1-8ea4-4e37aca9227b","trace-id":"","span-id":"","time":"2024-04-03T10:25:54+05:00","message":"failed to CloseSend grpc conn: file already closed"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"12542c3c-92e0-4ae1-8ea4-4e37aca9227b","trace-id":"","span-id":"","time":"2024-04-03T10:25:59+05:00","message":"forwardBackendToClient src.RecvMsg err rpc error: code = DeadlineExceeded desc = i/o timeout"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"12542c3c-92e0-4ae1-8ea4-4e37aca9227b","trace-id":"","span-id":"","time":"2024-04-03T10:25:59+05:00","message":"b2cErr := <-b2cErrChan: err: rpc error: code = DeadlineExceeded desc = i/o timeout"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"12542c3c-92e0-4ae1-8ea4-4e37aca9227b","trace-id":"","span-id":"","time":"2024-04-03T10:25:59+05:00","message":"brokerClientStream Trailer method"}
==================
WARNING: DATA RACE
Write at 0x00c00032d890 by goroutine 3344:
  runtime.mapassign_faststr()
      /usr/local/go/src/runtime/map_faststr.go:203 +0x0
  go.unistack.org/micro-meter-prometheus/v3.(*prometheusMeter).Counter()
      /go/pkg/mod/go.unistack.org/micro-meter-prometheus/v3@v3.8.6/prometheus.go:140 +0x56c
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.serverResponseMetrics()
      /build/internal/handler/grpc_copy.go:355 +0x1a1
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.serverResponseMetricsFailure()
      /build/internal/handler/grpc_copy.go:350 +0x1aa4
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.GRPCCopy()
      /build/internal/handler/grpc_copy.go:120 +0x1a38
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.(*HTTPHandlerSwapper).ServeGRPC()
      /build/internal/handler/handler.go:540 +0x4158
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.(*HTTPHandlerSwapper).ServeGRPC-fm()
      <autogenerated>:1 +0x64
  go.unistack.org/micro-server-grpc/v3.(*Server).handler()
      /go/pkg/mod/go.unistack.org/micro-server-grpc/v3@v3.10.13/grpc.go:306 +0x183b
  go.unistack.org/micro-server-grpc/v3.(*Server).handler-fm()
      <autogenerated>:1 +0x64
  google.golang.org/grpc.(*Server).processStreamingRPC()
      /go/pkg/mod/google.golang.org/grpc@v1.62.1/server.go:1680 +0x1fd9
  google.golang.org/grpc.(*Server).handleStream()
      /go/pkg/mod/google.golang.org/grpc@v1.62.1/server.go:1807 +0x1755
  google.golang.org/grpc.(*Server).serveStreams.func2.1()
      /go/pkg/mod/google.golang.org/grpc@v1.62.1/server.go:1027 +0x158

Previous read at 0x00c00032d890 by goroutine 3410:
  runtime.mapaccess2_faststr()
      /usr/local/go/src/runtime/map_faststr.go:108 +0x0
  go.unistack.org/micro-meter-prometheus/v3.(*prometheusMeter).Counter()
      /go/pkg/mod/go.unistack.org/micro-meter-prometheus/v3@v3.8.6/prometheus.go:127 +0x2ec
  go.unistack.org/micro-broker-kgo/v3.(*hookMeter).OnBrokerWrite()
      /go/pkg/mod/go.unistack.org/micro-broker-kgo/v3@v3.8.17/meter.go:81 +0x2c2
  github.com/twmb/franz-go/pkg/kgo.(*brokerCxn).writeRequest.func1()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/broker.go:1035 +0x225
  github.com/twmb/franz-go/pkg/kgo.hooks.each()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/hooks.go:32 +0xa59
  github.com/twmb/franz-go/pkg/kgo.(*brokerCxn).writeRequest()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/broker.go:1033 +0x79f
  github.com/twmb/franz-go/pkg/kgo.(*broker).handleReq()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/broker.go:441 +0x11cc
  github.com/twmb/franz-go/pkg/kgo.(*broker).handleReqs()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/broker.go:286 +0xfb
  github.com/twmb/franz-go/pkg/kgo.(*broker).do.gowrap1()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/broker.go:260 +0xab

Goroutine 3344 (running) created at:
  google.golang.org/grpc.(*Server).serveStreams.func2()
      /go/pkg/mod/google.golang.org/grpc@v1.62.1/server.go:1038 +0x224
  google.golang.org/grpc/internal/transport.(*http2Server).operateHeaders()
      /go/pkg/mod/google.golang.org/grpc@v1.62.1/internal/transport/http2_server.go:619 +0x3a41
  google.golang.org/grpc/internal/transport.(*http2Server).HandleStreams()
      /go/pkg/mod/google.golang.org/grpc@v1.62.1/internal/transport/http2_server.go:660 +0x404
  google.golang.org/grpc.(*Server).serveStreams()
      /go/pkg/mod/google.golang.org/grpc@v1.62.1/server.go:1021 +0x69b
  google.golang.org/grpc.(*Server).handleRawConn.func1()
      /go/pkg/mod/google.golang.org/grpc@v1.62.1/server.go:957 +0x86

Goroutine 3410 (finished) created at:
  github.com/twmb/franz-go/pkg/kgo.(*broker).do()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/broker.go:260 +0x2e4
  github.com/twmb/franz-go/pkg/kgo.(*source).fetch()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/source.go:740 +0x491
  github.com/twmb/franz-go/pkg/kgo.(*source).loopFetch()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/source.go:657 +0x4c6
  github.com/twmb/franz-go/pkg/kgo.(*source).maybeConsume.gowrap1()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/source.go:587 +0x33
==================
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"12542c3c-92e0-4ae1-8ea4-4e37aca9227b","trace-id":"","span-id":"","time":"2024-04-03T10:25:59+05:00","message":"grpcConnDel /testing.MockService/UnaryCall 12542c3c-92e0-4ae1-8ea4-4e37aca9227b"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"12542c3c-92e0-4ae1-8ea4-4e37aca9227b","trace-id":"","span-id":"","time":"2024-04-03T10:25:59+05:00","message":"grpc handler exit"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"12542c3c-92e0-4ae1-8ea4-4e37aca9227b","trace-id":"","span-id":"","time":"2024-04-03T10:25:59+05:00","message":"brokerClientStream RecvMsg s.ctx.Done()"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"12542c3c-92e0-4ae1-8ea4-4e37aca9227b","trace-id":"","span-id":"","time":"2024-04-03T10:25:59+05:00","message":"brokerClientStream Close method"}
{"level":"debug","x-request-id":"cc4233f1-9de1-48a1-a4b3-88e3e31717e5","time":"2024-04-03T10:26:00+05:00","message":"authn.cookie not found"}
{"level":"debug","x-request-id":"cc4233f1-9de1-48a1-a4b3-88e3e31717e5","time":"2024-04-03T10:26:00+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"cc4233f1-9de1-48a1-a4b3-88e3e31717e5","time":"2024-04-03T10:26:00+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"cc4233f1-9de1-48a1-a4b3-88e3e31717e5","time":"2024-04-03T10:26:00+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"cc4233f1-9de1-48a1-a4b3-88e3e31717e5","time":"2024-04-03T10:26:00+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"cc4233f1-9de1-48a1-a4b3-88e3e31717e5","time":"2024-04-03T10:26:00+05:00","message":"jwt.extract set User-Id to 25"}
{"level":"info","x-request-id":"cc4233f1-9de1-48a1-a4b3-88e3e31717e5","time":"2024-04-03T10:26:00+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"cc4233f1-9de1-48a1-a4b3-88e3e31717e5","time":"2024-04-03T10:26:00+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"cc4233f1-9de1-48a1-a4b3-88e3e31717e5","time":"2024-04-03T10:26:00+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"cc4233f1-9de1-48a1-a4b3-88e3e31717e5","time":"2024-04-03T10:26:00+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"cc4233f1-9de1-48a1-a4b3-88e3e31717e5","time":"2024-04-03T10:26:00+05:00","message":"jwt.extract set Username to 910919300363"}
{"level":"info","x-request-id":"cc4233f1-9de1-48a1-a4b3-88e3e31717e5","time":"2024-04-03T10:26:00+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"cc4233f1-9de1-48a1-a4b3-88e3e31717e5","time":"2024-04-03T10:26:00+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"cc4233f1-9de1-48a1-a4b3-88e3e31717e5","time":"2024-04-03T10:26:00+05:00","message":"jwt.extract set Phone to +77055552928"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cc4233f1-9de1-48a1-a4b3-88e3e31717e5","trace-id":"","span-id":"","time":"2024-04-03T10:26:00+05:00","message":"grpcConnAdd /testing.MockService/StreamCall cc4233f1-9de1-48a1-a4b3-88e3e31717e5"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cc4233f1-9de1-48a1-a4b3-88e3e31717e5","trace-id":"","span-id":"","time":"2024-04-03T10:26:00+05:00","message":"forwardBackendToClient set Read timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cc4233f1-9de1-48a1-a4b3-88e3e31717e5","trace-id":"","span-id":"","time":"2024-04-03T10:26:00+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cc4233f1-9de1-48a1-a4b3-88e3e31717e5","trace-id":"","span-id":"","time":"2024-04-03T10:26:00+05:00","message":"forwardClientToBackend set Read timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cc4233f1-9de1-48a1-a4b3-88e3e31717e5","trace-id":"","span-id":"","time":"2024-04-03T10:26:00+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"cc4233f1-9de1-48a1-a4b3-88e3e31717e5","trace-id":"","span-id":"","time":"2024-04-03T10:26:00+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cc4233f1-9de1-48a1-a4b3-88e3e31717e5","trace-id":"","span-id":"","time":"2024-04-03T10:26:00+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cc4233f1-9de1-48a1-a4b3-88e3e31717e5","trace-id":"","span-id":"","time":"2024-04-03T10:26:00+05:00","message":"forwardClientToBackend set Write timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cc4233f1-9de1-48a1-a4b3-88e3e31717e5","trace-id":"","span-id":"","time":"2024-04-03T10:26:00+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"cc4233f1-9de1-48a1-a4b3-88e3e31717e5","trace-id":"","span-id":"","time":"2024-04-03T10:26:00+05:00","message":"brokerClientStream brokerClientStream SendMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"cc4233f1-9de1-48a1-a4b3-88e3e31717e5","trace-id":"","span-id":"","time":"2024-04-03T10:26:00+05:00","message":"brokerClientStream try to publish to qa.mock.connection1.in msg with hdr: metadata.Metadata{\"Authorization\":\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A\", \"Client-Ip\":\"172.23.20.6\", \"Content-Type\":\"application/grpc\", \"Phone\":\"+77055552928\", \"Qa-Custom-Headers\":\"{\\\"Qa-Delay\\\": 30000}\", \"Source-Service\":\"/testing.MockService/StreamCall\", \"User-Id\":\"25\", \"Username\":\"910919300363\", \"X-Forwarded-For\":\"172.23.20.6\", \"X-Forwarded-Port\":\"443\", \"X-Real-Ip\":\"172.23.20.6\", \"X-Request-Id\":\"cc4233f1-9de1-48a1-a4b3-88e3e31717e5\"}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cc4233f1-9de1-48a1-a4b3-88e3e31717e5","trace-id":"","span-id":"","time":"2024-04-03T10:26:00+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
==================
WARNING: DATA RACE
Write at 0x00c00032d890 by goroutine 3431:
  runtime.mapassign_faststr()
      /usr/local/go/src/runtime/map_faststr.go:203 +0x0
  go.unistack.org/micro-meter-prometheus/v3.(*prometheusMeter).Counter()
      /go/pkg/mod/go.unistack.org/micro-meter-prometheus/v3@v3.8.6/prometheus.go:140 +0x56c
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.forwardClientToBackend.func1()
      /build/internal/handler/grpc_copy.go:325 +0xac2

Previous read at 0x00c00032d890 by goroutine 3443:
  runtime.mapaccess2_faststr()
      /usr/local/go/src/runtime/map_faststr.go:108 +0x0
  go.unistack.org/micro-meter-prometheus/v3.(*prometheusMeter).Counter()
      /go/pkg/mod/go.unistack.org/micro-meter-prometheus/v3@v3.8.6/prometheus.go:127 +0x2ec
  go.unistack.org/micro-broker-kgo/v3.(*hookMeter).OnProduceBatchWritten()
      /go/pkg/mod/go.unistack.org/micro-broker-kgo/v3@v3.8.17/meter.go:106 +0x31c
  github.com/twmb/franz-go/pkg/kgo.produceMetrics.hook.func2()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:1569 +0x37b

Goroutine 3431 (running) created at:
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.forwardClientToBackend.func2()
      /build/internal/handler/grpc_copy.go:336 +0x2e
  runtime/pprof.Do()
      /usr/local/go/src/runtime/pprof/runtime.go:51 +0x117
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.forwardClientToBackend()
      /build/internal/handler/grpc_copy.go:335 +0x945
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.GRPCCopy()
      /build/internal/handler/grpc_copy.go:39 +0x404
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.(*HTTPHandlerSwapper).ServeGRPC()
      /build/internal/handler/handler.go:540 +0x4158
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.(*HTTPHandlerSwapper).ServeGRPC-fm()
      <autogenerated>:1 +0x64
  go.unistack.org/micro-server-grpc/v3.(*Server).handler()
      /go/pkg/mod/go.unistack.org/micro-server-grpc/v3@v3.10.13/grpc.go:306 +0x183b
  go.unistack.org/micro-server-grpc/v3.(*Server).handler-fm()
      <autogenerated>:1 +0x64
  google.golang.org/grpc.(*Server).processStreamingRPC()
      /go/pkg/mod/google.golang.org/grpc@v1.62.1/server.go:1680 +0x1fd9
  google.golang.org/grpc.(*Server).handleStream()
      /go/pkg/mod/google.golang.org/grpc@v1.62.1/server.go:1807 +0x1755
  google.golang.org/grpc.(*Server).serveStreams.func2.1()
      /go/pkg/mod/google.golang.org/grpc@v1.62.1/server.go:1027 +0x158

Goroutine 3443 (finished) created at:
  github.com/twmb/franz-go/pkg/kgo.produceMetrics.hook()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:1565 +0x3f6
  github.com/twmb/franz-go/pkg/kgo.(*sink).handleReqResp.deferwrap1()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:586 +0x4f
  runtime.deferreturn()
      /usr/local/go/src/runtime/panic.go:602 +0x5d
  github.com/twmb/franz-go/pkg/kgo.(*sink).produce.func3()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:369 +0xaa
  github.com/twmb/franz-go/pkg/kgo.(*sink).handleSeqResps()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:411 +0xe8
  github.com/twmb/franz-go/pkg/kgo.(*sink).doSequenced.gowrap1()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/sink.go:402 +0x44
==================
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cc4233f1-9de1-48a1-a4b3-88e3e31717e5","trace-id":"","span-id":"","time":"2024-04-03T10:26:00+05:00","message":"forwardClientToBackend set Read timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cc4233f1-9de1-48a1-a4b3-88e3e31717e5","trace-id":"","span-id":"","time":"2024-04-03T10:26:00+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cc4233f1-9de1-48a1-a4b3-88e3e31717e5","trace-id":"","span-id":"","time":"2024-04-03T10:26:00+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cc4233f1-9de1-48a1-a4b3-88e3e31717e5","trace-id":"","span-id":"","time":"2024-04-03T10:26:00+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"cc4233f1-9de1-48a1-a4b3-88e3e31717e5","trace-id":"","span-id":"","time":"2024-04-03T10:26:00+05:00","message":"brokerClientStream CloseSend method"}
{"level":"info","X-Request-Id":"12542c3c-92e0-4ae1-8ea4-4e37aca9227b","trace-id":"","span-id":"","time":"2024-04-03T10:26:00+05:00","message":"get message for service: /testing.MockService/UnaryCall with md map[Authorization:Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A Client-Ip:172.23.20.6 Content-Type:application/grpc Phone:+77055552928 Qa-Custom-Headers:{\"Qa-Delay\": 6000} Qa-Delay:6000 Source-Service:/testing.MockService/UnaryCall User-Id:25 Username:910919300363 X-Forwarded-For:172.23.20.6 X-Forwarded-Port:443 X-Real-Ip:172.23.20.6 X-Request-Id:12542c3c-92e0-4ae1-8ea4-4e37aca9227b]"}
{"level":"info","x-request-id":"12542c3c-92e0-4ae1-8ea4-4e37aca9227b","trace-id":"","span-id":"","time":"2024-04-03T10:26:00+05:00","message":"get message for service: /testing.MockService/UnaryCall"}
{"level":"debug","x-request-id":"12542c3c-92e0-4ae1-8ea4-4e37aca9227b","trace-id":"","span-id":"","time":"2024-04-03T10:26:00+05:00","message":"grpcConnGet: /testing.MockService/UnaryCall via 12542c3c-92e0-4ae1-8ea4-4e37aca9227b"}
{"level":"error","x-request-id":"12542c3c-92e0-4ae1-8ea4-4e37aca9227b","trace-id":"","span-id":"","time":"2024-04-03T10:26:00+05:00","message":"failed to find conn"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cc4233f1-9de1-48a1-a4b3-88e3e31717e5","trace-id":"","span-id":"","time":"2024-04-03T10:26:20+05:00","message":"forwardBackendToClient src.RecvMsg err rpc error: code = DeadlineExceeded desc = i/o timeout"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cc4233f1-9de1-48a1-a4b3-88e3e31717e5","trace-id":"","span-id":"","time":"2024-04-03T10:26:20+05:00","message":"b2cErr := <-b2cErrChan: err: rpc error: code = DeadlineExceeded desc = i/o timeout"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"cc4233f1-9de1-48a1-a4b3-88e3e31717e5","trace-id":"","span-id":"","time":"2024-04-03T10:26:20+05:00","message":"brokerClientStream Trailer method"}
==================
WARNING: DATA RACE
Write at 0x00c00032d890 by goroutine 3429:
  runtime.mapassign_faststr()
      /usr/local/go/src/runtime/map_faststr.go:203 +0x0
  go.unistack.org/micro-meter-prometheus/v3.(*prometheusMeter).Counter()
      /go/pkg/mod/go.unistack.org/micro-meter-prometheus/v3@v3.8.6/prometheus.go:140 +0x56c
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.serverResponseMetrics()
      /build/internal/handler/grpc_copy.go:355 +0x1a1
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.serverResponseMetricsFailure()
      /build/internal/handler/grpc_copy.go:350 +0x1aa4
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.GRPCCopy()
      /build/internal/handler/grpc_copy.go:120 +0x1a38
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.(*HTTPHandlerSwapper).ServeGRPC()
      /build/internal/handler/handler.go:540 +0x4158
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.(*HTTPHandlerSwapper).ServeGRPC-fm()
      <autogenerated>:1 +0x64
  go.unistack.org/micro-server-grpc/v3.(*Server).handler()
      /go/pkg/mod/go.unistack.org/micro-server-grpc/v3@v3.10.13/grpc.go:306 +0x183b
  go.unistack.org/micro-server-grpc/v3.(*Server).handler-fm()
      <autogenerated>:1 +0x64
  google.golang.org/grpc.(*Server).processStreamingRPC()
      /go/pkg/mod/google.golang.org/grpc@v1.62.1/server.go:1680 +0x1fd9
  google.golang.org/grpc.(*Server).handleStream()
      /go/pkg/mod/google.golang.org/grpc@v1.62.1/server.go:1807 +0x1755
  google.golang.org/grpc.(*Server).serveStreams.func2.1()
      /go/pkg/mod/google.golang.org/grpc@v1.62.1/server.go:1027 +0x158

Previous read at 0x00c00032d890 by goroutine 3755:
  runtime.mapaccess2_faststr()
      /usr/local/go/src/runtime/map_faststr.go:108 +0x0
  go.unistack.org/micro-meter-prometheus/v3.(*prometheusMeter).Counter()
      /go/pkg/mod/go.unistack.org/micro-meter-prometheus/v3@v3.8.6/prometheus.go:127 +0x2ec
  go.unistack.org/micro-broker-kgo/v3.(*hookMeter).OnBrokerRead()
      /go/pkg/mod/go.unistack.org/micro-broker-kgo/v3@v3.8.17/meter.go:92 +0x2c2
  github.com/twmb/franz-go/pkg/kgo.(*brokerCxn).readResponse.func1()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/broker.go:1224 +0x1d8
  github.com/twmb/franz-go/pkg/kgo.hooks.each()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/hooks.go:32 +0x307
  github.com/twmb/franz-go/pkg/kgo.(*brokerCxn).readResponse()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/broker.go:1222 +0xe0
  github.com/twmb/franz-go/pkg/kgo.(*brokerCxn).handleResp()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/broker.go:1451 +0xea
  github.com/twmb/franz-go/pkg/kgo.(*brokerCxn).handleResps()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/broker.go:1441 +0x67
  github.com/twmb/franz-go/pkg/kgo.(*brokerCxn).waitResp.gowrap1()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/broker.go:1290 +0xbc

Goroutine 3429 (running) created at:
  google.golang.org/grpc.(*Server).serveStreams.func2()
      /go/pkg/mod/google.golang.org/grpc@v1.62.1/server.go:1038 +0x224
  google.golang.org/grpc/internal/transport.(*http2Server).operateHeaders()
      /go/pkg/mod/google.golang.org/grpc@v1.62.1/internal/transport/http2_server.go:619 +0x3a41
  google.golang.org/grpc/internal/transport.(*http2Server).HandleStreams()
      /go/pkg/mod/google.golang.org/grpc@v1.62.1/internal/transport/http2_server.go:660 +0x404
  google.golang.org/grpc.(*Server).serveStreams()
      /go/pkg/mod/google.golang.org/grpc@v1.62.1/server.go:1021 +0x69b
  google.golang.org/grpc.(*Server).handleRawConn.func1()
      /go/pkg/mod/google.golang.org/grpc@v1.62.1/server.go:957 +0x86

Goroutine 3755 (finished) created at:
  github.com/twmb/franz-go/pkg/kgo.(*brokerCxn).waitResp()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/broker.go:1290 +0x277
  github.com/twmb/franz-go/pkg/kgo.(*broker).handleReq()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/broker.go:458 +0x1404
  github.com/twmb/franz-go/pkg/kgo.(*broker).handleReqs()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/broker.go:286 +0xfb
  github.com/twmb/franz-go/pkg/kgo.(*broker).do.gowrap1()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/broker.go:260 +0xab
==================
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cc4233f1-9de1-48a1-a4b3-88e3e31717e5","trace-id":"","span-id":"","time":"2024-04-03T10:26:20+05:00","message":"grpcConnDel /testing.MockService/StreamCall cc4233f1-9de1-48a1-a4b3-88e3e31717e5"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"cc4233f1-9de1-48a1-a4b3-88e3e31717e5","trace-id":"","span-id":"","time":"2024-04-03T10:26:20+05:00","message":"grpc handler exit"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"cc4233f1-9de1-48a1-a4b3-88e3e31717e5","trace-id":"","span-id":"","time":"2024-04-03T10:26:20+05:00","message":"brokerClientStream RecvMsg s.ctx.Done()"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"cc4233f1-9de1-48a1-a4b3-88e3e31717e5","trace-id":"","span-id":"","time":"2024-04-03T10:26:20+05:00","message":"brokerClientStream Close method"}
{"level":"debug","x-request-id":"13ac9f3b-6660-4555-954c-badd6c85d698","time":"2024-04-03T10:26:20+05:00","message":"authn.cookie not found"}
{"level":"debug","x-request-id":"13ac9f3b-6660-4555-954c-badd6c85d698","time":"2024-04-03T10:26:20+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"13ac9f3b-6660-4555-954c-badd6c85d698","time":"2024-04-03T10:26:20+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"13ac9f3b-6660-4555-954c-badd6c85d698","time":"2024-04-03T10:26:20+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"13ac9f3b-6660-4555-954c-badd6c85d698","time":"2024-04-03T10:26:20+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"13ac9f3b-6660-4555-954c-badd6c85d698","time":"2024-04-03T10:26:20+05:00","message":"jwt.extract set User-Id to 25"}
{"level":"info","x-request-id":"13ac9f3b-6660-4555-954c-badd6c85d698","time":"2024-04-03T10:26:20+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"13ac9f3b-6660-4555-954c-badd6c85d698","time":"2024-04-03T10:26:20+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"13ac9f3b-6660-4555-954c-badd6c85d698","time":"2024-04-03T10:26:20+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"13ac9f3b-6660-4555-954c-badd6c85d698","time":"2024-04-03T10:26:20+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"13ac9f3b-6660-4555-954c-badd6c85d698","time":"2024-04-03T10:26:20+05:00","message":"jwt.extract set Username to 910919300363"}
{"level":"info","x-request-id":"13ac9f3b-6660-4555-954c-badd6c85d698","time":"2024-04-03T10:26:20+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"13ac9f3b-6660-4555-954c-badd6c85d698","time":"2024-04-03T10:26:20+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"13ac9f3b-6660-4555-954c-badd6c85d698","time":"2024-04-03T10:26:20+05:00","message":"jwt.extract set Phone to +77055552928"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"13ac9f3b-6660-4555-954c-badd6c85d698","trace-id":"","span-id":"","time":"2024-04-03T10:26:20+05:00","message":"grpcConnAdd /testing.MockService/UnaryCall 13ac9f3b-6660-4555-954c-badd6c85d698"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"13ac9f3b-6660-4555-954c-badd6c85d698","trace-id":"","span-id":"","time":"2024-04-03T10:26:20+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"13ac9f3b-6660-4555-954c-badd6c85d698","trace-id":"","span-id":"","time":"2024-04-03T10:26:20+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"13ac9f3b-6660-4555-954c-badd6c85d698","trace-id":"","span-id":"","time":"2024-04-03T10:26:20+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"13ac9f3b-6660-4555-954c-badd6c85d698","trace-id":"","span-id":"","time":"2024-04-03T10:26:20+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"13ac9f3b-6660-4555-954c-badd6c85d698","trace-id":"","span-id":"","time":"2024-04-03T10:26:20+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"13ac9f3b-6660-4555-954c-badd6c85d698","trace-id":"","span-id":"","time":"2024-04-03T10:26:20+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"13ac9f3b-6660-4555-954c-badd6c85d698","trace-id":"","span-id":"","time":"2024-04-03T10:26:20+05:00","message":"brokerClientStream brokerClientStream SendMsg method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"13ac9f3b-6660-4555-954c-badd6c85d698","trace-id":"","span-id":"","time":"2024-04-03T10:26:20+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"13ac9f3b-6660-4555-954c-badd6c85d698","trace-id":"","span-id":"","time":"2024-04-03T10:26:20+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"13ac9f3b-6660-4555-954c-badd6c85d698","trace-id":"","span-id":"","time":"2024-04-03T10:26:20+05:00","message":"brokerClientStream try to publish to qa.mock.connection1.in msg with hdr: metadata.Metadata{\"Authorization\":\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A\", \"Client-Ip\":\"172.23.20.6\", \"Content-Type\":\"application/grpc\", \"Phone\":\"+77055552928\", \"Source-Service\":\"/testing.MockService/UnaryCall\", \"User-Id\":\"25\", \"Username\":\"910919300363\", \"X-Forwarded-For\":\"172.23.20.6\", \"X-Forwarded-Port\":\"443\", \"X-Real-Ip\":\"172.23.20.6\", \"X-Request-Id\":\"13ac9f3b-6660-4555-954c-badd6c85d698\"}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"13ac9f3b-6660-4555-954c-badd6c85d698","trace-id":"","span-id":"","time":"2024-04-03T10:26:20+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"13ac9f3b-6660-4555-954c-badd6c85d698","trace-id":"","span-id":"","time":"2024-04-03T10:26:20+05:00","message":"brokerClientStream CloseSend method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"13ac9f3b-6660-4555-954c-badd6c85d698","trace-id":"","span-id":"","time":"2024-04-03T10:26:20+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"13ac9f3b-6660-4555-954c-badd6c85d698","trace-id":"","span-id":"","time":"2024-04-03T10:26:20+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"13ac9f3b-6660-4555-954c-badd6c85d698","trace-id":"","span-id":"","time":"2024-04-03T10:26:20+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"13ac9f3b-6660-4555-954c-badd6c85d698","trace-id":"","span-id":"","time":"2024-04-03T10:26:20+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"13ac9f3b-6660-4555-954c-badd6c85d698","trace-id":"","span-id":"","time":"2024-04-03T10:26:20+05:00","message":"brokerClientStream CloseSend method"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"13ac9f3b-6660-4555-954c-badd6c85d698","trace-id":"","span-id":"","time":"2024-04-03T10:26:20+05:00","message":"failed to CloseSend grpc conn: file already closed"}
HDR http.Header{"Accept":[]string{"application/json, text/plain, */*"}, "Accept-Encoding":[]string{"gzip, deflate, br"}, "Accept-Language":[]string{"ru,ru-RU;q=0.9,en-US;q=0.8,en;q=0.7"}, "Content-Length":[]string{"467"}, "Content-Type":[]string{"application/json"}, "Origin":[]string{"https://dev-apigw.fortebank.com"}, "Referer":[]string{"https://dev-apigw.fortebank.com/authn.AuthnService/ui/?data=Y2xpZW50X2lkPW1pYl8zMF9hbmRyb2lkJnJlZGlyZWN0X3VyaT1odHRwczovL2ZvcnRlLmt6L2FwcC9hdXRoJnNjb3BlPW9mZmxpbmVfYWNjZXNzJnJlc3BvbnNlX3R5cGU9Y29kZSZjb2RlX2NoYWxsZW5nZT1EUWV6RFJUMklyV0NwMUNiUERDdml0eVZ1SzRZU2cybmszNEpORy1wS2tVJmNvZGVfY2hhbGxlbmdlX21ldGhvZD1TMjU2JnJlc3BvbnNlX21vZGU9cXVlcnkmc3RhdGU9Y2RhN2NlMWMtYzRmNi00&theme=dark"}, "Sec-Ch-Ua":[]string{"\"Chromium\";v=\"122\", \"Not(A:Brand\";v=\"24\", \"Android WebView\";v=\"122\""}, "Sec-Ch-Ua-Mobile":[]string{"?1"}, "Sec-Ch-Ua-Platform":[]string{"\"Android\""}, "Sec-Fetch-Dest":[]string{"empty"}, "Sec-Fetch-Mode":[]string{"cors"}, "Sec-Fetch-Site":[]string{"same-origin"}, "User-Agent":[]string{"Android"}, "X-Forwarded-For":[]string{"172.23.20.6, 10.233.126.141"}, "X-Forwarded-Host":[]string{"dev-apigw.fortebank.com"}, "X-Forwarded-Port":[]string{"443"}, "X-Forwarded-Proto":[]string{"https"}, "X-Forwarded-Scheme":[]string{"https"}, "X-Real-Ip":[]string{"172.23.20.6"}, "X-Request-Id":[]string{"2a7fc9a805ae4f9f6d2875c111b114ad"}, "X-Requested-With":[]string{"kz.forte.bank.debug"}, "X-Scheme":[]string{"https"}}
{"level":"debug","x-request-id":"2a7fc9a805ae4f9f6d2875c111b114ad","trace-id":"","span-id":"","time":"2024-04-03T10:26:22+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"2a7fc9a805ae4f9f6d2875c111b114ad","trace-id":"","span-id":"","time":"2024-04-03T10:26:22+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Login"}
{"level":"debug","x-request-id":"2a7fc9a805ae4f9f6d2875c111b114ad","trace-id":"","span-id":"","time":"2024-04-03T10:26:22+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"debug","x-request-id":"2a7fc9a805ae4f9f6d2875c111b114ad","trace-id":"","span-id":"","time":"2024-04-03T10:26:22+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"debug","x-request-id":"2a7fc9a805ae4f9f6d2875c111b114ad","trace-id":"","span-id":"","time":"2024-04-03T10:26:22+05:00","message":"header.cors try to set Access-Control-Allow-Origin with [*]"}
{"level":"debug","x-request-id":"2a7fc9a805ae4f9f6d2875c111b114ad","trace-id":"","span-id":"","time":"2024-04-03T10:26:22+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"debug","x-request-id":"2a7fc9a805ae4f9f6d2875c111b114ad","trace-id":"","span-id":"","time":"2024-04-03T10:26:22+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"info","x-request-id":"2a7fc9a805ae4f9f6d2875c111b114ad","trace-id":"","span-id":"","time":"2024-04-03T10:26:22+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"2a7fc9a805ae4f9f6d2875c111b114ad","trace-id":"","span-id":"","time":"2024-04-03T10:26:22+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"2a7fc9a805ae4f9f6d2875c111b114ad","trace-id":"","span-id":"","time":"2024-04-03T10:26:22+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"2a7fc9a805ae4f9f6d2875c111b114ad","trace-id":"","span-id":"","time":"2024-04-03T10:26:22+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"2a7fc9a805ae4f9f6d2875c111b114ad","trace-id":"","span-id":"","time":"2024-04-03T10:26:22+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"2a7fc9a805ae4f9f6d2875c111b114ad","trace-id":"","span-id":"","time":"2024-04-03T10:26:22+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"2a7fc9a805ae4f9f6d2875c111b114ad","trace-id":"","span-id":"","time":"2024-04-03T10:26:22+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"2a7fc9a805ae4f9f6d2875c111b114ad","trace-id":"","span-id":"","time":"2024-04-03T10:26:22+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"2a7fc9a805ae4f9f6d2875c111b114ad","trace-id":"","span-id":"","time":"2024-04-03T10:26:22+05:00","message":"start to proxy url: /authn.AuthnService/v1/login via http://authn-service:80"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"2a7fc9a805ae4f9f6d2875c111b114ad","trace-id":"","span-id":"","time":"2024-04-03T10:26:22+05:00","message":"stop to proxy url: /authn.AuthnService/v1/login via http://authn-service:80"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2a7fc9a805ae4f9f6d2875c111b114ad","trace-id":"","span-id":"","time":"2024-04-03T10:26:22+05:00","message":"skip hook authn.cookie"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2a7fc9a805ae4f9f6d2875c111b114ad","trace-id":"","span-id":"","time":"2024-04-03T10:26:22+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2a7fc9a805ae4f9f6d2875c111b114ad","trace-id":"","span-id":"","time":"2024-04-03T10:26:22+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2a7fc9a805ae4f9f6d2875c111b114ad","trace-id":"","span-id":"","time":"2024-04-03T10:26:22+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2a7fc9a805ae4f9f6d2875c111b114ad","trace-id":"","span-id":"","time":"2024-04-03T10:26:22+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2a7fc9a805ae4f9f6d2875c111b114ad","trace-id":"","span-id":"","time":"2024-04-03T10:26:22+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2a7fc9a805ae4f9f6d2875c111b114ad","trace-id":"","span-id":"","time":"2024-04-03T10:26:22+05:00","message":"skip hook jwt.check"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2a7fc9a805ae4f9f6d2875c111b114ad","trace-id":"","span-id":"","time":"2024-04-03T10:26:22+05:00","message":"run hook header.cors"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2a7fc9a805ae4f9f6d2875c111b114ad","trace-id":"","span-id":"","time":"2024-04-03T10:26:22+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2a7fc9a805ae4f9f6d2875c111b114ad","trace-id":"","span-id":"","time":"2024-04-03T10:26:22+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2a7fc9a805ae4f9f6d2875c111b114ad","trace-id":"","span-id":"","time":"2024-04-03T10:26:22+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2a7fc9a805ae4f9f6d2875c111b114ad","trace-id":"","span-id":"","time":"2024-04-03T10:26:22+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2a7fc9a805ae4f9f6d2875c111b114ad","trace-id":"","span-id":"","time":"2024-04-03T10:26:22+05:00","message":"end hook header.cors"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2a7fc9a805ae4f9f6d2875c111b114ad","trace-id":"","span-id":"","time":"2024-04-03T10:26:22+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2a7fc9a805ae4f9f6d2875c111b114ad","trace-id":"","span-id":"","time":"2024-04-03T10:26:22+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2a7fc9a805ae4f9f6d2875c111b114ad","trace-id":"","span-id":"","time":"2024-04-03T10:26:22+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2a7fc9a805ae4f9f6d2875c111b114ad","trace-id":"","span-id":"","time":"2024-04-03T10:26:22+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"13ac9f3b-6660-4555-954c-badd6c85d698","trace-id":"","span-id":"","time":"2024-04-03T10:26:25+05:00","message":"forwardBackendToClient src.RecvMsg err rpc error: code = DeadlineExceeded desc = i/o timeout"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"13ac9f3b-6660-4555-954c-badd6c85d698","trace-id":"","span-id":"","time":"2024-04-03T10:26:25+05:00","message":"b2cErr := <-b2cErrChan: err: rpc error: code = DeadlineExceeded desc = i/o timeout"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"13ac9f3b-6660-4555-954c-badd6c85d698","trace-id":"","span-id":"","time":"2024-04-03T10:26:25+05:00","message":"brokerClientStream Trailer method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"13ac9f3b-6660-4555-954c-badd6c85d698","trace-id":"","span-id":"","time":"2024-04-03T10:26:25+05:00","message":"grpcConnDel /testing.MockService/UnaryCall 13ac9f3b-6660-4555-954c-badd6c85d698"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"13ac9f3b-6660-4555-954c-badd6c85d698","trace-id":"","span-id":"","time":"2024-04-03T10:26:25+05:00","message":"grpc handler exit"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"13ac9f3b-6660-4555-954c-badd6c85d698","trace-id":"","span-id":"","time":"2024-04-03T10:26:25+05:00","message":"brokerClientStream RecvMsg s.ctx.Done()"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"13ac9f3b-6660-4555-954c-badd6c85d698","trace-id":"","span-id":"","time":"2024-04-03T10:26:25+05:00","message":"brokerClientStream Close method"}
{"level":"info","X-Request-Id":"cc4233f1-9de1-48a1-a4b3-88e3e31717e5","trace-id":"","span-id":"","time":"2024-04-03T10:26:30+05:00","message":"get message for service: /testing.MockService/StreamCall with md map[Authorization:Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A Client-Ip:172.23.20.6 Content-Type:application/grpc Phone:+77055552928 Qa-Custom-Headers:{\"Qa-Delay\": 30000} Qa-Delay:30000 Source-Service:/testing.MockService/StreamCall User-Id:25 Username:910919300363 X-Forwarded-For:172.23.20.6 X-Forwarded-Port:443 X-Real-Ip:172.23.20.6 X-Request-Id:cc4233f1-9de1-48a1-a4b3-88e3e31717e5]"}
{"level":"info","x-request-id":"cc4233f1-9de1-48a1-a4b3-88e3e31717e5","trace-id":"","span-id":"","time":"2024-04-03T10:26:30+05:00","message":"get message for service: /testing.MockService/StreamCall"}
{"level":"debug","x-request-id":"cc4233f1-9de1-48a1-a4b3-88e3e31717e5","trace-id":"","span-id":"","time":"2024-04-03T10:26:30+05:00","message":"grpcConnGet: /testing.MockService/StreamCall via cc4233f1-9de1-48a1-a4b3-88e3e31717e5"}
{"level":"error","x-request-id":"cc4233f1-9de1-48a1-a4b3-88e3e31717e5","trace-id":"","span-id":"","time":"2024-04-03T10:26:30+05:00","message":"failed to find conn"}
{"level":"info","X-Request-Id":"13ac9f3b-6660-4555-954c-badd6c85d698","trace-id":"","span-id":"","time":"2024-04-03T10:26:30+05:00","message":"get message for service: /testing.MockService/UnaryCall with md map[Authorization:Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A Client-Ip:172.23.20.6 Content-Type:application/grpc Phone:+77055552928 Source-Service:/testing.MockService/UnaryCall User-Id:25 Username:910919300363 X-Forwarded-For:172.23.20.6 X-Forwarded-Port:443 X-Real-Ip:172.23.20.6 X-Request-Id:13ac9f3b-6660-4555-954c-badd6c85d698]"}
{"level":"info","x-request-id":"13ac9f3b-6660-4555-954c-badd6c85d698","trace-id":"","span-id":"","time":"2024-04-03T10:26:30+05:00","message":"get message for service: /testing.MockService/UnaryCall"}
{"level":"debug","x-request-id":"13ac9f3b-6660-4555-954c-badd6c85d698","trace-id":"","span-id":"","time":"2024-04-03T10:26:30+05:00","message":"grpcConnGet: /testing.MockService/UnaryCall via 13ac9f3b-6660-4555-954c-badd6c85d698"}
{"level":"error","x-request-id":"13ac9f3b-6660-4555-954c-badd6c85d698","trace-id":"","span-id":"","time":"2024-04-03T10:26:30+05:00","message":"failed to find conn"}
{"level":"debug","x-request-id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","time":"2024-04-03T10:26:35+05:00","message":"authn.cookie not found"}
{"level":"debug","x-request-id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","time":"2024-04-03T10:26:35+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","time":"2024-04-03T10:26:35+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","time":"2024-04-03T10:26:35+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","time":"2024-04-03T10:26:35+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","time":"2024-04-03T10:26:35+05:00","message":"jwt.extract set User-Id to 25"}
{"level":"info","x-request-id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","time":"2024-04-03T10:26:35+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","time":"2024-04-03T10:26:35+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","time":"2024-04-03T10:26:35+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","time":"2024-04-03T10:26:35+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","time":"2024-04-03T10:26:35+05:00","message":"jwt.extract set Username to 910919300363"}
{"level":"info","x-request-id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","time":"2024-04-03T10:26:35+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","time":"2024-04-03T10:26:35+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","time":"2024-04-03T10:26:35+05:00","message":"jwt.extract set Phone to +77055552928"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"grpcConnAdd /testing.MockService/UnaryCall 4a17e1ed-f5ff-49ed-81ea-94aee74c9ced"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"brokerClientStream brokerClientStream SendMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"brokerClientStream try to publish to qa.mock.connection1.in msg with hdr: metadata.Metadata{\"Authorization\":\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A\", \"Client-Ip\":\"172.23.20.6\", \"Content-Type\":\"application/grpc\", \"Phone\":\"+77055552928\", \"Source-Service\":\"/testing.MockService/UnaryCall\", \"User-Id\":\"25\", \"Username\":\"910919300363\", \"X-Forwarded-For\":\"172.23.20.6\", \"X-Forwarded-Port\":\"443\", \"X-Real-Ip\":\"172.23.20.6\", \"X-Request-Id\":\"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced\"}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"brokerClientStream CloseSend method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"brokerClientStream CloseSend method"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"failed to CloseSend grpc conn: file already closed"}
{"level":"info","X-Request-Id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"get message for service: /testing.MockService/UnaryCall with md map[Authorization:Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A Client-Ip:172.23.20.6 Content-Type:application/grpc Phone:+77055552928 Source-Service:/testing.MockService/UnaryCall User-Id:25 Username:910919300363 X-Forwarded-For:172.23.20.6 X-Forwarded-Port:443 X-Real-Ip:172.23.20.6 X-Request-Id:4a17e1ed-f5ff-49ed-81ea-94aee74c9ced]"}
{"level":"info","x-request-id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"get message for service: /testing.MockService/UnaryCall"}
{"level":"debug","x-request-id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"grpcConnGet: /testing.MockService/UnaryCall via 4a17e1ed-f5ff-49ed-81ea-94aee74c9ced"}
{"level":"debug","x-request-id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"grpc use stream conn: &handler.grpcProxy{grpcStream:(*handler.grpcServerStream)(0xc0004102c0), kafkaStream:(*handler.grpcClientStream)(0xc0004104d0)} sourceService: /testing.MockService/UnaryCall"}
{"level":"info","x-request-id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"start transfer response from kafka"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"brokerClientStream SetHeader method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"brokerClientStream SetMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"brokerClientStream RecvMsg method data"}
{"level":"info","x-request-id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"stop transfer response from kafka"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"forwardBackendToClient src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"forwardBackendToClient set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"forwardBackendToClient src.Header"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"brokerClientStream Header method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"forwardBackendToClient dst.SetHeader"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"forwardBackendToClient try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"forwardBackendToClient dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"brokerClientStream Close method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"brokerClientStream RecvMsg method !s.serverStream && s.recvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"forwardBackendToClient src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"b2cErr := <-b2cErrChan: err: EOF"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"brokerClientStream Trailer method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"grpcConnDel /testing.MockService/UnaryCall 4a17e1ed-f5ff-49ed-81ea-94aee74c9ced"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"4a17e1ed-f5ff-49ed-81ea-94aee74c9ced","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"grpc handler exit"}
{"level":"debug","x-request-id":"678133f4-b0b8-4a94-a251-5a910f46cad8","time":"2024-04-03T10:26:35+05:00","message":"authn.cookie not found"}
{"level":"debug","x-request-id":"678133f4-b0b8-4a94-a251-5a910f46cad8","time":"2024-04-03T10:26:35+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"678133f4-b0b8-4a94-a251-5a910f46cad8","time":"2024-04-03T10:26:35+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"678133f4-b0b8-4a94-a251-5a910f46cad8","time":"2024-04-03T10:26:35+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"678133f4-b0b8-4a94-a251-5a910f46cad8","time":"2024-04-03T10:26:35+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"678133f4-b0b8-4a94-a251-5a910f46cad8","time":"2024-04-03T10:26:35+05:00","message":"jwt.extract set User-Id to 25"}
{"level":"info","x-request-id":"678133f4-b0b8-4a94-a251-5a910f46cad8","time":"2024-04-03T10:26:35+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"678133f4-b0b8-4a94-a251-5a910f46cad8","time":"2024-04-03T10:26:35+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"678133f4-b0b8-4a94-a251-5a910f46cad8","time":"2024-04-03T10:26:35+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"678133f4-b0b8-4a94-a251-5a910f46cad8","time":"2024-04-03T10:26:35+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"678133f4-b0b8-4a94-a251-5a910f46cad8","time":"2024-04-03T10:26:35+05:00","message":"jwt.extract set Username to 910919300363"}
{"level":"info","x-request-id":"678133f4-b0b8-4a94-a251-5a910f46cad8","time":"2024-04-03T10:26:35+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"678133f4-b0b8-4a94-a251-5a910f46cad8","time":"2024-04-03T10:26:35+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"678133f4-b0b8-4a94-a251-5a910f46cad8","time":"2024-04-03T10:26:35+05:00","message":"jwt.extract set Phone to +77055552928"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"678133f4-b0b8-4a94-a251-5a910f46cad8","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"grpcConnAdd /testing.MockService/StreamCall 678133f4-b0b8-4a94-a251-5a910f46cad8"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"678133f4-b0b8-4a94-a251-5a910f46cad8","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"forwardClientToBackend set Read timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"678133f4-b0b8-4a94-a251-5a910f46cad8","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"678133f4-b0b8-4a94-a251-5a910f46cad8","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"forwardBackendToClient set Read timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"678133f4-b0b8-4a94-a251-5a910f46cad8","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"678133f4-b0b8-4a94-a251-5a910f46cad8","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"678133f4-b0b8-4a94-a251-5a910f46cad8","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"678133f4-b0b8-4a94-a251-5a910f46cad8","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"forwardClientToBackend set Write timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"678133f4-b0b8-4a94-a251-5a910f46cad8","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"678133f4-b0b8-4a94-a251-5a910f46cad8","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"brokerClientStream brokerClientStream SendMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"678133f4-b0b8-4a94-a251-5a910f46cad8","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"brokerClientStream try to publish to qa.mock.connection1.in msg with hdr: metadata.Metadata{\"Authorization\":\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A\", \"Client-Ip\":\"172.23.20.6\", \"Content-Type\":\"application/grpc\", \"Phone\":\"+77055552928\", \"Source-Service\":\"/testing.MockService/StreamCall\", \"User-Id\":\"25\", \"Username\":\"910919300363\", \"X-Forwarded-For\":\"172.23.20.6\", \"X-Forwarded-Port\":\"443\", \"X-Real-Ip\":\"172.23.20.6\", \"X-Request-Id\":\"678133f4-b0b8-4a94-a251-5a910f46cad8\"}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"678133f4-b0b8-4a94-a251-5a910f46cad8","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"678133f4-b0b8-4a94-a251-5a910f46cad8","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"forwardClientToBackend set Read timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"678133f4-b0b8-4a94-a251-5a910f46cad8","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"678133f4-b0b8-4a94-a251-5a910f46cad8","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"678133f4-b0b8-4a94-a251-5a910f46cad8","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"678133f4-b0b8-4a94-a251-5a910f46cad8","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"brokerClientStream CloseSend method"}
{"level":"info","X-Request-Id":"678133f4-b0b8-4a94-a251-5a910f46cad8","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"get message for service: /testing.MockService/StreamCall with md map[Authorization:Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A Client-Ip:172.23.20.6 Content-Type:application/grpc Phone:+77055552928 Source-Service:/testing.MockService/StreamCall User-Id:25 Username:910919300363 X-Forwarded-For:172.23.20.6 X-Forwarded-Port:443 X-Real-Ip:172.23.20.6 X-Request-Id:678133f4-b0b8-4a94-a251-5a910f46cad8]"}
{"level":"info","x-request-id":"678133f4-b0b8-4a94-a251-5a910f46cad8","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"get message for service: /testing.MockService/StreamCall"}
{"level":"debug","x-request-id":"678133f4-b0b8-4a94-a251-5a910f46cad8","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"grpcConnGet: /testing.MockService/StreamCall via 678133f4-b0b8-4a94-a251-5a910f46cad8"}
{"level":"debug","x-request-id":"678133f4-b0b8-4a94-a251-5a910f46cad8","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"grpc use stream conn: &handler.grpcProxy{grpcStream:(*handler.grpcServerStream)(0xc0002322c0), kafkaStream:(*handler.grpcClientStream)(0xc000232840)} sourceService: /testing.MockService/StreamCall"}
{"level":"info","x-request-id":"678133f4-b0b8-4a94-a251-5a910f46cad8","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"start transfer response from kafka"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"678133f4-b0b8-4a94-a251-5a910f46cad8","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"brokerClientStream SetHeader method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"678133f4-b0b8-4a94-a251-5a910f46cad8","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"brokerClientStream SetMsg method"}
{"level":"info","x-request-id":"678133f4-b0b8-4a94-a251-5a910f46cad8","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"stop transfer response from kafka"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"678133f4-b0b8-4a94-a251-5a910f46cad8","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"brokerClientStream RecvMsg method data"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"678133f4-b0b8-4a94-a251-5a910f46cad8","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"forwardBackendToClient src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"678133f4-b0b8-4a94-a251-5a910f46cad8","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"forwardBackendToClient set Write timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"678133f4-b0b8-4a94-a251-5a910f46cad8","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"forwardBackendToClient src.Header"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"678133f4-b0b8-4a94-a251-5a910f46cad8","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"brokerClientStream Header method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"678133f4-b0b8-4a94-a251-5a910f46cad8","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"forwardBackendToClient dst.SetHeader"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"678133f4-b0b8-4a94-a251-5a910f46cad8","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"forwardBackendToClient try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"678133f4-b0b8-4a94-a251-5a910f46cad8","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"forwardBackendToClient dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"678133f4-b0b8-4a94-a251-5a910f46cad8","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"forwardBackendToClient set Read timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"678133f4-b0b8-4a94-a251-5a910f46cad8","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"678133f4-b0b8-4a94-a251-5a910f46cad8","trace-id":"","span-id":"","time":"2024-04-03T10:26:35+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"678133f4-b0b8-4a94-a251-5a910f46cad8","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"brokerClientStream RecvMsg s.ctx.Done()"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"678133f4-b0b8-4a94-a251-5a910f46cad8","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"brokerClientStream Close method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"678133f4-b0b8-4a94-a251-5a910f46cad8","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"forwardBackendToClient src.RecvMsg err context canceled"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"678133f4-b0b8-4a94-a251-5a910f46cad8","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"grpcConnDel /testing.MockService/StreamCall 678133f4-b0b8-4a94-a251-5a910f46cad8"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"678133f4-b0b8-4a94-a251-5a910f46cad8","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"grpc handler exit"}
{"level":"debug","x-request-id":"f0cb649e-de54-45fd-96cc-fd0a924ad817","time":"2024-04-03T10:26:36+05:00","message":"authn.cookie not found"}
{"level":"debug","x-request-id":"f0cb649e-de54-45fd-96cc-fd0a924ad817","time":"2024-04-03T10:26:36+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"f0cb649e-de54-45fd-96cc-fd0a924ad817","time":"2024-04-03T10:26:36+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"f0cb649e-de54-45fd-96cc-fd0a924ad817","time":"2024-04-03T10:26:36+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"f0cb649e-de54-45fd-96cc-fd0a924ad817","time":"2024-04-03T10:26:36+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"f0cb649e-de54-45fd-96cc-fd0a924ad817","time":"2024-04-03T10:26:36+05:00","message":"jwt.extract set User-Id to 25"}
{"level":"info","x-request-id":"f0cb649e-de54-45fd-96cc-fd0a924ad817","time":"2024-04-03T10:26:36+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"f0cb649e-de54-45fd-96cc-fd0a924ad817","time":"2024-04-03T10:26:36+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"f0cb649e-de54-45fd-96cc-fd0a924ad817","time":"2024-04-03T10:26:36+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"f0cb649e-de54-45fd-96cc-fd0a924ad817","time":"2024-04-03T10:26:36+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"f0cb649e-de54-45fd-96cc-fd0a924ad817","time":"2024-04-03T10:26:36+05:00","message":"jwt.extract set Username to 910919300363"}
{"level":"info","x-request-id":"f0cb649e-de54-45fd-96cc-fd0a924ad817","time":"2024-04-03T10:26:36+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"f0cb649e-de54-45fd-96cc-fd0a924ad817","time":"2024-04-03T10:26:36+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"f0cb649e-de54-45fd-96cc-fd0a924ad817","time":"2024-04-03T10:26:36+05:00","message":"jwt.extract set Phone to +77055552928"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f0cb649e-de54-45fd-96cc-fd0a924ad817","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"grpcConnAdd /testing.MockService/UnaryCall f0cb649e-de54-45fd-96cc-fd0a924ad817"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f0cb649e-de54-45fd-96cc-fd0a924ad817","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f0cb649e-de54-45fd-96cc-fd0a924ad817","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f0cb649e-de54-45fd-96cc-fd0a924ad817","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f0cb649e-de54-45fd-96cc-fd0a924ad817","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f0cb649e-de54-45fd-96cc-fd0a924ad817","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"f0cb649e-de54-45fd-96cc-fd0a924ad817","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"brokerClientStream brokerClientStream SendMsg method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f0cb649e-de54-45fd-96cc-fd0a924ad817","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f0cb649e-de54-45fd-96cc-fd0a924ad817","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"f0cb649e-de54-45fd-96cc-fd0a924ad817","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"brokerClientStream try to publish to qa.mock.connection1.in msg with hdr: metadata.Metadata{\"Authorization\":\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A\", \"Client-Ip\":\"172.23.20.6\", \"Content-Type\":\"application/grpc\", \"Phone\":\"+77055552928\", \"Qa-Custom-Headers\":\"{\\\"Error-Code\\\": \\\"2058\\\", \\\"Grpc-Code\\\": \\\"1\\\", \\\"Error-Data\\\": \\\"Test grpc-code = 1\\\"}\", \"Source-Service\":\"/testing.MockService/UnaryCall\", \"User-Id\":\"25\", \"Username\":\"910919300363\", \"X-Forwarded-For\":\"172.23.20.6\", \"X-Forwarded-Port\":\"443\", \"X-Real-Ip\":\"172.23.20.6\", \"X-Request-Id\":\"f0cb649e-de54-45fd-96cc-fd0a924ad817\"}"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"f0cb649e-de54-45fd-96cc-fd0a924ad817","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f0cb649e-de54-45fd-96cc-fd0a924ad817","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"f0cb649e-de54-45fd-96cc-fd0a924ad817","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"brokerClientStream CloseSend method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f0cb649e-de54-45fd-96cc-fd0a924ad817","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f0cb649e-de54-45fd-96cc-fd0a924ad817","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f0cb649e-de54-45fd-96cc-fd0a924ad817","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f0cb649e-de54-45fd-96cc-fd0a924ad817","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"f0cb649e-de54-45fd-96cc-fd0a924ad817","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"brokerClientStream CloseSend method"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"f0cb649e-de54-45fd-96cc-fd0a924ad817","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"failed to CloseSend grpc conn: file already closed"}
{"level":"info","X-Request-Id":"f0cb649e-de54-45fd-96cc-fd0a924ad817","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"get message for service: /testing.MockService/UnaryCall with md map[Authorization:Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A Client-Ip:172.23.20.6 Content-Type:application/grpc Error-Code:2058 Error-Data:Test grpc-code = 1 Grpc-Code:1 Phone:+77055552928 Qa-Custom-Headers:{\"Error-Code\": \"2058\", \"Grpc-Code\": \"1\", \"Error-Data\": \"Test grpc-code = 1\"} Source-Service:/testing.MockService/UnaryCall User-Id:25 Username:910919300363 X-Forwarded-For:172.23.20.6 X-Forwarded-Port:443 X-Real-Ip:172.23.20.6 X-Request-Id:f0cb649e-de54-45fd-96cc-fd0a924ad817]"}
{"level":"info","x-request-id":"f0cb649e-de54-45fd-96cc-fd0a924ad817","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"get message for service: /testing.MockService/UnaryCall"}
{"level":"debug","x-request-id":"f0cb649e-de54-45fd-96cc-fd0a924ad817","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"grpcConnGet: /testing.MockService/UnaryCall via f0cb649e-de54-45fd-96cc-fd0a924ad817"}
{"level":"debug","x-request-id":"f0cb649e-de54-45fd-96cc-fd0a924ad817","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"grpc use stream conn: &handler.grpcProxy{grpcStream:(*handler.grpcServerStream)(0xc0006684d0), kafkaStream:(*handler.grpcClientStream)(0xc000668580)} sourceService: /testing.MockService/UnaryCall"}
{"level":"info","x-request-id":"f0cb649e-de54-45fd-96cc-fd0a924ad817","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"start transfer response from kafka"}
{"level":"error","x-request-id":"f0cb649e-de54-45fd-96cc-fd0a924ad817","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"error message for service: /testing.MockService/UnaryCallrpc error: code = Canceled desc = 2058"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"f0cb649e-de54-45fd-96cc-fd0a924ad817","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"brokerClientStream SetError method"}
{"level":"info","x-request-id":"f0cb649e-de54-45fd-96cc-fd0a924ad817","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"stop transfer response from kafka"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"f0cb649e-de54-45fd-96cc-fd0a924ad817","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"brokerClientStream Close method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f0cb649e-de54-45fd-96cc-fd0a924ad817","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"forwardBackendToClient src.RecvMsg err rpc error: code = Canceled desc = 2058"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f0cb649e-de54-45fd-96cc-fd0a924ad817","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"b2cErr := <-b2cErrChan: err: rpc error: code = Canceled desc = 2058"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"f0cb649e-de54-45fd-96cc-fd0a924ad817","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"brokerClientStream Trailer method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"f0cb649e-de54-45fd-96cc-fd0a924ad817","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"grpcConnDel /testing.MockService/UnaryCall f0cb649e-de54-45fd-96cc-fd0a924ad817"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"f0cb649e-de54-45fd-96cc-fd0a924ad817","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"grpc handler exit"}
{"level":"debug","x-request-id":"251979f1-69fe-4a04-aa34-bc9a458971da","time":"2024-04-03T10:26:36+05:00","message":"authn.cookie not found"}
{"level":"debug","x-request-id":"251979f1-69fe-4a04-aa34-bc9a458971da","time":"2024-04-03T10:26:36+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"251979f1-69fe-4a04-aa34-bc9a458971da","time":"2024-04-03T10:26:36+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"251979f1-69fe-4a04-aa34-bc9a458971da","time":"2024-04-03T10:26:36+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"251979f1-69fe-4a04-aa34-bc9a458971da","time":"2024-04-03T10:26:36+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"251979f1-69fe-4a04-aa34-bc9a458971da","time":"2024-04-03T10:26:36+05:00","message":"jwt.extract set User-Id to 25"}
{"level":"info","x-request-id":"251979f1-69fe-4a04-aa34-bc9a458971da","time":"2024-04-03T10:26:36+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"251979f1-69fe-4a04-aa34-bc9a458971da","time":"2024-04-03T10:26:36+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"251979f1-69fe-4a04-aa34-bc9a458971da","time":"2024-04-03T10:26:36+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"251979f1-69fe-4a04-aa34-bc9a458971da","time":"2024-04-03T10:26:36+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"251979f1-69fe-4a04-aa34-bc9a458971da","time":"2024-04-03T10:26:36+05:00","message":"jwt.extract set Username to 910919300363"}
{"level":"info","x-request-id":"251979f1-69fe-4a04-aa34-bc9a458971da","time":"2024-04-03T10:26:36+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"251979f1-69fe-4a04-aa34-bc9a458971da","time":"2024-04-03T10:26:36+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"251979f1-69fe-4a04-aa34-bc9a458971da","time":"2024-04-03T10:26:36+05:00","message":"jwt.extract set Phone to +77055552928"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"251979f1-69fe-4a04-aa34-bc9a458971da","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"grpcConnAdd /testing.MockService/UnaryCall 251979f1-69fe-4a04-aa34-bc9a458971da"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"251979f1-69fe-4a04-aa34-bc9a458971da","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"251979f1-69fe-4a04-aa34-bc9a458971da","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"251979f1-69fe-4a04-aa34-bc9a458971da","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"251979f1-69fe-4a04-aa34-bc9a458971da","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"251979f1-69fe-4a04-aa34-bc9a458971da","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"251979f1-69fe-4a04-aa34-bc9a458971da","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"251979f1-69fe-4a04-aa34-bc9a458971da","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"251979f1-69fe-4a04-aa34-bc9a458971da","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"251979f1-69fe-4a04-aa34-bc9a458971da","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"brokerClientStream brokerClientStream SendMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"251979f1-69fe-4a04-aa34-bc9a458971da","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"brokerClientStream try to publish to qa.mock.connection1.in msg with hdr: metadata.Metadata{\"Authorization\":\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A\", \"Client-Ip\":\"172.23.20.6\", \"Content-Type\":\"application/grpc\", \"Phone\":\"+77055552928\", \"Qa-Custom-Headers\":\"{\\\"Error-Code\\\": \\\"9756\\\", \\\"Grpc-Code\\\": \\\"2\\\", \\\"Error-Data\\\": \\\"Test grpc-code = 2\\\"}\", \"Source-Service\":\"/testing.MockService/UnaryCall\", \"User-Id\":\"25\", \"Username\":\"910919300363\", \"X-Forwarded-For\":\"172.23.20.6\", \"X-Forwarded-Port\":\"443\", \"X-Real-Ip\":\"172.23.20.6\", \"X-Request-Id\":\"251979f1-69fe-4a04-aa34-bc9a458971da\"}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"251979f1-69fe-4a04-aa34-bc9a458971da","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"251979f1-69fe-4a04-aa34-bc9a458971da","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"brokerClientStream CloseSend method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"251979f1-69fe-4a04-aa34-bc9a458971da","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"251979f1-69fe-4a04-aa34-bc9a458971da","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"251979f1-69fe-4a04-aa34-bc9a458971da","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"251979f1-69fe-4a04-aa34-bc9a458971da","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"251979f1-69fe-4a04-aa34-bc9a458971da","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"brokerClientStream CloseSend method"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"251979f1-69fe-4a04-aa34-bc9a458971da","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"failed to CloseSend grpc conn: file already closed"}
{"level":"info","X-Request-Id":"251979f1-69fe-4a04-aa34-bc9a458971da","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"get message for service: /testing.MockService/UnaryCall with md map[Authorization:Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A Client-Ip:172.23.20.6 Content-Type:application/grpc Error-Code:9756 Error-Data:Test grpc-code = 2 Grpc-Code:2 Phone:+77055552928 Qa-Custom-Headers:{\"Error-Code\": \"9756\", \"Grpc-Code\": \"2\", \"Error-Data\": \"Test grpc-code = 2\"} Source-Service:/testing.MockService/UnaryCall User-Id:25 Username:910919300363 X-Forwarded-For:172.23.20.6 X-Forwarded-Port:443 X-Real-Ip:172.23.20.6 X-Request-Id:251979f1-69fe-4a04-aa34-bc9a458971da]"}
{"level":"info","x-request-id":"251979f1-69fe-4a04-aa34-bc9a458971da","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"get message for service: /testing.MockService/UnaryCall"}
{"level":"debug","x-request-id":"251979f1-69fe-4a04-aa34-bc9a458971da","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"grpcConnGet: /testing.MockService/UnaryCall via 251979f1-69fe-4a04-aa34-bc9a458971da"}
{"level":"debug","x-request-id":"251979f1-69fe-4a04-aa34-bc9a458971da","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"grpc use stream conn: &handler.grpcProxy{grpcStream:(*handler.grpcServerStream)(0xc0002d1600), kafkaStream:(*handler.grpcClientStream)(0xc0002d16b0)} sourceService: /testing.MockService/UnaryCall"}
{"level":"info","x-request-id":"251979f1-69fe-4a04-aa34-bc9a458971da","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"start transfer response from kafka"}
{"level":"error","x-request-id":"251979f1-69fe-4a04-aa34-bc9a458971da","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"error message for service: /testing.MockService/UnaryCallrpc error: code = Unknown desc = 9756"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"251979f1-69fe-4a04-aa34-bc9a458971da","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"brokerClientStream SetError method"}
{"level":"info","x-request-id":"251979f1-69fe-4a04-aa34-bc9a458971da","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"stop transfer response from kafka"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"251979f1-69fe-4a04-aa34-bc9a458971da","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"brokerClientStream Close method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"251979f1-69fe-4a04-aa34-bc9a458971da","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"forwardBackendToClient src.RecvMsg err rpc error: code = Unknown desc = 9756"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"251979f1-69fe-4a04-aa34-bc9a458971da","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"b2cErr := <-b2cErrChan: err: rpc error: code = Unknown desc = 9756"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"251979f1-69fe-4a04-aa34-bc9a458971da","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"brokerClientStream Trailer method"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"251979f1-69fe-4a04-aa34-bc9a458971da","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"failed to proxy grpc conn c2bErr: rpc error: code = Unknown desc = 9756 *status.Error &status.Error{s:(*status.Status)(0xc00007e870)}"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"251979f1-69fe-4a04-aa34-bc9a458971da","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"error status &status.Status{s:(*status.Status)(0xc000889920)}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"251979f1-69fe-4a04-aa34-bc9a458971da","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"grpcConnDel /testing.MockService/UnaryCall 251979f1-69fe-4a04-aa34-bc9a458971da"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"251979f1-69fe-4a04-aa34-bc9a458971da","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"grpc handler exit"}
{"level":"debug","x-request-id":"b9c17d1d-9f88-4f86-8fc8-d847aecae837","time":"2024-04-03T10:26:36+05:00","message":"authn.cookie not found"}
{"level":"debug","x-request-id":"b9c17d1d-9f88-4f86-8fc8-d847aecae837","time":"2024-04-03T10:26:36+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"b9c17d1d-9f88-4f86-8fc8-d847aecae837","time":"2024-04-03T10:26:36+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"b9c17d1d-9f88-4f86-8fc8-d847aecae837","time":"2024-04-03T10:26:36+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"b9c17d1d-9f88-4f86-8fc8-d847aecae837","time":"2024-04-03T10:26:36+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"b9c17d1d-9f88-4f86-8fc8-d847aecae837","time":"2024-04-03T10:26:36+05:00","message":"jwt.extract set User-Id to 25"}
{"level":"info","x-request-id":"b9c17d1d-9f88-4f86-8fc8-d847aecae837","time":"2024-04-03T10:26:36+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"b9c17d1d-9f88-4f86-8fc8-d847aecae837","time":"2024-04-03T10:26:36+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"b9c17d1d-9f88-4f86-8fc8-d847aecae837","time":"2024-04-03T10:26:36+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"b9c17d1d-9f88-4f86-8fc8-d847aecae837","time":"2024-04-03T10:26:36+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"b9c17d1d-9f88-4f86-8fc8-d847aecae837","time":"2024-04-03T10:26:36+05:00","message":"jwt.extract set Username to 910919300363"}
{"level":"info","x-request-id":"b9c17d1d-9f88-4f86-8fc8-d847aecae837","time":"2024-04-03T10:26:36+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"b9c17d1d-9f88-4f86-8fc8-d847aecae837","time":"2024-04-03T10:26:36+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"b9c17d1d-9f88-4f86-8fc8-d847aecae837","time":"2024-04-03T10:26:36+05:00","message":"jwt.extract set Phone to +77055552928"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"b9c17d1d-9f88-4f86-8fc8-d847aecae837","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"grpcConnAdd /testing.MockService/UnaryCall b9c17d1d-9f88-4f86-8fc8-d847aecae837"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"b9c17d1d-9f88-4f86-8fc8-d847aecae837","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"b9c17d1d-9f88-4f86-8fc8-d847aecae837","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"b9c17d1d-9f88-4f86-8fc8-d847aecae837","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"b9c17d1d-9f88-4f86-8fc8-d847aecae837","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"b9c17d1d-9f88-4f86-8fc8-d847aecae837","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"b9c17d1d-9f88-4f86-8fc8-d847aecae837","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"b9c17d1d-9f88-4f86-8fc8-d847aecae837","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"b9c17d1d-9f88-4f86-8fc8-d847aecae837","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"b9c17d1d-9f88-4f86-8fc8-d847aecae837","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"brokerClientStream brokerClientStream SendMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"b9c17d1d-9f88-4f86-8fc8-d847aecae837","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"brokerClientStream try to publish to qa.mock.connection1.in msg with hdr: metadata.Metadata{\"Authorization\":\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A\", \"Client-Ip\":\"172.23.20.6\", \"Content-Type\":\"application/grpc\", \"Phone\":\"+77055552928\", \"Qa-Custom-Headers\":\"{\\\"Error-Code\\\": \\\"7642\\\", \\\"Grpc-Code\\\": \\\"3\\\", \\\"Error-Data\\\": \\\"Test grpc-code = 3\\\"}\", \"Source-Service\":\"/testing.MockService/UnaryCall\", \"User-Id\":\"25\", \"Username\":\"910919300363\", \"X-Forwarded-For\":\"172.23.20.6\", \"X-Forwarded-Port\":\"443\", \"X-Real-Ip\":\"172.23.20.6\", \"X-Request-Id\":\"b9c17d1d-9f88-4f86-8fc8-d847aecae837\"}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"b9c17d1d-9f88-4f86-8fc8-d847aecae837","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"b9c17d1d-9f88-4f86-8fc8-d847aecae837","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"brokerClientStream CloseSend method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"b9c17d1d-9f88-4f86-8fc8-d847aecae837","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"b9c17d1d-9f88-4f86-8fc8-d847aecae837","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"b9c17d1d-9f88-4f86-8fc8-d847aecae837","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"b9c17d1d-9f88-4f86-8fc8-d847aecae837","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"b9c17d1d-9f88-4f86-8fc8-d847aecae837","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"brokerClientStream CloseSend method"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"b9c17d1d-9f88-4f86-8fc8-d847aecae837","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"failed to CloseSend grpc conn: file already closed"}
{"level":"info","X-Request-Id":"b9c17d1d-9f88-4f86-8fc8-d847aecae837","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"get message for service: /testing.MockService/UnaryCall with md map[Authorization:Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A Client-Ip:172.23.20.6 Content-Type:application/grpc Error-Code:7642 Error-Data:Test grpc-code = 3 Grpc-Code:3 Phone:+77055552928 Qa-Custom-Headers:{\"Error-Code\": \"7642\", \"Grpc-Code\": \"3\", \"Error-Data\": \"Test grpc-code = 3\"} Source-Service:/testing.MockService/UnaryCall User-Id:25 Username:910919300363 X-Forwarded-For:172.23.20.6 X-Forwarded-Port:443 X-Real-Ip:172.23.20.6 X-Request-Id:b9c17d1d-9f88-4f86-8fc8-d847aecae837]"}
{"level":"info","x-request-id":"b9c17d1d-9f88-4f86-8fc8-d847aecae837","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"get message for service: /testing.MockService/UnaryCall"}
{"level":"debug","x-request-id":"b9c17d1d-9f88-4f86-8fc8-d847aecae837","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"grpcConnGet: /testing.MockService/UnaryCall via b9c17d1d-9f88-4f86-8fc8-d847aecae837"}
{"level":"debug","x-request-id":"b9c17d1d-9f88-4f86-8fc8-d847aecae837","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"grpc use stream conn: &handler.grpcProxy{grpcStream:(*handler.grpcServerStream)(0xc000410d10), kafkaStream:(*handler.grpcClientStream)(0xc000410dc0)} sourceService: /testing.MockService/UnaryCall"}
{"level":"info","x-request-id":"b9c17d1d-9f88-4f86-8fc8-d847aecae837","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"start transfer response from kafka"}
{"level":"error","x-request-id":"b9c17d1d-9f88-4f86-8fc8-d847aecae837","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"error message for service: /testing.MockService/UnaryCallrpc error: code = InvalidArgument desc = 7642"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"b9c17d1d-9f88-4f86-8fc8-d847aecae837","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"brokerClientStream SetError method"}
{"level":"info","x-request-id":"b9c17d1d-9f88-4f86-8fc8-d847aecae837","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"stop transfer response from kafka"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"b9c17d1d-9f88-4f86-8fc8-d847aecae837","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"brokerClientStream Close method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"b9c17d1d-9f88-4f86-8fc8-d847aecae837","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"forwardBackendToClient src.RecvMsg err rpc error: code = InvalidArgument desc = 7642"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"b9c17d1d-9f88-4f86-8fc8-d847aecae837","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"b2cErr := <-b2cErrChan: err: rpc error: code = InvalidArgument desc = 7642"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"b9c17d1d-9f88-4f86-8fc8-d847aecae837","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"brokerClientStream Trailer method"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"b9c17d1d-9f88-4f86-8fc8-d847aecae837","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"failed to proxy grpc conn c2bErr: rpc error: code = InvalidArgument desc = 7642 *status.Error &status.Error{s:(*status.Status)(0xc0002203a0)}"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"b9c17d1d-9f88-4f86-8fc8-d847aecae837","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"error status &status.Status{s:(*status.Status)(0xc000c39080)}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"b9c17d1d-9f88-4f86-8fc8-d847aecae837","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"grpcConnDel /testing.MockService/UnaryCall b9c17d1d-9f88-4f86-8fc8-d847aecae837"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"b9c17d1d-9f88-4f86-8fc8-d847aecae837","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"grpc handler exit"}
{"level":"debug","x-request-id":"cf1645e3-6b09-4fb3-a2c0-6dbe8ceb9375","time":"2024-04-03T10:26:36+05:00","message":"authn.cookie not found"}
{"level":"debug","x-request-id":"cf1645e3-6b09-4fb3-a2c0-6dbe8ceb9375","time":"2024-04-03T10:26:36+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"cf1645e3-6b09-4fb3-a2c0-6dbe8ceb9375","time":"2024-04-03T10:26:36+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"cf1645e3-6b09-4fb3-a2c0-6dbe8ceb9375","time":"2024-04-03T10:26:36+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"cf1645e3-6b09-4fb3-a2c0-6dbe8ceb9375","time":"2024-04-03T10:26:36+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"cf1645e3-6b09-4fb3-a2c0-6dbe8ceb9375","time":"2024-04-03T10:26:36+05:00","message":"jwt.extract set User-Id to 25"}
{"level":"info","x-request-id":"cf1645e3-6b09-4fb3-a2c0-6dbe8ceb9375","time":"2024-04-03T10:26:36+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"cf1645e3-6b09-4fb3-a2c0-6dbe8ceb9375","time":"2024-04-03T10:26:36+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"cf1645e3-6b09-4fb3-a2c0-6dbe8ceb9375","time":"2024-04-03T10:26:36+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"cf1645e3-6b09-4fb3-a2c0-6dbe8ceb9375","time":"2024-04-03T10:26:36+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"cf1645e3-6b09-4fb3-a2c0-6dbe8ceb9375","time":"2024-04-03T10:26:36+05:00","message":"jwt.extract set Username to 910919300363"}
{"level":"info","x-request-id":"cf1645e3-6b09-4fb3-a2c0-6dbe8ceb9375","time":"2024-04-03T10:26:36+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"cf1645e3-6b09-4fb3-a2c0-6dbe8ceb9375","time":"2024-04-03T10:26:36+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"cf1645e3-6b09-4fb3-a2c0-6dbe8ceb9375","time":"2024-04-03T10:26:36+05:00","message":"jwt.extract set Phone to +77055552928"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cf1645e3-6b09-4fb3-a2c0-6dbe8ceb9375","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"grpcConnAdd /testing.MockService/UnaryCall cf1645e3-6b09-4fb3-a2c0-6dbe8ceb9375"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cf1645e3-6b09-4fb3-a2c0-6dbe8ceb9375","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cf1645e3-6b09-4fb3-a2c0-6dbe8ceb9375","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"cf1645e3-6b09-4fb3-a2c0-6dbe8ceb9375","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cf1645e3-6b09-4fb3-a2c0-6dbe8ceb9375","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cf1645e3-6b09-4fb3-a2c0-6dbe8ceb9375","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cf1645e3-6b09-4fb3-a2c0-6dbe8ceb9375","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cf1645e3-6b09-4fb3-a2c0-6dbe8ceb9375","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cf1645e3-6b09-4fb3-a2c0-6dbe8ceb9375","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"cf1645e3-6b09-4fb3-a2c0-6dbe8ceb9375","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"brokerClientStream brokerClientStream SendMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"cf1645e3-6b09-4fb3-a2c0-6dbe8ceb9375","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"brokerClientStream try to publish to qa.mock.connection1.in msg with hdr: metadata.Metadata{\"Authorization\":\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A\", \"Client-Ip\":\"172.23.20.6\", \"Content-Type\":\"application/grpc\", \"Phone\":\"+77055552928\", \"Qa-Custom-Headers\":\"{\\\"Error-Code\\\": \\\"2927\\\", \\\"Grpc-Code\\\": \\\"4\\\", \\\"Error-Data\\\": \\\"Test grpc-code = 4\\\"}\", \"Source-Service\":\"/testing.MockService/UnaryCall\", \"User-Id\":\"25\", \"Username\":\"910919300363\", \"X-Forwarded-For\":\"172.23.20.6\", \"X-Forwarded-Port\":\"443\", \"X-Real-Ip\":\"172.23.20.6\", \"X-Request-Id\":\"cf1645e3-6b09-4fb3-a2c0-6dbe8ceb9375\"}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cf1645e3-6b09-4fb3-a2c0-6dbe8ceb9375","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"cf1645e3-6b09-4fb3-a2c0-6dbe8ceb9375","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"brokerClientStream CloseSend method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cf1645e3-6b09-4fb3-a2c0-6dbe8ceb9375","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cf1645e3-6b09-4fb3-a2c0-6dbe8ceb9375","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cf1645e3-6b09-4fb3-a2c0-6dbe8ceb9375","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cf1645e3-6b09-4fb3-a2c0-6dbe8ceb9375","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"cf1645e3-6b09-4fb3-a2c0-6dbe8ceb9375","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"brokerClientStream CloseSend method"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"cf1645e3-6b09-4fb3-a2c0-6dbe8ceb9375","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"failed to CloseSend grpc conn: file already closed"}
{"level":"info","X-Request-Id":"cf1645e3-6b09-4fb3-a2c0-6dbe8ceb9375","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"get message for service: /testing.MockService/UnaryCall with md map[Authorization:Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A Client-Ip:172.23.20.6 Content-Type:application/grpc Error-Code:2927 Error-Data:Test grpc-code = 4 Grpc-Code:4 Phone:+77055552928 Qa-Custom-Headers:{\"Error-Code\": \"2927\", \"Grpc-Code\": \"4\", \"Error-Data\": \"Test grpc-code = 4\"} Source-Service:/testing.MockService/UnaryCall User-Id:25 Username:910919300363 X-Forwarded-For:172.23.20.6 X-Forwarded-Port:443 X-Real-Ip:172.23.20.6 X-Request-Id:cf1645e3-6b09-4fb3-a2c0-6dbe8ceb9375]"}
{"level":"info","x-request-id":"cf1645e3-6b09-4fb3-a2c0-6dbe8ceb9375","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"get message for service: /testing.MockService/UnaryCall"}
{"level":"debug","x-request-id":"cf1645e3-6b09-4fb3-a2c0-6dbe8ceb9375","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"grpcConnGet: /testing.MockService/UnaryCall via cf1645e3-6b09-4fb3-a2c0-6dbe8ceb9375"}
{"level":"debug","x-request-id":"cf1645e3-6b09-4fb3-a2c0-6dbe8ceb9375","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"grpc use stream conn: &handler.grpcProxy{grpcStream:(*handler.grpcServerStream)(0xc000232a50), kafkaStream:(*handler.grpcClientStream)(0xc000232b00)} sourceService: /testing.MockService/UnaryCall"}
{"level":"info","x-request-id":"cf1645e3-6b09-4fb3-a2c0-6dbe8ceb9375","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"start transfer response from kafka"}
{"level":"error","x-request-id":"cf1645e3-6b09-4fb3-a2c0-6dbe8ceb9375","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"error message for service: /testing.MockService/UnaryCallrpc error: code = DeadlineExceeded desc = 2927"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"cf1645e3-6b09-4fb3-a2c0-6dbe8ceb9375","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"brokerClientStream SetError method"}
{"level":"info","x-request-id":"cf1645e3-6b09-4fb3-a2c0-6dbe8ceb9375","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"stop transfer response from kafka"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"cf1645e3-6b09-4fb3-a2c0-6dbe8ceb9375","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"brokerClientStream Close method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cf1645e3-6b09-4fb3-a2c0-6dbe8ceb9375","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"forwardBackendToClient src.RecvMsg err rpc error: code = DeadlineExceeded desc = 2927"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cf1645e3-6b09-4fb3-a2c0-6dbe8ceb9375","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"b2cErr := <-b2cErrChan: err: rpc error: code = DeadlineExceeded desc = 2927"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"cf1645e3-6b09-4fb3-a2c0-6dbe8ceb9375","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"brokerClientStream Trailer method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cf1645e3-6b09-4fb3-a2c0-6dbe8ceb9375","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"grpcConnDel /testing.MockService/UnaryCall cf1645e3-6b09-4fb3-a2c0-6dbe8ceb9375"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"cf1645e3-6b09-4fb3-a2c0-6dbe8ceb9375","trace-id":"","span-id":"","time":"2024-04-03T10:26:36+05:00","message":"grpc handler exit"}
{"level":"debug","x-request-id":"400572e7-8305-4142-bdaf-0c9773fad2f9","time":"2024-04-03T10:26:37+05:00","message":"authn.cookie not found"}
{"level":"debug","x-request-id":"400572e7-8305-4142-bdaf-0c9773fad2f9","time":"2024-04-03T10:26:37+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"400572e7-8305-4142-bdaf-0c9773fad2f9","time":"2024-04-03T10:26:37+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"400572e7-8305-4142-bdaf-0c9773fad2f9","time":"2024-04-03T10:26:37+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"400572e7-8305-4142-bdaf-0c9773fad2f9","time":"2024-04-03T10:26:37+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"400572e7-8305-4142-bdaf-0c9773fad2f9","time":"2024-04-03T10:26:37+05:00","message":"jwt.extract set User-Id to 25"}
{"level":"info","x-request-id":"400572e7-8305-4142-bdaf-0c9773fad2f9","time":"2024-04-03T10:26:37+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"400572e7-8305-4142-bdaf-0c9773fad2f9","time":"2024-04-03T10:26:37+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"400572e7-8305-4142-bdaf-0c9773fad2f9","time":"2024-04-03T10:26:37+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"400572e7-8305-4142-bdaf-0c9773fad2f9","time":"2024-04-03T10:26:37+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"400572e7-8305-4142-bdaf-0c9773fad2f9","time":"2024-04-03T10:26:37+05:00","message":"jwt.extract set Username to 910919300363"}
{"level":"info","x-request-id":"400572e7-8305-4142-bdaf-0c9773fad2f9","time":"2024-04-03T10:26:37+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"400572e7-8305-4142-bdaf-0c9773fad2f9","time":"2024-04-03T10:26:37+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"400572e7-8305-4142-bdaf-0c9773fad2f9","time":"2024-04-03T10:26:37+05:00","message":"jwt.extract set Phone to +77055552928"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"400572e7-8305-4142-bdaf-0c9773fad2f9","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"grpcConnAdd /testing.MockService/UnaryCall 400572e7-8305-4142-bdaf-0c9773fad2f9"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"400572e7-8305-4142-bdaf-0c9773fad2f9","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"400572e7-8305-4142-bdaf-0c9773fad2f9","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"400572e7-8305-4142-bdaf-0c9773fad2f9","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"400572e7-8305-4142-bdaf-0c9773fad2f9","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"400572e7-8305-4142-bdaf-0c9773fad2f9","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"400572e7-8305-4142-bdaf-0c9773fad2f9","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"400572e7-8305-4142-bdaf-0c9773fad2f9","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"400572e7-8305-4142-bdaf-0c9773fad2f9","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"brokerClientStream brokerClientStream SendMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"400572e7-8305-4142-bdaf-0c9773fad2f9","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"400572e7-8305-4142-bdaf-0c9773fad2f9","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"brokerClientStream try to publish to qa.mock.connection1.in msg with hdr: metadata.Metadata{\"Authorization\":\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A\", \"Client-Ip\":\"172.23.20.6\", \"Content-Type\":\"application/grpc\", \"Phone\":\"+77055552928\", \"Qa-Custom-Headers\":\"{\\\"Error-Code\\\": \\\"7972\\\", \\\"Grpc-Code\\\": \\\"5\\\", \\\"Error-Data\\\": \\\"Test grpc-code = 5\\\"}\", \"Source-Service\":\"/testing.MockService/UnaryCall\", \"User-Id\":\"25\", \"Username\":\"910919300363\", \"X-Forwarded-For\":\"172.23.20.6\", \"X-Forwarded-Port\":\"443\", \"X-Real-Ip\":\"172.23.20.6\", \"X-Request-Id\":\"400572e7-8305-4142-bdaf-0c9773fad2f9\"}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"400572e7-8305-4142-bdaf-0c9773fad2f9","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"400572e7-8305-4142-bdaf-0c9773fad2f9","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"brokerClientStream CloseSend method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"400572e7-8305-4142-bdaf-0c9773fad2f9","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"400572e7-8305-4142-bdaf-0c9773fad2f9","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"400572e7-8305-4142-bdaf-0c9773fad2f9","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"400572e7-8305-4142-bdaf-0c9773fad2f9","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"400572e7-8305-4142-bdaf-0c9773fad2f9","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"brokerClientStream CloseSend method"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"400572e7-8305-4142-bdaf-0c9773fad2f9","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"failed to CloseSend grpc conn: file already closed"}
{"level":"info","X-Request-Id":"400572e7-8305-4142-bdaf-0c9773fad2f9","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"get message for service: /testing.MockService/UnaryCall with md map[Authorization:Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A Client-Ip:172.23.20.6 Content-Type:application/grpc Error-Code:7972 Error-Data:Test grpc-code = 5 Grpc-Code:5 Phone:+77055552928 Qa-Custom-Headers:{\"Error-Code\": \"7972\", \"Grpc-Code\": \"5\", \"Error-Data\": \"Test grpc-code = 5\"} Source-Service:/testing.MockService/UnaryCall User-Id:25 Username:910919300363 X-Forwarded-For:172.23.20.6 X-Forwarded-Port:443 X-Real-Ip:172.23.20.6 X-Request-Id:400572e7-8305-4142-bdaf-0c9773fad2f9]"}
{"level":"info","x-request-id":"400572e7-8305-4142-bdaf-0c9773fad2f9","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"get message for service: /testing.MockService/UnaryCall"}
{"level":"debug","x-request-id":"400572e7-8305-4142-bdaf-0c9773fad2f9","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"grpcConnGet: /testing.MockService/UnaryCall via 400572e7-8305-4142-bdaf-0c9773fad2f9"}
{"level":"debug","x-request-id":"400572e7-8305-4142-bdaf-0c9773fad2f9","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"grpc use stream conn: &handler.grpcProxy{grpcStream:(*handler.grpcServerStream)(0xc0002d1ce0), kafkaStream:(*handler.grpcClientStream)(0xc0002d1d90)} sourceService: /testing.MockService/UnaryCall"}
{"level":"info","x-request-id":"400572e7-8305-4142-bdaf-0c9773fad2f9","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"start transfer response from kafka"}
{"level":"error","x-request-id":"400572e7-8305-4142-bdaf-0c9773fad2f9","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"error message for service: /testing.MockService/UnaryCallrpc error: code = NotFound desc = 7972"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"400572e7-8305-4142-bdaf-0c9773fad2f9","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"brokerClientStream SetError method"}
{"level":"info","x-request-id":"400572e7-8305-4142-bdaf-0c9773fad2f9","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"stop transfer response from kafka"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"400572e7-8305-4142-bdaf-0c9773fad2f9","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"brokerClientStream Close method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"400572e7-8305-4142-bdaf-0c9773fad2f9","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"forwardBackendToClient src.RecvMsg err rpc error: code = NotFound desc = 7972"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"400572e7-8305-4142-bdaf-0c9773fad2f9","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"b2cErr := <-b2cErrChan: err: rpc error: code = NotFound desc = 7972"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"400572e7-8305-4142-bdaf-0c9773fad2f9","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"brokerClientStream Trailer method"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"400572e7-8305-4142-bdaf-0c9773fad2f9","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"failed to proxy grpc conn c2bErr: rpc error: code = NotFound desc = 7972 *status.Error &status.Error{s:(*status.Status)(0xc0008923f0)}"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"400572e7-8305-4142-bdaf-0c9773fad2f9","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"error status &status.Status{s:(*status.Status)(0xc000c67500)}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"400572e7-8305-4142-bdaf-0c9773fad2f9","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"grpcConnDel /testing.MockService/UnaryCall 400572e7-8305-4142-bdaf-0c9773fad2f9"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"400572e7-8305-4142-bdaf-0c9773fad2f9","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"grpc handler exit"}
{"level":"debug","x-request-id":"c5f092ce-6a2f-4289-aae7-cc7468e108c6","time":"2024-04-03T10:26:37+05:00","message":"authn.cookie not found"}
{"level":"debug","x-request-id":"c5f092ce-6a2f-4289-aae7-cc7468e108c6","time":"2024-04-03T10:26:37+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"c5f092ce-6a2f-4289-aae7-cc7468e108c6","time":"2024-04-03T10:26:37+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"c5f092ce-6a2f-4289-aae7-cc7468e108c6","time":"2024-04-03T10:26:37+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"c5f092ce-6a2f-4289-aae7-cc7468e108c6","time":"2024-04-03T10:26:37+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"c5f092ce-6a2f-4289-aae7-cc7468e108c6","time":"2024-04-03T10:26:37+05:00","message":"jwt.extract set User-Id to 25"}
{"level":"info","x-request-id":"c5f092ce-6a2f-4289-aae7-cc7468e108c6","time":"2024-04-03T10:26:37+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"c5f092ce-6a2f-4289-aae7-cc7468e108c6","time":"2024-04-03T10:26:37+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"c5f092ce-6a2f-4289-aae7-cc7468e108c6","time":"2024-04-03T10:26:37+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"c5f092ce-6a2f-4289-aae7-cc7468e108c6","time":"2024-04-03T10:26:37+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"c5f092ce-6a2f-4289-aae7-cc7468e108c6","time":"2024-04-03T10:26:37+05:00","message":"jwt.extract set Username to 910919300363"}
{"level":"info","x-request-id":"c5f092ce-6a2f-4289-aae7-cc7468e108c6","time":"2024-04-03T10:26:37+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"c5f092ce-6a2f-4289-aae7-cc7468e108c6","time":"2024-04-03T10:26:37+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"c5f092ce-6a2f-4289-aae7-cc7468e108c6","time":"2024-04-03T10:26:37+05:00","message":"jwt.extract set Phone to +77055552928"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c5f092ce-6a2f-4289-aae7-cc7468e108c6","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"grpcConnAdd /testing.MockService/UnaryCall c5f092ce-6a2f-4289-aae7-cc7468e108c6"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c5f092ce-6a2f-4289-aae7-cc7468e108c6","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c5f092ce-6a2f-4289-aae7-cc7468e108c6","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c5f092ce-6a2f-4289-aae7-cc7468e108c6","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c5f092ce-6a2f-4289-aae7-cc7468e108c6","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c5f092ce-6a2f-4289-aae7-cc7468e108c6","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"c5f092ce-6a2f-4289-aae7-cc7468e108c6","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c5f092ce-6a2f-4289-aae7-cc7468e108c6","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c5f092ce-6a2f-4289-aae7-cc7468e108c6","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"c5f092ce-6a2f-4289-aae7-cc7468e108c6","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"brokerClientStream brokerClientStream SendMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"c5f092ce-6a2f-4289-aae7-cc7468e108c6","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"brokerClientStream try to publish to qa.mock.connection1.in msg with hdr: metadata.Metadata{\"Authorization\":\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A\", \"Client-Ip\":\"172.23.20.6\", \"Content-Type\":\"application/grpc\", \"Phone\":\"+77055552928\", \"Qa-Custom-Headers\":\"{\\\"Error-Code\\\": \\\"5895\\\", \\\"Grpc-Code\\\": \\\"6\\\", \\\"Error-Data\\\": \\\"Test grpc-code = 6\\\"}\", \"Source-Service\":\"/testing.MockService/UnaryCall\", \"User-Id\":\"25\", \"Username\":\"910919300363\", \"X-Forwarded-For\":\"172.23.20.6\", \"X-Forwarded-Port\":\"443\", \"X-Real-Ip\":\"172.23.20.6\", \"X-Request-Id\":\"c5f092ce-6a2f-4289-aae7-cc7468e108c6\"}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c5f092ce-6a2f-4289-aae7-cc7468e108c6","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"c5f092ce-6a2f-4289-aae7-cc7468e108c6","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"brokerClientStream CloseSend method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c5f092ce-6a2f-4289-aae7-cc7468e108c6","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c5f092ce-6a2f-4289-aae7-cc7468e108c6","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c5f092ce-6a2f-4289-aae7-cc7468e108c6","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c5f092ce-6a2f-4289-aae7-cc7468e108c6","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"c5f092ce-6a2f-4289-aae7-cc7468e108c6","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"brokerClientStream CloseSend method"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"c5f092ce-6a2f-4289-aae7-cc7468e108c6","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"failed to CloseSend grpc conn: file already closed"}
{"level":"info","X-Request-Id":"c5f092ce-6a2f-4289-aae7-cc7468e108c6","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"get message for service: /testing.MockService/UnaryCall with md map[Authorization:Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A Client-Ip:172.23.20.6 Content-Type:application/grpc Error-Code:5895 Error-Data:Test grpc-code = 6 Grpc-Code:6 Phone:+77055552928 Qa-Custom-Headers:{\"Error-Code\": \"5895\", \"Grpc-Code\": \"6\", \"Error-Data\": \"Test grpc-code = 6\"} Source-Service:/testing.MockService/UnaryCall User-Id:25 Username:910919300363 X-Forwarded-For:172.23.20.6 X-Forwarded-Port:443 X-Real-Ip:172.23.20.6 X-Request-Id:c5f092ce-6a2f-4289-aae7-cc7468e108c6]"}
{"level":"info","x-request-id":"c5f092ce-6a2f-4289-aae7-cc7468e108c6","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"get message for service: /testing.MockService/UnaryCall"}
{"level":"debug","x-request-id":"c5f092ce-6a2f-4289-aae7-cc7468e108c6","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"grpcConnGet: /testing.MockService/UnaryCall via c5f092ce-6a2f-4289-aae7-cc7468e108c6"}
{"level":"debug","x-request-id":"c5f092ce-6a2f-4289-aae7-cc7468e108c6","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"grpc use stream conn: &handler.grpcProxy{grpcStream:(*handler.grpcServerStream)(0xc000232bb0), kafkaStream:(*handler.grpcClientStream)(0xc000232c60)} sourceService: /testing.MockService/UnaryCall"}
{"level":"info","x-request-id":"c5f092ce-6a2f-4289-aae7-cc7468e108c6","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"start transfer response from kafka"}
{"level":"error","x-request-id":"c5f092ce-6a2f-4289-aae7-cc7468e108c6","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"error message for service: /testing.MockService/UnaryCallrpc error: code = AlreadyExists desc = 5895"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"c5f092ce-6a2f-4289-aae7-cc7468e108c6","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"brokerClientStream SetError method"}
{"level":"info","x-request-id":"c5f092ce-6a2f-4289-aae7-cc7468e108c6","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"stop transfer response from kafka"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"c5f092ce-6a2f-4289-aae7-cc7468e108c6","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"brokerClientStream Close method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c5f092ce-6a2f-4289-aae7-cc7468e108c6","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"forwardBackendToClient src.RecvMsg err rpc error: code = AlreadyExists desc = 5895"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c5f092ce-6a2f-4289-aae7-cc7468e108c6","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"b2cErr := <-b2cErrChan: err: rpc error: code = AlreadyExists desc = 5895"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"c5f092ce-6a2f-4289-aae7-cc7468e108c6","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"brokerClientStream Trailer method"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"c5f092ce-6a2f-4289-aae7-cc7468e108c6","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"failed to proxy grpc conn c2bErr: rpc error: code = AlreadyExists desc = 5895 *status.Error &status.Error{s:(*status.Status)(0xc00007eb60)}"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"c5f092ce-6a2f-4289-aae7-cc7468e108c6","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"error status &status.Status{s:(*status.Status)(0xc00038ef60)}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c5f092ce-6a2f-4289-aae7-cc7468e108c6","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"grpcConnDel /testing.MockService/UnaryCall c5f092ce-6a2f-4289-aae7-cc7468e108c6"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"c5f092ce-6a2f-4289-aae7-cc7468e108c6","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"grpc handler exit"}
{"level":"debug","x-request-id":"0e332b67-efc3-4333-8d7c-cb1695e08458","time":"2024-04-03T10:26:37+05:00","message":"authn.cookie not found"}
{"level":"debug","x-request-id":"0e332b67-efc3-4333-8d7c-cb1695e08458","time":"2024-04-03T10:26:37+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"0e332b67-efc3-4333-8d7c-cb1695e08458","time":"2024-04-03T10:26:37+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"0e332b67-efc3-4333-8d7c-cb1695e08458","time":"2024-04-03T10:26:37+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"0e332b67-efc3-4333-8d7c-cb1695e08458","time":"2024-04-03T10:26:37+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"0e332b67-efc3-4333-8d7c-cb1695e08458","time":"2024-04-03T10:26:37+05:00","message":"jwt.extract set User-Id to 25"}
{"level":"info","x-request-id":"0e332b67-efc3-4333-8d7c-cb1695e08458","time":"2024-04-03T10:26:37+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"0e332b67-efc3-4333-8d7c-cb1695e08458","time":"2024-04-03T10:26:37+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"0e332b67-efc3-4333-8d7c-cb1695e08458","time":"2024-04-03T10:26:37+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"0e332b67-efc3-4333-8d7c-cb1695e08458","time":"2024-04-03T10:26:37+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"0e332b67-efc3-4333-8d7c-cb1695e08458","time":"2024-04-03T10:26:37+05:00","message":"jwt.extract set Username to 910919300363"}
{"level":"info","x-request-id":"0e332b67-efc3-4333-8d7c-cb1695e08458","time":"2024-04-03T10:26:37+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"0e332b67-efc3-4333-8d7c-cb1695e08458","time":"2024-04-03T10:26:37+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"0e332b67-efc3-4333-8d7c-cb1695e08458","time":"2024-04-03T10:26:37+05:00","message":"jwt.extract set Phone to +77055552928"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0e332b67-efc3-4333-8d7c-cb1695e08458","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"grpcConnAdd /testing.MockService/UnaryCall 0e332b67-efc3-4333-8d7c-cb1695e08458"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0e332b67-efc3-4333-8d7c-cb1695e08458","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0e332b67-efc3-4333-8d7c-cb1695e08458","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0e332b67-efc3-4333-8d7c-cb1695e08458","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"0e332b67-efc3-4333-8d7c-cb1695e08458","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0e332b67-efc3-4333-8d7c-cb1695e08458","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0e332b67-efc3-4333-8d7c-cb1695e08458","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0e332b67-efc3-4333-8d7c-cb1695e08458","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0e332b67-efc3-4333-8d7c-cb1695e08458","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"0e332b67-efc3-4333-8d7c-cb1695e08458","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"brokerClientStream brokerClientStream SendMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"0e332b67-efc3-4333-8d7c-cb1695e08458","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"brokerClientStream try to publish to qa.mock.connection1.in msg with hdr: metadata.Metadata{\"Authorization\":\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A\", \"Client-Ip\":\"172.23.20.6\", \"Content-Type\":\"application/grpc\", \"Phone\":\"+77055552928\", \"Qa-Custom-Headers\":\"{\\\"Error-Code\\\": \\\"7020\\\", \\\"Grpc-Code\\\": \\\"7\\\", \\\"Error-Data\\\": \\\"Test grpc-code = 7\\\"}\", \"Source-Service\":\"/testing.MockService/UnaryCall\", \"User-Id\":\"25\", \"Username\":\"910919300363\", \"X-Forwarded-For\":\"172.23.20.6\", \"X-Forwarded-Port\":\"443\", \"X-Real-Ip\":\"172.23.20.6\", \"X-Request-Id\":\"0e332b67-efc3-4333-8d7c-cb1695e08458\"}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0e332b67-efc3-4333-8d7c-cb1695e08458","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"0e332b67-efc3-4333-8d7c-cb1695e08458","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"brokerClientStream CloseSend method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0e332b67-efc3-4333-8d7c-cb1695e08458","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0e332b67-efc3-4333-8d7c-cb1695e08458","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0e332b67-efc3-4333-8d7c-cb1695e08458","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0e332b67-efc3-4333-8d7c-cb1695e08458","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"0e332b67-efc3-4333-8d7c-cb1695e08458","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"brokerClientStream CloseSend method"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"0e332b67-efc3-4333-8d7c-cb1695e08458","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"failed to CloseSend grpc conn: file already closed"}
{"level":"info","X-Request-Id":"0e332b67-efc3-4333-8d7c-cb1695e08458","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"get message for service: /testing.MockService/UnaryCall with md map[Authorization:Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A Client-Ip:172.23.20.6 Content-Type:application/grpc Error-Code:7020 Error-Data:Test grpc-code = 7 Grpc-Code:7 Phone:+77055552928 Qa-Custom-Headers:{\"Error-Code\": \"7020\", \"Grpc-Code\": \"7\", \"Error-Data\": \"Test grpc-code = 7\"} Source-Service:/testing.MockService/UnaryCall User-Id:25 Username:910919300363 X-Forwarded-For:172.23.20.6 X-Forwarded-Port:443 X-Real-Ip:172.23.20.6 X-Request-Id:0e332b67-efc3-4333-8d7c-cb1695e08458]"}
{"level":"info","x-request-id":"0e332b67-efc3-4333-8d7c-cb1695e08458","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"get message for service: /testing.MockService/UnaryCall"}
{"level":"debug","x-request-id":"0e332b67-efc3-4333-8d7c-cb1695e08458","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"grpcConnGet: /testing.MockService/UnaryCall via 0e332b67-efc3-4333-8d7c-cb1695e08458"}
{"level":"debug","x-request-id":"0e332b67-efc3-4333-8d7c-cb1695e08458","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"grpc use stream conn: &handler.grpcProxy{grpcStream:(*handler.grpcServerStream)(0xc000668840), kafkaStream:(*handler.grpcClientStream)(0xc0006688f0)} sourceService: /testing.MockService/UnaryCall"}
{"level":"info","x-request-id":"0e332b67-efc3-4333-8d7c-cb1695e08458","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"start transfer response from kafka"}
{"level":"error","x-request-id":"0e332b67-efc3-4333-8d7c-cb1695e08458","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"error message for service: /testing.MockService/UnaryCallrpc error: code = PermissionDenied desc = 7020"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"0e332b67-efc3-4333-8d7c-cb1695e08458","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"brokerClientStream SetError method"}
{"level":"info","x-request-id":"0e332b67-efc3-4333-8d7c-cb1695e08458","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"stop transfer response from kafka"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"0e332b67-efc3-4333-8d7c-cb1695e08458","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"brokerClientStream Close method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0e332b67-efc3-4333-8d7c-cb1695e08458","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"forwardBackendToClient src.RecvMsg err rpc error: code = PermissionDenied desc = 7020"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0e332b67-efc3-4333-8d7c-cb1695e08458","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"b2cErr := <-b2cErrChan: err: rpc error: code = PermissionDenied desc = 7020"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"0e332b67-efc3-4333-8d7c-cb1695e08458","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"brokerClientStream Trailer method"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"0e332b67-efc3-4333-8d7c-cb1695e08458","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"failed to proxy grpc conn c2bErr: rpc error: code = PermissionDenied desc = 7020 *status.Error &status.Error{s:(*status.Status)(0xc000220900)}"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"0e332b67-efc3-4333-8d7c-cb1695e08458","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"error status &status.Status{s:(*status.Status)(0xc00088a180)}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0e332b67-efc3-4333-8d7c-cb1695e08458","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"grpcConnDel /testing.MockService/UnaryCall 0e332b67-efc3-4333-8d7c-cb1695e08458"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"0e332b67-efc3-4333-8d7c-cb1695e08458","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"grpc handler exit"}
{"level":"debug","x-request-id":"27b2f368-b5a3-4552-936e-94603535f16e","time":"2024-04-03T10:26:37+05:00","message":"authn.cookie not found"}
{"level":"debug","x-request-id":"27b2f368-b5a3-4552-936e-94603535f16e","time":"2024-04-03T10:26:37+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"27b2f368-b5a3-4552-936e-94603535f16e","time":"2024-04-03T10:26:37+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"27b2f368-b5a3-4552-936e-94603535f16e","time":"2024-04-03T10:26:37+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"27b2f368-b5a3-4552-936e-94603535f16e","time":"2024-04-03T10:26:37+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"27b2f368-b5a3-4552-936e-94603535f16e","time":"2024-04-03T10:26:37+05:00","message":"jwt.extract set User-Id to 25"}
{"level":"info","x-request-id":"27b2f368-b5a3-4552-936e-94603535f16e","time":"2024-04-03T10:26:37+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"27b2f368-b5a3-4552-936e-94603535f16e","time":"2024-04-03T10:26:37+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"27b2f368-b5a3-4552-936e-94603535f16e","time":"2024-04-03T10:26:37+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"27b2f368-b5a3-4552-936e-94603535f16e","time":"2024-04-03T10:26:37+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"27b2f368-b5a3-4552-936e-94603535f16e","time":"2024-04-03T10:26:37+05:00","message":"jwt.extract set Username to 910919300363"}
{"level":"info","x-request-id":"27b2f368-b5a3-4552-936e-94603535f16e","time":"2024-04-03T10:26:37+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"27b2f368-b5a3-4552-936e-94603535f16e","time":"2024-04-03T10:26:37+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"27b2f368-b5a3-4552-936e-94603535f16e","time":"2024-04-03T10:26:37+05:00","message":"jwt.extract set Phone to +77055552928"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"27b2f368-b5a3-4552-936e-94603535f16e","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"grpcConnAdd /testing.MockService/UnaryCall 27b2f368-b5a3-4552-936e-94603535f16e"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"27b2f368-b5a3-4552-936e-94603535f16e","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"27b2f368-b5a3-4552-936e-94603535f16e","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"27b2f368-b5a3-4552-936e-94603535f16e","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"27b2f368-b5a3-4552-936e-94603535f16e","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"27b2f368-b5a3-4552-936e-94603535f16e","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"27b2f368-b5a3-4552-936e-94603535f16e","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"27b2f368-b5a3-4552-936e-94603535f16e","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"brokerClientStream brokerClientStream SendMsg method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"27b2f368-b5a3-4552-936e-94603535f16e","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"27b2f368-b5a3-4552-936e-94603535f16e","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"27b2f368-b5a3-4552-936e-94603535f16e","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"brokerClientStream try to publish to qa.mock.connection1.in msg with hdr: metadata.Metadata{\"Authorization\":\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A\", \"Client-Ip\":\"172.23.20.6\", \"Content-Type\":\"application/grpc\", \"Phone\":\"+77055552928\", \"Qa-Custom-Headers\":\"{\\\"Error-Code\\\": \\\"3887\\\", \\\"Grpc-Code\\\": \\\"8\\\", \\\"Error-Data\\\": \\\"Test grpc-code = 8\\\"}\", \"Source-Service\":\"/testing.MockService/UnaryCall\", \"User-Id\":\"25\", \"Username\":\"910919300363\", \"X-Forwarded-For\":\"172.23.20.6\", \"X-Forwarded-Port\":\"443\", \"X-Real-Ip\":\"172.23.20.6\", \"X-Request-Id\":\"27b2f368-b5a3-4552-936e-94603535f16e\"}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"27b2f368-b5a3-4552-936e-94603535f16e","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"27b2f368-b5a3-4552-936e-94603535f16e","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"brokerClientStream CloseSend method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"27b2f368-b5a3-4552-936e-94603535f16e","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"27b2f368-b5a3-4552-936e-94603535f16e","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"27b2f368-b5a3-4552-936e-94603535f16e","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"27b2f368-b5a3-4552-936e-94603535f16e","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"27b2f368-b5a3-4552-936e-94603535f16e","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"brokerClientStream CloseSend method"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"27b2f368-b5a3-4552-936e-94603535f16e","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"failed to CloseSend grpc conn: file already closed"}
{"level":"info","X-Request-Id":"27b2f368-b5a3-4552-936e-94603535f16e","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"get message for service: /testing.MockService/UnaryCall with md map[Authorization:Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A Client-Ip:172.23.20.6 Content-Type:application/grpc Error-Code:3887 Error-Data:Test grpc-code = 8 Grpc-Code:8 Phone:+77055552928 Qa-Custom-Headers:{\"Error-Code\": \"3887\", \"Grpc-Code\": \"8\", \"Error-Data\": \"Test grpc-code = 8\"} Source-Service:/testing.MockService/UnaryCall User-Id:25 Username:910919300363 X-Forwarded-For:172.23.20.6 X-Forwarded-Port:443 X-Real-Ip:172.23.20.6 X-Request-Id:27b2f368-b5a3-4552-936e-94603535f16e]"}
{"level":"info","x-request-id":"27b2f368-b5a3-4552-936e-94603535f16e","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"get message for service: /testing.MockService/UnaryCall"}
{"level":"debug","x-request-id":"27b2f368-b5a3-4552-936e-94603535f16e","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"grpcConnGet: /testing.MockService/UnaryCall via 27b2f368-b5a3-4552-936e-94603535f16e"}
{"level":"debug","x-request-id":"27b2f368-b5a3-4552-936e-94603535f16e","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"grpc use stream conn: &handler.grpcProxy{grpcStream:(*handler.grpcServerStream)(0xc000232dc0), kafkaStream:(*handler.grpcClientStream)(0xc000232e70)} sourceService: /testing.MockService/UnaryCall"}
{"level":"info","x-request-id":"27b2f368-b5a3-4552-936e-94603535f16e","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"start transfer response from kafka"}
{"level":"error","x-request-id":"27b2f368-b5a3-4552-936e-94603535f16e","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"error message for service: /testing.MockService/UnaryCallrpc error: code = ResourceExhausted desc = 3887"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"27b2f368-b5a3-4552-936e-94603535f16e","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"brokerClientStream SetError method"}
{"level":"info","x-request-id":"27b2f368-b5a3-4552-936e-94603535f16e","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"stop transfer response from kafka"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"27b2f368-b5a3-4552-936e-94603535f16e","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"brokerClientStream Close method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"27b2f368-b5a3-4552-936e-94603535f16e","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"forwardBackendToClient src.RecvMsg err rpc error: code = ResourceExhausted desc = 3887"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"27b2f368-b5a3-4552-936e-94603535f16e","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"b2cErr := <-b2cErrChan: err: rpc error: code = ResourceExhausted desc = 3887"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"27b2f368-b5a3-4552-936e-94603535f16e","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"brokerClientStream Trailer method"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"27b2f368-b5a3-4552-936e-94603535f16e","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"failed to proxy grpc conn c2bErr: rpc error: code = ResourceExhausted desc = 3887 *status.Error &status.Error{s:(*status.Status)(0xc0001a2cc0)}"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"27b2f368-b5a3-4552-936e-94603535f16e","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"error status &status.Status{s:(*status.Status)(0xc0008284e0)}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"27b2f368-b5a3-4552-936e-94603535f16e","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"grpcConnDel /testing.MockService/UnaryCall 27b2f368-b5a3-4552-936e-94603535f16e"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"27b2f368-b5a3-4552-936e-94603535f16e","trace-id":"","span-id":"","time":"2024-04-03T10:26:37+05:00","message":"grpc handler exit"}
{"level":"debug","x-request-id":"db7deba8-7544-4924-8bdd-9c8de4249873","time":"2024-04-03T10:26:38+05:00","message":"authn.cookie not found"}
{"level":"debug","x-request-id":"db7deba8-7544-4924-8bdd-9c8de4249873","time":"2024-04-03T10:26:38+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"db7deba8-7544-4924-8bdd-9c8de4249873","time":"2024-04-03T10:26:38+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"db7deba8-7544-4924-8bdd-9c8de4249873","time":"2024-04-03T10:26:38+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"db7deba8-7544-4924-8bdd-9c8de4249873","time":"2024-04-03T10:26:38+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"db7deba8-7544-4924-8bdd-9c8de4249873","time":"2024-04-03T10:26:38+05:00","message":"jwt.extract set User-Id to 25"}
{"level":"info","x-request-id":"db7deba8-7544-4924-8bdd-9c8de4249873","time":"2024-04-03T10:26:38+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"db7deba8-7544-4924-8bdd-9c8de4249873","time":"2024-04-03T10:26:38+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"db7deba8-7544-4924-8bdd-9c8de4249873","time":"2024-04-03T10:26:38+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"db7deba8-7544-4924-8bdd-9c8de4249873","time":"2024-04-03T10:26:38+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"db7deba8-7544-4924-8bdd-9c8de4249873","time":"2024-04-03T10:26:38+05:00","message":"jwt.extract set Username to 910919300363"}
{"level":"info","x-request-id":"db7deba8-7544-4924-8bdd-9c8de4249873","time":"2024-04-03T10:26:38+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"db7deba8-7544-4924-8bdd-9c8de4249873","time":"2024-04-03T10:26:38+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"db7deba8-7544-4924-8bdd-9c8de4249873","time":"2024-04-03T10:26:38+05:00","message":"jwt.extract set Phone to +77055552928"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"db7deba8-7544-4924-8bdd-9c8de4249873","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"grpcConnAdd /testing.MockService/UnaryCall db7deba8-7544-4924-8bdd-9c8de4249873"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"db7deba8-7544-4924-8bdd-9c8de4249873","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"db7deba8-7544-4924-8bdd-9c8de4249873","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"db7deba8-7544-4924-8bdd-9c8de4249873","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"db7deba8-7544-4924-8bdd-9c8de4249873","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"db7deba8-7544-4924-8bdd-9c8de4249873","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"db7deba8-7544-4924-8bdd-9c8de4249873","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"db7deba8-7544-4924-8bdd-9c8de4249873","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"db7deba8-7544-4924-8bdd-9c8de4249873","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"db7deba8-7544-4924-8bdd-9c8de4249873","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"brokerClientStream brokerClientStream SendMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"db7deba8-7544-4924-8bdd-9c8de4249873","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"brokerClientStream try to publish to qa.mock.connection1.in msg with hdr: metadata.Metadata{\"Authorization\":\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A\", \"Client-Ip\":\"172.23.20.6\", \"Content-Type\":\"application/grpc\", \"Phone\":\"+77055552928\", \"Qa-Custom-Headers\":\"{\\\"Error-Code\\\": \\\"5696\\\", \\\"Grpc-Code\\\": \\\"9\\\", \\\"Error-Data\\\": \\\"Test grpc-code = 9\\\"}\", \"Source-Service\":\"/testing.MockService/UnaryCall\", \"User-Id\":\"25\", \"Username\":\"910919300363\", \"X-Forwarded-For\":\"172.23.20.6\", \"X-Forwarded-Port\":\"443\", \"X-Real-Ip\":\"172.23.20.6\", \"X-Request-Id\":\"db7deba8-7544-4924-8bdd-9c8de4249873\"}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"db7deba8-7544-4924-8bdd-9c8de4249873","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"db7deba8-7544-4924-8bdd-9c8de4249873","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"brokerClientStream CloseSend method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"db7deba8-7544-4924-8bdd-9c8de4249873","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"db7deba8-7544-4924-8bdd-9c8de4249873","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"db7deba8-7544-4924-8bdd-9c8de4249873","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"db7deba8-7544-4924-8bdd-9c8de4249873","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"db7deba8-7544-4924-8bdd-9c8de4249873","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"brokerClientStream CloseSend method"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"db7deba8-7544-4924-8bdd-9c8de4249873","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"failed to CloseSend grpc conn: file already closed"}
{"level":"info","X-Request-Id":"db7deba8-7544-4924-8bdd-9c8de4249873","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"get message for service: /testing.MockService/UnaryCall with md map[Authorization:Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A Client-Ip:172.23.20.6 Content-Type:application/grpc Error-Code:5696 Error-Data:Test grpc-code = 9 Grpc-Code:9 Phone:+77055552928 Qa-Custom-Headers:{\"Error-Code\": \"5696\", \"Grpc-Code\": \"9\", \"Error-Data\": \"Test grpc-code = 9\"} Source-Service:/testing.MockService/UnaryCall User-Id:25 Username:910919300363 X-Forwarded-For:172.23.20.6 X-Forwarded-Port:443 X-Real-Ip:172.23.20.6 X-Request-Id:db7deba8-7544-4924-8bdd-9c8de4249873]"}
{"level":"info","x-request-id":"db7deba8-7544-4924-8bdd-9c8de4249873","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"get message for service: /testing.MockService/UnaryCall"}
{"level":"debug","x-request-id":"db7deba8-7544-4924-8bdd-9c8de4249873","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"grpcConnGet: /testing.MockService/UnaryCall via db7deba8-7544-4924-8bdd-9c8de4249873"}
{"level":"debug","x-request-id":"db7deba8-7544-4924-8bdd-9c8de4249873","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"grpc use stream conn: &handler.grpcProxy{grpcStream:(*handler.grpcServerStream)(0xc000410f20), kafkaStream:(*handler.grpcClientStream)(0xc000410fd0)} sourceService: /testing.MockService/UnaryCall"}
{"level":"info","x-request-id":"db7deba8-7544-4924-8bdd-9c8de4249873","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"start transfer response from kafka"}
{"level":"error","x-request-id":"db7deba8-7544-4924-8bdd-9c8de4249873","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"error message for service: /testing.MockService/UnaryCallrpc error: code = FailedPrecondition desc = 5696"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"db7deba8-7544-4924-8bdd-9c8de4249873","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"brokerClientStream SetError method"}
{"level":"info","x-request-id":"db7deba8-7544-4924-8bdd-9c8de4249873","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"stop transfer response from kafka"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"db7deba8-7544-4924-8bdd-9c8de4249873","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"brokerClientStream Close method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"db7deba8-7544-4924-8bdd-9c8de4249873","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"forwardBackendToClient src.RecvMsg err rpc error: code = FailedPrecondition desc = 5696"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"db7deba8-7544-4924-8bdd-9c8de4249873","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"b2cErr := <-b2cErrChan: err: rpc error: code = FailedPrecondition desc = 5696"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"db7deba8-7544-4924-8bdd-9c8de4249873","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"brokerClientStream Trailer method"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"db7deba8-7544-4924-8bdd-9c8de4249873","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"failed to proxy grpc conn c2bErr: rpc error: code = FailedPrecondition desc = 5696 *status.Error &status.Error{s:(*status.Status)(0xc000892528)}"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"db7deba8-7544-4924-8bdd-9c8de4249873","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"error status &status.Status{s:(*status.Status)(0xc000930480)}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"db7deba8-7544-4924-8bdd-9c8de4249873","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"grpcConnDel /testing.MockService/UnaryCall db7deba8-7544-4924-8bdd-9c8de4249873"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"db7deba8-7544-4924-8bdd-9c8de4249873","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"grpc handler exit"}
{"level":"debug","x-request-id":"2a0c05f2-69d6-4b4f-ad93-5462083e5497","time":"2024-04-03T10:26:38+05:00","message":"authn.cookie not found"}
{"level":"debug","x-request-id":"2a0c05f2-69d6-4b4f-ad93-5462083e5497","time":"2024-04-03T10:26:38+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"2a0c05f2-69d6-4b4f-ad93-5462083e5497","time":"2024-04-03T10:26:38+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"2a0c05f2-69d6-4b4f-ad93-5462083e5497","time":"2024-04-03T10:26:38+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"2a0c05f2-69d6-4b4f-ad93-5462083e5497","time":"2024-04-03T10:26:38+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"2a0c05f2-69d6-4b4f-ad93-5462083e5497","time":"2024-04-03T10:26:38+05:00","message":"jwt.extract set User-Id to 25"}
{"level":"info","x-request-id":"2a0c05f2-69d6-4b4f-ad93-5462083e5497","time":"2024-04-03T10:26:38+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"2a0c05f2-69d6-4b4f-ad93-5462083e5497","time":"2024-04-03T10:26:38+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"2a0c05f2-69d6-4b4f-ad93-5462083e5497","time":"2024-04-03T10:26:38+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"2a0c05f2-69d6-4b4f-ad93-5462083e5497","time":"2024-04-03T10:26:38+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"2a0c05f2-69d6-4b4f-ad93-5462083e5497","time":"2024-04-03T10:26:38+05:00","message":"jwt.extract set Username to 910919300363"}
{"level":"info","x-request-id":"2a0c05f2-69d6-4b4f-ad93-5462083e5497","time":"2024-04-03T10:26:38+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"2a0c05f2-69d6-4b4f-ad93-5462083e5497","time":"2024-04-03T10:26:38+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"2a0c05f2-69d6-4b4f-ad93-5462083e5497","time":"2024-04-03T10:26:38+05:00","message":"jwt.extract set Phone to +77055552928"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2a0c05f2-69d6-4b4f-ad93-5462083e5497","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"grpcConnAdd /testing.MockService/UnaryCall 2a0c05f2-69d6-4b4f-ad93-5462083e5497"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2a0c05f2-69d6-4b4f-ad93-5462083e5497","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2a0c05f2-69d6-4b4f-ad93-5462083e5497","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"2a0c05f2-69d6-4b4f-ad93-5462083e5497","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2a0c05f2-69d6-4b4f-ad93-5462083e5497","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2a0c05f2-69d6-4b4f-ad93-5462083e5497","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2a0c05f2-69d6-4b4f-ad93-5462083e5497","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2a0c05f2-69d6-4b4f-ad93-5462083e5497","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2a0c05f2-69d6-4b4f-ad93-5462083e5497","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"2a0c05f2-69d6-4b4f-ad93-5462083e5497","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"brokerClientStream brokerClientStream SendMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"2a0c05f2-69d6-4b4f-ad93-5462083e5497","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"brokerClientStream try to publish to qa.mock.connection1.in msg with hdr: metadata.Metadata{\"Authorization\":\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A\", \"Client-Ip\":\"172.23.20.6\", \"Content-Type\":\"application/grpc\", \"Phone\":\"+77055552928\", \"Qa-Custom-Headers\":\"{\\\"Error-Code\\\": \\\"3912\\\", \\\"Grpc-Code\\\": \\\"10\\\", \\\"Error-Data\\\": \\\"Test grpc-code = 10\\\"}\", \"Source-Service\":\"/testing.MockService/UnaryCall\", \"User-Id\":\"25\", \"Username\":\"910919300363\", \"X-Forwarded-For\":\"172.23.20.6\", \"X-Forwarded-Port\":\"443\", \"X-Real-Ip\":\"172.23.20.6\", \"X-Request-Id\":\"2a0c05f2-69d6-4b4f-ad93-5462083e5497\"}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2a0c05f2-69d6-4b4f-ad93-5462083e5497","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"2a0c05f2-69d6-4b4f-ad93-5462083e5497","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"brokerClientStream CloseSend method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2a0c05f2-69d6-4b4f-ad93-5462083e5497","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2a0c05f2-69d6-4b4f-ad93-5462083e5497","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2a0c05f2-69d6-4b4f-ad93-5462083e5497","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2a0c05f2-69d6-4b4f-ad93-5462083e5497","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"2a0c05f2-69d6-4b4f-ad93-5462083e5497","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"brokerClientStream CloseSend method"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"2a0c05f2-69d6-4b4f-ad93-5462083e5497","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"failed to CloseSend grpc conn: file already closed"}
{"level":"info","X-Request-Id":"2a0c05f2-69d6-4b4f-ad93-5462083e5497","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"get message for service: /testing.MockService/UnaryCall with md map[Authorization:Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A Client-Ip:172.23.20.6 Content-Type:application/grpc Error-Code:3912 Error-Data:Test grpc-code = 10 Grpc-Code:10 Phone:+77055552928 Qa-Custom-Headers:{\"Error-Code\": \"3912\", \"Grpc-Code\": \"10\", \"Error-Data\": \"Test grpc-code = 10\"} Source-Service:/testing.MockService/UnaryCall User-Id:25 Username:910919300363 X-Forwarded-For:172.23.20.6 X-Forwarded-Port:443 X-Real-Ip:172.23.20.6 X-Request-Id:2a0c05f2-69d6-4b4f-ad93-5462083e5497]"}
{"level":"info","x-request-id":"2a0c05f2-69d6-4b4f-ad93-5462083e5497","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"get message for service: /testing.MockService/UnaryCall"}
{"level":"debug","x-request-id":"2a0c05f2-69d6-4b4f-ad93-5462083e5497","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"grpcConnGet: /testing.MockService/UnaryCall via 2a0c05f2-69d6-4b4f-ad93-5462083e5497"}
{"level":"debug","x-request-id":"2a0c05f2-69d6-4b4f-ad93-5462083e5497","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"grpc use stream conn: &handler.grpcProxy{grpcStream:(*handler.grpcServerStream)(0xc000cec000), kafkaStream:(*handler.grpcClientStream)(0xc000cec0b0)} sourceService: /testing.MockService/UnaryCall"}
{"level":"info","x-request-id":"2a0c05f2-69d6-4b4f-ad93-5462083e5497","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"start transfer response from kafka"}
{"level":"error","x-request-id":"2a0c05f2-69d6-4b4f-ad93-5462083e5497","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"error message for service: /testing.MockService/UnaryCallrpc error: code = Aborted desc = 3912"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"2a0c05f2-69d6-4b4f-ad93-5462083e5497","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"brokerClientStream SetError method"}
{"level":"info","x-request-id":"2a0c05f2-69d6-4b4f-ad93-5462083e5497","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"stop transfer response from kafka"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"2a0c05f2-69d6-4b4f-ad93-5462083e5497","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"brokerClientStream Close method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2a0c05f2-69d6-4b4f-ad93-5462083e5497","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"forwardBackendToClient src.RecvMsg err rpc error: code = Aborted desc = 3912"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2a0c05f2-69d6-4b4f-ad93-5462083e5497","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"b2cErr := <-b2cErrChan: err: rpc error: code = Aborted desc = 3912"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"2a0c05f2-69d6-4b4f-ad93-5462083e5497","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"brokerClientStream Trailer method"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"2a0c05f2-69d6-4b4f-ad93-5462083e5497","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"failed to proxy grpc conn c2bErr: rpc error: code = Aborted desc = 3912 *status.Error &status.Error{s:(*status.Status)(0xc000892690)}"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"2a0c05f2-69d6-4b4f-ad93-5462083e5497","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"error status &status.Status{s:(*status.Status)(0xc0009312c0)}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"2a0c05f2-69d6-4b4f-ad93-5462083e5497","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"grpcConnDel /testing.MockService/UnaryCall 2a0c05f2-69d6-4b4f-ad93-5462083e5497"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"2a0c05f2-69d6-4b4f-ad93-5462083e5497","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"grpc handler exit"}
{"level":"debug","x-request-id":"c7bc9fbd-b509-4ece-9bf4-554f70577fd1","time":"2024-04-03T10:26:38+05:00","message":"authn.cookie not found"}
{"level":"debug","x-request-id":"c7bc9fbd-b509-4ece-9bf4-554f70577fd1","time":"2024-04-03T10:26:38+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"c7bc9fbd-b509-4ece-9bf4-554f70577fd1","time":"2024-04-03T10:26:38+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"c7bc9fbd-b509-4ece-9bf4-554f70577fd1","time":"2024-04-03T10:26:38+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"c7bc9fbd-b509-4ece-9bf4-554f70577fd1","time":"2024-04-03T10:26:38+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"c7bc9fbd-b509-4ece-9bf4-554f70577fd1","time":"2024-04-03T10:26:38+05:00","message":"jwt.extract set User-Id to 25"}
{"level":"info","x-request-id":"c7bc9fbd-b509-4ece-9bf4-554f70577fd1","time":"2024-04-03T10:26:38+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"c7bc9fbd-b509-4ece-9bf4-554f70577fd1","time":"2024-04-03T10:26:38+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"c7bc9fbd-b509-4ece-9bf4-554f70577fd1","time":"2024-04-03T10:26:38+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"c7bc9fbd-b509-4ece-9bf4-554f70577fd1","time":"2024-04-03T10:26:38+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"c7bc9fbd-b509-4ece-9bf4-554f70577fd1","time":"2024-04-03T10:26:38+05:00","message":"jwt.extract set Username to 910919300363"}
{"level":"info","x-request-id":"c7bc9fbd-b509-4ece-9bf4-554f70577fd1","time":"2024-04-03T10:26:38+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"c7bc9fbd-b509-4ece-9bf4-554f70577fd1","time":"2024-04-03T10:26:38+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"c7bc9fbd-b509-4ece-9bf4-554f70577fd1","time":"2024-04-03T10:26:38+05:00","message":"jwt.extract set Phone to +77055552928"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c7bc9fbd-b509-4ece-9bf4-554f70577fd1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"grpcConnAdd /testing.MockService/UnaryCall c7bc9fbd-b509-4ece-9bf4-554f70577fd1"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c7bc9fbd-b509-4ece-9bf4-554f70577fd1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c7bc9fbd-b509-4ece-9bf4-554f70577fd1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c7bc9fbd-b509-4ece-9bf4-554f70577fd1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c7bc9fbd-b509-4ece-9bf4-554f70577fd1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"c7bc9fbd-b509-4ece-9bf4-554f70577fd1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c7bc9fbd-b509-4ece-9bf4-554f70577fd1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c7bc9fbd-b509-4ece-9bf4-554f70577fd1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c7bc9fbd-b509-4ece-9bf4-554f70577fd1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"c7bc9fbd-b509-4ece-9bf4-554f70577fd1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"brokerClientStream brokerClientStream SendMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"c7bc9fbd-b509-4ece-9bf4-554f70577fd1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"brokerClientStream try to publish to qa.mock.connection1.in msg with hdr: metadata.Metadata{\"Authorization\":\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A\", \"Client-Ip\":\"172.23.20.6\", \"Content-Type\":\"application/grpc\", \"Phone\":\"+77055552928\", \"Qa-Custom-Headers\":\"{\\\"Error-Code\\\": \\\"9825\\\", \\\"Grpc-Code\\\": \\\"11\\\", \\\"Error-Data\\\": \\\"Test grpc-code = 11\\\"}\", \"Source-Service\":\"/testing.MockService/UnaryCall\", \"User-Id\":\"25\", \"Username\":\"910919300363\", \"X-Forwarded-For\":\"172.23.20.6\", \"X-Forwarded-Port\":\"443\", \"X-Real-Ip\":\"172.23.20.6\", \"X-Request-Id\":\"c7bc9fbd-b509-4ece-9bf4-554f70577fd1\"}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c7bc9fbd-b509-4ece-9bf4-554f70577fd1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"c7bc9fbd-b509-4ece-9bf4-554f70577fd1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"brokerClientStream CloseSend method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c7bc9fbd-b509-4ece-9bf4-554f70577fd1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c7bc9fbd-b509-4ece-9bf4-554f70577fd1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c7bc9fbd-b509-4ece-9bf4-554f70577fd1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c7bc9fbd-b509-4ece-9bf4-554f70577fd1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"c7bc9fbd-b509-4ece-9bf4-554f70577fd1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"brokerClientStream CloseSend method"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"c7bc9fbd-b509-4ece-9bf4-554f70577fd1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"failed to CloseSend grpc conn: file already closed"}
{"level":"info","X-Request-Id":"c7bc9fbd-b509-4ece-9bf4-554f70577fd1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"get message for service: /testing.MockService/UnaryCall with md map[Authorization:Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A Client-Ip:172.23.20.6 Content-Type:application/grpc Error-Code:9825 Error-Data:Test grpc-code = 11 Grpc-Code:11 Phone:+77055552928 Qa-Custom-Headers:{\"Error-Code\": \"9825\", \"Grpc-Code\": \"11\", \"Error-Data\": \"Test grpc-code = 11\"} Source-Service:/testing.MockService/UnaryCall User-Id:25 Username:910919300363 X-Forwarded-For:172.23.20.6 X-Forwarded-Port:443 X-Real-Ip:172.23.20.6 X-Request-Id:c7bc9fbd-b509-4ece-9bf4-554f70577fd1]"}
{"level":"info","x-request-id":"c7bc9fbd-b509-4ece-9bf4-554f70577fd1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"get message for service: /testing.MockService/UnaryCall"}
{"level":"debug","x-request-id":"c7bc9fbd-b509-4ece-9bf4-554f70577fd1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"grpcConnGet: /testing.MockService/UnaryCall via c7bc9fbd-b509-4ece-9bf4-554f70577fd1"}
{"level":"debug","x-request-id":"c7bc9fbd-b509-4ece-9bf4-554f70577fd1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"grpc use stream conn: &handler.grpcProxy{grpcStream:(*handler.grpcServerStream)(0xc0001380b0), kafkaStream:(*handler.grpcClientStream)(0xc000138210)} sourceService: /testing.MockService/UnaryCall"}
{"level":"info","x-request-id":"c7bc9fbd-b509-4ece-9bf4-554f70577fd1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"start transfer response from kafka"}
{"level":"error","x-request-id":"c7bc9fbd-b509-4ece-9bf4-554f70577fd1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"error message for service: /testing.MockService/UnaryCallrpc error: code = OutOfRange desc = 9825"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"c7bc9fbd-b509-4ece-9bf4-554f70577fd1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"brokerClientStream SetError method"}
{"level":"info","x-request-id":"c7bc9fbd-b509-4ece-9bf4-554f70577fd1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"stop transfer response from kafka"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"c7bc9fbd-b509-4ece-9bf4-554f70577fd1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"brokerClientStream Close method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c7bc9fbd-b509-4ece-9bf4-554f70577fd1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"forwardBackendToClient src.RecvMsg err rpc error: code = OutOfRange desc = 9825"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c7bc9fbd-b509-4ece-9bf4-554f70577fd1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"b2cErr := <-b2cErrChan: err: rpc error: code = OutOfRange desc = 9825"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"c7bc9fbd-b509-4ece-9bf4-554f70577fd1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"brokerClientStream Trailer method"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"c7bc9fbd-b509-4ece-9bf4-554f70577fd1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"failed to proxy grpc conn c2bErr: rpc error: code = OutOfRange desc = 9825 *status.Error &status.Error{s:(*status.Status)(0xc0001a2718)}"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"c7bc9fbd-b509-4ece-9bf4-554f70577fd1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"error status &status.Status{s:(*status.Status)(0xc000828780)}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"c7bc9fbd-b509-4ece-9bf4-554f70577fd1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"grpcConnDel /testing.MockService/UnaryCall c7bc9fbd-b509-4ece-9bf4-554f70577fd1"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"c7bc9fbd-b509-4ece-9bf4-554f70577fd1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"grpc handler exit"}
{"level":"debug","x-request-id":"b99d7807-caf9-4354-a08d-a4045a9a02f1","time":"2024-04-03T10:26:38+05:00","message":"authn.cookie not found"}
{"level":"debug","x-request-id":"b99d7807-caf9-4354-a08d-a4045a9a02f1","time":"2024-04-03T10:26:38+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"b99d7807-caf9-4354-a08d-a4045a9a02f1","time":"2024-04-03T10:26:38+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"b99d7807-caf9-4354-a08d-a4045a9a02f1","time":"2024-04-03T10:26:38+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"b99d7807-caf9-4354-a08d-a4045a9a02f1","time":"2024-04-03T10:26:38+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"b99d7807-caf9-4354-a08d-a4045a9a02f1","time":"2024-04-03T10:26:38+05:00","message":"jwt.extract set User-Id to 25"}
{"level":"info","x-request-id":"b99d7807-caf9-4354-a08d-a4045a9a02f1","time":"2024-04-03T10:26:38+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"b99d7807-caf9-4354-a08d-a4045a9a02f1","time":"2024-04-03T10:26:38+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"b99d7807-caf9-4354-a08d-a4045a9a02f1","time":"2024-04-03T10:26:38+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"b99d7807-caf9-4354-a08d-a4045a9a02f1","time":"2024-04-03T10:26:38+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"b99d7807-caf9-4354-a08d-a4045a9a02f1","time":"2024-04-03T10:26:38+05:00","message":"jwt.extract set Username to 910919300363"}
{"level":"info","x-request-id":"b99d7807-caf9-4354-a08d-a4045a9a02f1","time":"2024-04-03T10:26:38+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"b99d7807-caf9-4354-a08d-a4045a9a02f1","time":"2024-04-03T10:26:38+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"b99d7807-caf9-4354-a08d-a4045a9a02f1","time":"2024-04-03T10:26:38+05:00","message":"jwt.extract set Phone to +77055552928"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"b99d7807-caf9-4354-a08d-a4045a9a02f1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"grpcConnAdd /testing.MockService/UnaryCall b99d7807-caf9-4354-a08d-a4045a9a02f1"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"b99d7807-caf9-4354-a08d-a4045a9a02f1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"b99d7807-caf9-4354-a08d-a4045a9a02f1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"b99d7807-caf9-4354-a08d-a4045a9a02f1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"b99d7807-caf9-4354-a08d-a4045a9a02f1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"b99d7807-caf9-4354-a08d-a4045a9a02f1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"b99d7807-caf9-4354-a08d-a4045a9a02f1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"b99d7807-caf9-4354-a08d-a4045a9a02f1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"b99d7807-caf9-4354-a08d-a4045a9a02f1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"b99d7807-caf9-4354-a08d-a4045a9a02f1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"brokerClientStream brokerClientStream SendMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"b99d7807-caf9-4354-a08d-a4045a9a02f1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"brokerClientStream try to publish to qa.mock.connection1.in msg with hdr: metadata.Metadata{\"Authorization\":\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A\", \"Client-Ip\":\"172.23.20.6\", \"Content-Type\":\"application/grpc\", \"Phone\":\"+77055552928\", \"Qa-Custom-Headers\":\"{\\\"Error-Code\\\": \\\"1133\\\", \\\"Grpc-Code\\\": \\\"12\\\", \\\"Error-Data\\\": \\\"Test grpc-code = 12\\\"}\", \"Source-Service\":\"/testing.MockService/UnaryCall\", \"User-Id\":\"25\", \"Username\":\"910919300363\", \"X-Forwarded-For\":\"172.23.20.6\", \"X-Forwarded-Port\":\"443\", \"X-Real-Ip\":\"172.23.20.6\", \"X-Request-Id\":\"b99d7807-caf9-4354-a08d-a4045a9a02f1\"}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"b99d7807-caf9-4354-a08d-a4045a9a02f1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"b99d7807-caf9-4354-a08d-a4045a9a02f1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"brokerClientStream CloseSend method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"b99d7807-caf9-4354-a08d-a4045a9a02f1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"b99d7807-caf9-4354-a08d-a4045a9a02f1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"b99d7807-caf9-4354-a08d-a4045a9a02f1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"b99d7807-caf9-4354-a08d-a4045a9a02f1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"b99d7807-caf9-4354-a08d-a4045a9a02f1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"brokerClientStream CloseSend method"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"b99d7807-caf9-4354-a08d-a4045a9a02f1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"failed to CloseSend grpc conn: file already closed"}
{"level":"info","X-Request-Id":"b99d7807-caf9-4354-a08d-a4045a9a02f1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"get message for service: /testing.MockService/UnaryCall with md map[Authorization:Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A Client-Ip:172.23.20.6 Content-Type:application/grpc Error-Code:1133 Error-Data:Test grpc-code = 12 Grpc-Code:12 Phone:+77055552928 Qa-Custom-Headers:{\"Error-Code\": \"1133\", \"Grpc-Code\": \"12\", \"Error-Data\": \"Test grpc-code = 12\"} Source-Service:/testing.MockService/UnaryCall User-Id:25 Username:910919300363 X-Forwarded-For:172.23.20.6 X-Forwarded-Port:443 X-Real-Ip:172.23.20.6 X-Request-Id:b99d7807-caf9-4354-a08d-a4045a9a02f1]"}
{"level":"info","x-request-id":"b99d7807-caf9-4354-a08d-a4045a9a02f1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"get message for service: /testing.MockService/UnaryCall"}
{"level":"debug","x-request-id":"b99d7807-caf9-4354-a08d-a4045a9a02f1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"grpcConnGet: /testing.MockService/UnaryCall via b99d7807-caf9-4354-a08d-a4045a9a02f1"}
{"level":"debug","x-request-id":"b99d7807-caf9-4354-a08d-a4045a9a02f1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"grpc use stream conn: &handler.grpcProxy{grpcStream:(*handler.grpcServerStream)(0xc0002320b0), kafkaStream:(*handler.grpcClientStream)(0xc0002322c0)} sourceService: /testing.MockService/UnaryCall"}
{"level":"info","x-request-id":"b99d7807-caf9-4354-a08d-a4045a9a02f1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"start transfer response from kafka"}
{"level":"error","x-request-id":"b99d7807-caf9-4354-a08d-a4045a9a02f1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"error message for service: /testing.MockService/UnaryCallrpc error: code = Unimplemented desc = 1133"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"b99d7807-caf9-4354-a08d-a4045a9a02f1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"brokerClientStream SetError method"}
{"level":"info","x-request-id":"b99d7807-caf9-4354-a08d-a4045a9a02f1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"stop transfer response from kafka"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"b99d7807-caf9-4354-a08d-a4045a9a02f1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"brokerClientStream Close method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"b99d7807-caf9-4354-a08d-a4045a9a02f1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"forwardBackendToClient src.RecvMsg err rpc error: code = Unimplemented desc = 1133"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"b99d7807-caf9-4354-a08d-a4045a9a02f1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"b2cErr := <-b2cErrChan: err: rpc error: code = Unimplemented desc = 1133"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"b99d7807-caf9-4354-a08d-a4045a9a02f1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"brokerClientStream Trailer method"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"b99d7807-caf9-4354-a08d-a4045a9a02f1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"failed to proxy grpc conn c2bErr: rpc error: code = Unimplemented desc = 1133 *status.Error &status.Error{s:(*status.Status)(0xc00007e4b8)}"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"b99d7807-caf9-4354-a08d-a4045a9a02f1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"error status &status.Status{s:(*status.Status)(0xc00088b7a0)}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"b99d7807-caf9-4354-a08d-a4045a9a02f1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"grpcConnDel /testing.MockService/UnaryCall b99d7807-caf9-4354-a08d-a4045a9a02f1"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"b99d7807-caf9-4354-a08d-a4045a9a02f1","trace-id":"","span-id":"","time":"2024-04-03T10:26:38+05:00","message":"grpc handler exit"}
{"level":"debug","x-request-id":"8a72eb5a-4e66-4055-a788-54ca080a2c19","time":"2024-04-03T10:26:39+05:00","message":"authn.cookie not found"}
{"level":"debug","x-request-id":"8a72eb5a-4e66-4055-a788-54ca080a2c19","time":"2024-04-03T10:26:39+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"8a72eb5a-4e66-4055-a788-54ca080a2c19","time":"2024-04-03T10:26:39+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"8a72eb5a-4e66-4055-a788-54ca080a2c19","time":"2024-04-03T10:26:39+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"8a72eb5a-4e66-4055-a788-54ca080a2c19","time":"2024-04-03T10:26:39+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"8a72eb5a-4e66-4055-a788-54ca080a2c19","time":"2024-04-03T10:26:39+05:00","message":"jwt.extract set User-Id to 25"}
{"level":"info","x-request-id":"8a72eb5a-4e66-4055-a788-54ca080a2c19","time":"2024-04-03T10:26:39+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"8a72eb5a-4e66-4055-a788-54ca080a2c19","time":"2024-04-03T10:26:39+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"8a72eb5a-4e66-4055-a788-54ca080a2c19","time":"2024-04-03T10:26:39+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"8a72eb5a-4e66-4055-a788-54ca080a2c19","time":"2024-04-03T10:26:39+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"8a72eb5a-4e66-4055-a788-54ca080a2c19","time":"2024-04-03T10:26:39+05:00","message":"jwt.extract set Username to 910919300363"}
{"level":"info","x-request-id":"8a72eb5a-4e66-4055-a788-54ca080a2c19","time":"2024-04-03T10:26:39+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"8a72eb5a-4e66-4055-a788-54ca080a2c19","time":"2024-04-03T10:26:39+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"8a72eb5a-4e66-4055-a788-54ca080a2c19","time":"2024-04-03T10:26:39+05:00","message":"jwt.extract set Phone to +77055552928"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"8a72eb5a-4e66-4055-a788-54ca080a2c19","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"grpcConnAdd /testing.MockService/UnaryCall 8a72eb5a-4e66-4055-a788-54ca080a2c19"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"8a72eb5a-4e66-4055-a788-54ca080a2c19","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"8a72eb5a-4e66-4055-a788-54ca080a2c19","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"8a72eb5a-4e66-4055-a788-54ca080a2c19","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"8a72eb5a-4e66-4055-a788-54ca080a2c19","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"8a72eb5a-4e66-4055-a788-54ca080a2c19","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"8a72eb5a-4e66-4055-a788-54ca080a2c19","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"8a72eb5a-4e66-4055-a788-54ca080a2c19","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"8a72eb5a-4e66-4055-a788-54ca080a2c19","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"brokerClientStream brokerClientStream SendMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"8a72eb5a-4e66-4055-a788-54ca080a2c19","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"8a72eb5a-4e66-4055-a788-54ca080a2c19","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"brokerClientStream try to publish to qa.mock.connection1.in msg with hdr: metadata.Metadata{\"Authorization\":\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A\", \"Client-Ip\":\"172.23.20.6\", \"Content-Type\":\"application/grpc\", \"Phone\":\"+77055552928\", \"Qa-Custom-Headers\":\"{\\\"Error-Code\\\": \\\"6521\\\", \\\"Grpc-Code\\\": \\\"13\\\", \\\"Error-Data\\\": \\\"Test grpc-code = 13\\\"}\", \"Source-Service\":\"/testing.MockService/UnaryCall\", \"User-Id\":\"25\", \"Username\":\"910919300363\", \"X-Forwarded-For\":\"172.23.20.6\", \"X-Forwarded-Port\":\"443\", \"X-Real-Ip\":\"172.23.20.6\", \"X-Request-Id\":\"8a72eb5a-4e66-4055-a788-54ca080a2c19\"}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"8a72eb5a-4e66-4055-a788-54ca080a2c19","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"8a72eb5a-4e66-4055-a788-54ca080a2c19","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"brokerClientStream CloseSend method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"8a72eb5a-4e66-4055-a788-54ca080a2c19","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"8a72eb5a-4e66-4055-a788-54ca080a2c19","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"8a72eb5a-4e66-4055-a788-54ca080a2c19","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"8a72eb5a-4e66-4055-a788-54ca080a2c19","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"8a72eb5a-4e66-4055-a788-54ca080a2c19","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"brokerClientStream CloseSend method"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"8a72eb5a-4e66-4055-a788-54ca080a2c19","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"failed to CloseSend grpc conn: file already closed"}
{"level":"info","X-Request-Id":"8a72eb5a-4e66-4055-a788-54ca080a2c19","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"get message for service: /testing.MockService/UnaryCall with md map[Authorization:Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A Client-Ip:172.23.20.6 Content-Type:application/grpc Error-Code:6521 Error-Data:Test grpc-code = 13 Grpc-Code:13 Phone:+77055552928 Qa-Custom-Headers:{\"Error-Code\": \"6521\", \"Grpc-Code\": \"13\", \"Error-Data\": \"Test grpc-code = 13\"} Source-Service:/testing.MockService/UnaryCall User-Id:25 Username:910919300363 X-Forwarded-For:172.23.20.6 X-Forwarded-Port:443 X-Real-Ip:172.23.20.6 X-Request-Id:8a72eb5a-4e66-4055-a788-54ca080a2c19]"}
{"level":"info","x-request-id":"8a72eb5a-4e66-4055-a788-54ca080a2c19","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"get message for service: /testing.MockService/UnaryCall"}
{"level":"debug","x-request-id":"8a72eb5a-4e66-4055-a788-54ca080a2c19","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"grpcConnGet: /testing.MockService/UnaryCall via 8a72eb5a-4e66-4055-a788-54ca080a2c19"}
{"level":"debug","x-request-id":"8a72eb5a-4e66-4055-a788-54ca080a2c19","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"grpc use stream conn: &handler.grpcProxy{grpcStream:(*handler.grpcServerStream)(0xc0004104d0), kafkaStream:(*handler.grpcClientStream)(0xc000410c60)} sourceService: /testing.MockService/UnaryCall"}
{"level":"info","x-request-id":"8a72eb5a-4e66-4055-a788-54ca080a2c19","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"start transfer response from kafka"}
{"level":"error","x-request-id":"8a72eb5a-4e66-4055-a788-54ca080a2c19","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"error message for service: /testing.MockService/UnaryCallrpc error: code = Internal desc = 6521"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"8a72eb5a-4e66-4055-a788-54ca080a2c19","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"brokerClientStream SetError method"}
{"level":"info","x-request-id":"8a72eb5a-4e66-4055-a788-54ca080a2c19","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"stop transfer response from kafka"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"8a72eb5a-4e66-4055-a788-54ca080a2c19","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"brokerClientStream Close method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"8a72eb5a-4e66-4055-a788-54ca080a2c19","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"forwardBackendToClient src.RecvMsg err rpc error: code = Internal desc = 6521"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"8a72eb5a-4e66-4055-a788-54ca080a2c19","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"b2cErr := <-b2cErrChan: err: rpc error: code = Internal desc = 6521"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"8a72eb5a-4e66-4055-a788-54ca080a2c19","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"brokerClientStream Trailer method"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"8a72eb5a-4e66-4055-a788-54ca080a2c19","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"failed to proxy grpc conn c2bErr: rpc error: code = Internal desc = 6521 *status.Error &status.Error{s:(*status.Status)(0xc00007e5e8)}"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"8a72eb5a-4e66-4055-a788-54ca080a2c19","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"error status &status.Status{s:(*status.Status)(0xc00052a0c0)}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"8a72eb5a-4e66-4055-a788-54ca080a2c19","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"grpcConnDel /testing.MockService/UnaryCall 8a72eb5a-4e66-4055-a788-54ca080a2c19"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"8a72eb5a-4e66-4055-a788-54ca080a2c19","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"grpc handler exit"}
{"level":"debug","x-request-id":"0ac17a99-c7f2-4719-ac5f-7871a7b017ea","time":"2024-04-03T10:26:39+05:00","message":"authn.cookie not found"}
{"level":"debug","x-request-id":"0ac17a99-c7f2-4719-ac5f-7871a7b017ea","time":"2024-04-03T10:26:39+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"0ac17a99-c7f2-4719-ac5f-7871a7b017ea","time":"2024-04-03T10:26:39+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"0ac17a99-c7f2-4719-ac5f-7871a7b017ea","time":"2024-04-03T10:26:39+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"0ac17a99-c7f2-4719-ac5f-7871a7b017ea","time":"2024-04-03T10:26:39+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"0ac17a99-c7f2-4719-ac5f-7871a7b017ea","time":"2024-04-03T10:26:39+05:00","message":"jwt.extract set User-Id to 25"}
{"level":"info","x-request-id":"0ac17a99-c7f2-4719-ac5f-7871a7b017ea","time":"2024-04-03T10:26:39+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"0ac17a99-c7f2-4719-ac5f-7871a7b017ea","time":"2024-04-03T10:26:39+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"0ac17a99-c7f2-4719-ac5f-7871a7b017ea","time":"2024-04-03T10:26:39+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"0ac17a99-c7f2-4719-ac5f-7871a7b017ea","time":"2024-04-03T10:26:39+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"0ac17a99-c7f2-4719-ac5f-7871a7b017ea","time":"2024-04-03T10:26:39+05:00","message":"jwt.extract set Username to 910919300363"}
{"level":"info","x-request-id":"0ac17a99-c7f2-4719-ac5f-7871a7b017ea","time":"2024-04-03T10:26:39+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"0ac17a99-c7f2-4719-ac5f-7871a7b017ea","time":"2024-04-03T10:26:39+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"0ac17a99-c7f2-4719-ac5f-7871a7b017ea","time":"2024-04-03T10:26:39+05:00","message":"jwt.extract set Phone to +77055552928"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0ac17a99-c7f2-4719-ac5f-7871a7b017ea","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"grpcConnAdd /testing.MockService/UnaryCall 0ac17a99-c7f2-4719-ac5f-7871a7b017ea"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0ac17a99-c7f2-4719-ac5f-7871a7b017ea","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0ac17a99-c7f2-4719-ac5f-7871a7b017ea","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"0ac17a99-c7f2-4719-ac5f-7871a7b017ea","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0ac17a99-c7f2-4719-ac5f-7871a7b017ea","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0ac17a99-c7f2-4719-ac5f-7871a7b017ea","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0ac17a99-c7f2-4719-ac5f-7871a7b017ea","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0ac17a99-c7f2-4719-ac5f-7871a7b017ea","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0ac17a99-c7f2-4719-ac5f-7871a7b017ea","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"0ac17a99-c7f2-4719-ac5f-7871a7b017ea","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"brokerClientStream brokerClientStream SendMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"0ac17a99-c7f2-4719-ac5f-7871a7b017ea","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"brokerClientStream try to publish to qa.mock.connection1.in msg with hdr: metadata.Metadata{\"Authorization\":\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A\", \"Client-Ip\":\"172.23.20.6\", \"Content-Type\":\"application/grpc\", \"Phone\":\"+77055552928\", \"Qa-Custom-Headers\":\"{\\\"Error-Code\\\": \\\"4157\\\", \\\"Grpc-Code\\\": \\\"14\\\", \\\"Error-Data\\\": \\\"Test grpc-code = 14\\\"}\", \"Source-Service\":\"/testing.MockService/UnaryCall\", \"User-Id\":\"25\", \"Username\":\"910919300363\", \"X-Forwarded-For\":\"172.23.20.6\", \"X-Forwarded-Port\":\"443\", \"X-Real-Ip\":\"172.23.20.6\", \"X-Request-Id\":\"0ac17a99-c7f2-4719-ac5f-7871a7b017ea\"}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0ac17a99-c7f2-4719-ac5f-7871a7b017ea","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"0ac17a99-c7f2-4719-ac5f-7871a7b017ea","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"brokerClientStream CloseSend method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0ac17a99-c7f2-4719-ac5f-7871a7b017ea","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0ac17a99-c7f2-4719-ac5f-7871a7b017ea","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0ac17a99-c7f2-4719-ac5f-7871a7b017ea","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0ac17a99-c7f2-4719-ac5f-7871a7b017ea","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"0ac17a99-c7f2-4719-ac5f-7871a7b017ea","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"brokerClientStream CloseSend method"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"0ac17a99-c7f2-4719-ac5f-7871a7b017ea","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"failed to CloseSend grpc conn: file already closed"}
{"level":"info","X-Request-Id":"0ac17a99-c7f2-4719-ac5f-7871a7b017ea","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"get message for service: /testing.MockService/UnaryCall with md map[Authorization:Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A Client-Ip:172.23.20.6 Content-Type:application/grpc Error-Code:4157 Error-Data:Test grpc-code = 14 Grpc-Code:14 Phone:+77055552928 Qa-Custom-Headers:{\"Error-Code\": \"4157\", \"Grpc-Code\": \"14\", \"Error-Data\": \"Test grpc-code = 14\"} Source-Service:/testing.MockService/UnaryCall User-Id:25 Username:910919300363 X-Forwarded-For:172.23.20.6 X-Forwarded-Port:443 X-Real-Ip:172.23.20.6 X-Request-Id:0ac17a99-c7f2-4719-ac5f-7871a7b017ea]"}
{"level":"info","x-request-id":"0ac17a99-c7f2-4719-ac5f-7871a7b017ea","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"get message for service: /testing.MockService/UnaryCall"}
{"level":"debug","x-request-id":"0ac17a99-c7f2-4719-ac5f-7871a7b017ea","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"grpcConnGet: /testing.MockService/UnaryCall via 0ac17a99-c7f2-4719-ac5f-7871a7b017ea"}
{"level":"debug","x-request-id":"0ac17a99-c7f2-4719-ac5f-7871a7b017ea","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"grpc use stream conn: &handler.grpcProxy{grpcStream:(*handler.grpcServerStream)(0xc000232840), kafkaStream:(*handler.grpcClientStream)(0xc0002328f0)} sourceService: /testing.MockService/UnaryCall"}
{"level":"info","x-request-id":"0ac17a99-c7f2-4719-ac5f-7871a7b017ea","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"start transfer response from kafka"}
{"level":"error","x-request-id":"0ac17a99-c7f2-4719-ac5f-7871a7b017ea","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"error message for service: /testing.MockService/UnaryCallrpc error: code = Unavailable desc = 4157"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"0ac17a99-c7f2-4719-ac5f-7871a7b017ea","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"brokerClientStream SetError method"}
{"level":"info","x-request-id":"0ac17a99-c7f2-4719-ac5f-7871a7b017ea","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"stop transfer response from kafka"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"0ac17a99-c7f2-4719-ac5f-7871a7b017ea","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"brokerClientStream Close method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0ac17a99-c7f2-4719-ac5f-7871a7b017ea","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"forwardBackendToClient src.RecvMsg err rpc error: code = Unavailable desc = 4157"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0ac17a99-c7f2-4719-ac5f-7871a7b017ea","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"b2cErr := <-b2cErrChan: err: rpc error: code = Unavailable desc = 4157"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"0ac17a99-c7f2-4719-ac5f-7871a7b017ea","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"brokerClientStream Trailer method"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"0ac17a99-c7f2-4719-ac5f-7871a7b017ea","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"failed to proxy grpc conn c2bErr: rpc error: code = Unavailable desc = 4157 *status.Error &status.Error{s:(*status.Status)(0xc000536428)}"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"0ac17a99-c7f2-4719-ac5f-7871a7b017ea","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"error status &status.Status{s:(*status.Status)(0xc0001b51a0)}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0ac17a99-c7f2-4719-ac5f-7871a7b017ea","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"grpcConnDel /testing.MockService/UnaryCall 0ac17a99-c7f2-4719-ac5f-7871a7b017ea"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"0ac17a99-c7f2-4719-ac5f-7871a7b017ea","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"grpc handler exit"}
{"level":"debug","x-request-id":"5931ea48-38be-4d06-a824-0d6a82c605b2","time":"2024-04-03T10:26:39+05:00","message":"authn.cookie not found"}
{"level":"debug","x-request-id":"5931ea48-38be-4d06-a824-0d6a82c605b2","time":"2024-04-03T10:26:39+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"5931ea48-38be-4d06-a824-0d6a82c605b2","time":"2024-04-03T10:26:39+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"5931ea48-38be-4d06-a824-0d6a82c605b2","time":"2024-04-03T10:26:39+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"5931ea48-38be-4d06-a824-0d6a82c605b2","time":"2024-04-03T10:26:39+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"5931ea48-38be-4d06-a824-0d6a82c605b2","time":"2024-04-03T10:26:39+05:00","message":"jwt.extract set User-Id to 25"}
{"level":"info","x-request-id":"5931ea48-38be-4d06-a824-0d6a82c605b2","time":"2024-04-03T10:26:39+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"5931ea48-38be-4d06-a824-0d6a82c605b2","time":"2024-04-03T10:26:39+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"5931ea48-38be-4d06-a824-0d6a82c605b2","time":"2024-04-03T10:26:39+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"5931ea48-38be-4d06-a824-0d6a82c605b2","time":"2024-04-03T10:26:39+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"5931ea48-38be-4d06-a824-0d6a82c605b2","time":"2024-04-03T10:26:39+05:00","message":"jwt.extract set Username to 910919300363"}
{"level":"info","x-request-id":"5931ea48-38be-4d06-a824-0d6a82c605b2","time":"2024-04-03T10:26:39+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"5931ea48-38be-4d06-a824-0d6a82c605b2","time":"2024-04-03T10:26:39+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"5931ea48-38be-4d06-a824-0d6a82c605b2","time":"2024-04-03T10:26:39+05:00","message":"jwt.extract set Phone to +77055552928"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5931ea48-38be-4d06-a824-0d6a82c605b2","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"grpcConnAdd /testing.MockService/UnaryCall 5931ea48-38be-4d06-a824-0d6a82c605b2"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5931ea48-38be-4d06-a824-0d6a82c605b2","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5931ea48-38be-4d06-a824-0d6a82c605b2","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5931ea48-38be-4d06-a824-0d6a82c605b2","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5931ea48-38be-4d06-a824-0d6a82c605b2","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"5931ea48-38be-4d06-a824-0d6a82c605b2","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5931ea48-38be-4d06-a824-0d6a82c605b2","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5931ea48-38be-4d06-a824-0d6a82c605b2","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5931ea48-38be-4d06-a824-0d6a82c605b2","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"5931ea48-38be-4d06-a824-0d6a82c605b2","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"brokerClientStream brokerClientStream SendMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"5931ea48-38be-4d06-a824-0d6a82c605b2","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"brokerClientStream try to publish to qa.mock.connection1.in msg with hdr: metadata.Metadata{\"Authorization\":\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A\", \"Client-Ip\":\"172.23.20.6\", \"Content-Type\":\"application/grpc\", \"Phone\":\"+77055552928\", \"Qa-Custom-Headers\":\"{\\\"Error-Code\\\": \\\"7749\\\", \\\"Grpc-Code\\\": \\\"15\\\", \\\"Error-Data\\\": \\\"Test grpc-code = 15\\\"}\", \"Source-Service\":\"/testing.MockService/UnaryCall\", \"User-Id\":\"25\", \"Username\":\"910919300363\", \"X-Forwarded-For\":\"172.23.20.6\", \"X-Forwarded-Port\":\"443\", \"X-Real-Ip\":\"172.23.20.6\", \"X-Request-Id\":\"5931ea48-38be-4d06-a824-0d6a82c605b2\"}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5931ea48-38be-4d06-a824-0d6a82c605b2","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"5931ea48-38be-4d06-a824-0d6a82c605b2","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"brokerClientStream CloseSend method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5931ea48-38be-4d06-a824-0d6a82c605b2","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5931ea48-38be-4d06-a824-0d6a82c605b2","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5931ea48-38be-4d06-a824-0d6a82c605b2","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5931ea48-38be-4d06-a824-0d6a82c605b2","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"5931ea48-38be-4d06-a824-0d6a82c605b2","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"brokerClientStream CloseSend method"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"5931ea48-38be-4d06-a824-0d6a82c605b2","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"failed to CloseSend grpc conn: file already closed"}
{"level":"info","X-Request-Id":"5931ea48-38be-4d06-a824-0d6a82c605b2","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"get message for service: /testing.MockService/UnaryCall with md map[Authorization:Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A Client-Ip:172.23.20.6 Content-Type:application/grpc Error-Code:7749 Error-Data:Test grpc-code = 15 Grpc-Code:15 Phone:+77055552928 Qa-Custom-Headers:{\"Error-Code\": \"7749\", \"Grpc-Code\": \"15\", \"Error-Data\": \"Test grpc-code = 15\"} Source-Service:/testing.MockService/UnaryCall User-Id:25 Username:910919300363 X-Forwarded-For:172.23.20.6 X-Forwarded-Port:443 X-Real-Ip:172.23.20.6 X-Request-Id:5931ea48-38be-4d06-a824-0d6a82c605b2]"}
{"level":"info","x-request-id":"5931ea48-38be-4d06-a824-0d6a82c605b2","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"get message for service: /testing.MockService/UnaryCall"}
{"level":"debug","x-request-id":"5931ea48-38be-4d06-a824-0d6a82c605b2","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"grpcConnGet: /testing.MockService/UnaryCall via 5931ea48-38be-4d06-a824-0d6a82c605b2"}
{"level":"debug","x-request-id":"5931ea48-38be-4d06-a824-0d6a82c605b2","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"grpc use stream conn: &handler.grpcProxy{grpcStream:(*handler.grpcServerStream)(0xc000233340), kafkaStream:(*handler.grpcClientStream)(0xc0002333f0)} sourceService: /testing.MockService/UnaryCall"}
{"level":"info","x-request-id":"5931ea48-38be-4d06-a824-0d6a82c605b2","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"start transfer response from kafka"}
{"level":"error","x-request-id":"5931ea48-38be-4d06-a824-0d6a82c605b2","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"error message for service: /testing.MockService/UnaryCallrpc error: code = DataLoss desc = 7749"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"5931ea48-38be-4d06-a824-0d6a82c605b2","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"brokerClientStream SetError method"}
{"level":"info","x-request-id":"5931ea48-38be-4d06-a824-0d6a82c605b2","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"stop transfer response from kafka"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"5931ea48-38be-4d06-a824-0d6a82c605b2","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"brokerClientStream Close method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5931ea48-38be-4d06-a824-0d6a82c605b2","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"forwardBackendToClient src.RecvMsg err rpc error: code = DataLoss desc = 7749"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5931ea48-38be-4d06-a824-0d6a82c605b2","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"b2cErr := <-b2cErrChan: err: rpc error: code = DataLoss desc = 7749"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"5931ea48-38be-4d06-a824-0d6a82c605b2","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"brokerClientStream Trailer method"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"5931ea48-38be-4d06-a824-0d6a82c605b2","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"failed to proxy grpc conn c2bErr: rpc error: code = DataLoss desc = 7749 *status.Error &status.Error{s:(*status.Status)(0xc0001a2998)}"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"5931ea48-38be-4d06-a824-0d6a82c605b2","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"error status &status.Status{s:(*status.Status)(0xc000b882a0)}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5931ea48-38be-4d06-a824-0d6a82c605b2","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"grpcConnDel /testing.MockService/UnaryCall 5931ea48-38be-4d06-a824-0d6a82c605b2"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"5931ea48-38be-4d06-a824-0d6a82c605b2","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"grpc handler exit"}
{"level":"debug","x-request-id":"7776f388-bf7b-440a-a47e-2528f11f52b4","time":"2024-04-03T10:26:39+05:00","message":"authn.cookie not found"}
{"level":"debug","x-request-id":"7776f388-bf7b-440a-a47e-2528f11f52b4","time":"2024-04-03T10:26:39+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"7776f388-bf7b-440a-a47e-2528f11f52b4","time":"2024-04-03T10:26:39+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"7776f388-bf7b-440a-a47e-2528f11f52b4","time":"2024-04-03T10:26:39+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"7776f388-bf7b-440a-a47e-2528f11f52b4","time":"2024-04-03T10:26:39+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"7776f388-bf7b-440a-a47e-2528f11f52b4","time":"2024-04-03T10:26:39+05:00","message":"jwt.extract set User-Id to 25"}
{"level":"info","x-request-id":"7776f388-bf7b-440a-a47e-2528f11f52b4","time":"2024-04-03T10:26:39+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"7776f388-bf7b-440a-a47e-2528f11f52b4","time":"2024-04-03T10:26:39+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"7776f388-bf7b-440a-a47e-2528f11f52b4","time":"2024-04-03T10:26:39+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"7776f388-bf7b-440a-a47e-2528f11f52b4","time":"2024-04-03T10:26:39+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"7776f388-bf7b-440a-a47e-2528f11f52b4","time":"2024-04-03T10:26:39+05:00","message":"jwt.extract set Username to 910919300363"}
{"level":"info","x-request-id":"7776f388-bf7b-440a-a47e-2528f11f52b4","time":"2024-04-03T10:26:39+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"7776f388-bf7b-440a-a47e-2528f11f52b4","time":"2024-04-03T10:26:39+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"7776f388-bf7b-440a-a47e-2528f11f52b4","time":"2024-04-03T10:26:39+05:00","message":"jwt.extract set Phone to +77055552928"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7776f388-bf7b-440a-a47e-2528f11f52b4","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"grpcConnAdd /testing.MockService/StreamCall 7776f388-bf7b-440a-a47e-2528f11f52b4"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7776f388-bf7b-440a-a47e-2528f11f52b4","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"forwardBackendToClient set Read timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7776f388-bf7b-440a-a47e-2528f11f52b4","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"7776f388-bf7b-440a-a47e-2528f11f52b4","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7776f388-bf7b-440a-a47e-2528f11f52b4","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"forwardClientToBackend set Read timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7776f388-bf7b-440a-a47e-2528f11f52b4","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7776f388-bf7b-440a-a47e-2528f11f52b4","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7776f388-bf7b-440a-a47e-2528f11f52b4","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"forwardClientToBackend set Write timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7776f388-bf7b-440a-a47e-2528f11f52b4","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"7776f388-bf7b-440a-a47e-2528f11f52b4","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"brokerClientStream brokerClientStream SendMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"7776f388-bf7b-440a-a47e-2528f11f52b4","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"brokerClientStream try to publish to qa.mock.connection1.in msg with hdr: metadata.Metadata{\"Authorization\":\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A\", \"Client-Ip\":\"172.23.20.6\", \"Content-Type\":\"application/grpc\", \"Phone\":\"+77055552928\", \"Qa-Custom-Headers\":\"{\\\"Error-Code\\\": \\\"4152\\\", \\\"Grpc-Code\\\": \\\"1\\\", \\\"Error-Data\\\": \\\"Test grpc-code = 1\\\"}\", \"Source-Service\":\"/testing.MockService/StreamCall\", \"User-Id\":\"25\", \"Username\":\"910919300363\", \"X-Forwarded-For\":\"172.23.20.6\", \"X-Forwarded-Port\":\"443\", \"X-Real-Ip\":\"172.23.20.6\", \"X-Request-Id\":\"7776f388-bf7b-440a-a47e-2528f11f52b4\"}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7776f388-bf7b-440a-a47e-2528f11f52b4","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7776f388-bf7b-440a-a47e-2528f11f52b4","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"forwardClientToBackend set Read timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7776f388-bf7b-440a-a47e-2528f11f52b4","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7776f388-bf7b-440a-a47e-2528f11f52b4","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7776f388-bf7b-440a-a47e-2528f11f52b4","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"7776f388-bf7b-440a-a47e-2528f11f52b4","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"brokerClientStream CloseSend method"}
{"level":"info","X-Request-Id":"7776f388-bf7b-440a-a47e-2528f11f52b4","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"get message for service: /testing.MockService/StreamCall with md map[Authorization:Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A Client-Ip:172.23.20.6 Content-Type:application/grpc Error-Code:4152 Error-Data:Test grpc-code = 1 Grpc-Code:1 Phone:+77055552928 Qa-Custom-Headers:{\"Error-Code\": \"4152\", \"Grpc-Code\": \"1\", \"Error-Data\": \"Test grpc-code = 1\"} Source-Service:/testing.MockService/StreamCall User-Id:25 Username:910919300363 X-Forwarded-For:172.23.20.6 X-Forwarded-Port:443 X-Real-Ip:172.23.20.6 X-Request-Id:7776f388-bf7b-440a-a47e-2528f11f52b4]"}
{"level":"info","x-request-id":"7776f388-bf7b-440a-a47e-2528f11f52b4","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"get message for service: /testing.MockService/StreamCall"}
{"level":"debug","x-request-id":"7776f388-bf7b-440a-a47e-2528f11f52b4","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"grpcConnGet: /testing.MockService/StreamCall via 7776f388-bf7b-440a-a47e-2528f11f52b4"}
{"level":"debug","x-request-id":"7776f388-bf7b-440a-a47e-2528f11f52b4","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"grpc use stream conn: &handler.grpcProxy{grpcStream:(*handler.grpcServerStream)(0xc0002334a0), kafkaStream:(*handler.grpcClientStream)(0xc000233550)} sourceService: /testing.MockService/StreamCall"}
{"level":"info","x-request-id":"7776f388-bf7b-440a-a47e-2528f11f52b4","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"start transfer response from kafka"}
{"level":"error","x-request-id":"7776f388-bf7b-440a-a47e-2528f11f52b4","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"error message for service: /testing.MockService/StreamCallrpc error: code = Canceled desc = 4152"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"7776f388-bf7b-440a-a47e-2528f11f52b4","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"brokerClientStream SetError method"}
{"level":"info","x-request-id":"7776f388-bf7b-440a-a47e-2528f11f52b4","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"stop transfer response from kafka"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"7776f388-bf7b-440a-a47e-2528f11f52b4","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"brokerClientStream Close method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7776f388-bf7b-440a-a47e-2528f11f52b4","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"forwardBackendToClient src.RecvMsg err rpc error: code = Canceled desc = 4152"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7776f388-bf7b-440a-a47e-2528f11f52b4","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"b2cErr := <-b2cErrChan: err: rpc error: code = Canceled desc = 4152"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"7776f388-bf7b-440a-a47e-2528f11f52b4","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"brokerClientStream Trailer method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7776f388-bf7b-440a-a47e-2528f11f52b4","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"grpcConnDel /testing.MockService/StreamCall 7776f388-bf7b-440a-a47e-2528f11f52b4"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"7776f388-bf7b-440a-a47e-2528f11f52b4","trace-id":"","span-id":"","time":"2024-04-03T10:26:39+05:00","message":"grpc handler exit"}
{"level":"debug","x-request-id":"0f12d987-931e-487b-9fdc-44fe367d08ba","time":"2024-04-03T10:26:40+05:00","message":"authn.cookie not found"}
{"level":"debug","x-request-id":"0f12d987-931e-487b-9fdc-44fe367d08ba","time":"2024-04-03T10:26:40+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"0f12d987-931e-487b-9fdc-44fe367d08ba","time":"2024-04-03T10:26:40+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"0f12d987-931e-487b-9fdc-44fe367d08ba","time":"2024-04-03T10:26:40+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"0f12d987-931e-487b-9fdc-44fe367d08ba","time":"2024-04-03T10:26:40+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"0f12d987-931e-487b-9fdc-44fe367d08ba","time":"2024-04-03T10:26:40+05:00","message":"jwt.extract set User-Id to 25"}
{"level":"info","x-request-id":"0f12d987-931e-487b-9fdc-44fe367d08ba","time":"2024-04-03T10:26:40+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"0f12d987-931e-487b-9fdc-44fe367d08ba","time":"2024-04-03T10:26:40+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"0f12d987-931e-487b-9fdc-44fe367d08ba","time":"2024-04-03T10:26:40+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"0f12d987-931e-487b-9fdc-44fe367d08ba","time":"2024-04-03T10:26:40+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"0f12d987-931e-487b-9fdc-44fe367d08ba","time":"2024-04-03T10:26:40+05:00","message":"jwt.extract set Username to 910919300363"}
{"level":"info","x-request-id":"0f12d987-931e-487b-9fdc-44fe367d08ba","time":"2024-04-03T10:26:40+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"0f12d987-931e-487b-9fdc-44fe367d08ba","time":"2024-04-03T10:26:40+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"0f12d987-931e-487b-9fdc-44fe367d08ba","time":"2024-04-03T10:26:40+05:00","message":"jwt.extract set Phone to +77055552928"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0f12d987-931e-487b-9fdc-44fe367d08ba","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"grpcConnAdd /testing.MockService/StreamCall 0f12d987-931e-487b-9fdc-44fe367d08ba"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0f12d987-931e-487b-9fdc-44fe367d08ba","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"forwardBackendToClient set Read timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0f12d987-931e-487b-9fdc-44fe367d08ba","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"0f12d987-931e-487b-9fdc-44fe367d08ba","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0f12d987-931e-487b-9fdc-44fe367d08ba","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"forwardClientToBackend set Read timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0f12d987-931e-487b-9fdc-44fe367d08ba","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0f12d987-931e-487b-9fdc-44fe367d08ba","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0f12d987-931e-487b-9fdc-44fe367d08ba","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"forwardClientToBackend set Write timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0f12d987-931e-487b-9fdc-44fe367d08ba","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"0f12d987-931e-487b-9fdc-44fe367d08ba","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"brokerClientStream brokerClientStream SendMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"0f12d987-931e-487b-9fdc-44fe367d08ba","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"brokerClientStream try to publish to qa.mock.connection1.in msg with hdr: metadata.Metadata{\"Authorization\":\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A\", \"Client-Ip\":\"172.23.20.6\", \"Content-Type\":\"application/grpc\", \"Phone\":\"+77055552928\", \"Qa-Custom-Headers\":\"{\\\"Error-Code\\\": \\\"9085\\\", \\\"Grpc-Code\\\": \\\"2\\\", \\\"Error-Data\\\": \\\"Test grpc-code = 2\\\"}\", \"Source-Service\":\"/testing.MockService/StreamCall\", \"User-Id\":\"25\", \"Username\":\"910919300363\", \"X-Forwarded-For\":\"172.23.20.6\", \"X-Forwarded-Port\":\"443\", \"X-Real-Ip\":\"172.23.20.6\", \"X-Request-Id\":\"0f12d987-931e-487b-9fdc-44fe367d08ba\"}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0f12d987-931e-487b-9fdc-44fe367d08ba","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0f12d987-931e-487b-9fdc-44fe367d08ba","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"forwardClientToBackend set Read timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0f12d987-931e-487b-9fdc-44fe367d08ba","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0f12d987-931e-487b-9fdc-44fe367d08ba","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0f12d987-931e-487b-9fdc-44fe367d08ba","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"0f12d987-931e-487b-9fdc-44fe367d08ba","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"brokerClientStream CloseSend method"}
{"level":"info","X-Request-Id":"0f12d987-931e-487b-9fdc-44fe367d08ba","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"get message for service: /testing.MockService/StreamCall with md map[Authorization:Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A Client-Ip:172.23.20.6 Content-Type:application/grpc Error-Code:9085 Error-Data:Test grpc-code = 2 Grpc-Code:2 Phone:+77055552928 Qa-Custom-Headers:{\"Error-Code\": \"9085\", \"Grpc-Code\": \"2\", \"Error-Data\": \"Test grpc-code = 2\"} Source-Service:/testing.MockService/StreamCall User-Id:25 Username:910919300363 X-Forwarded-For:172.23.20.6 X-Forwarded-Port:443 X-Real-Ip:172.23.20.6 X-Request-Id:0f12d987-931e-487b-9fdc-44fe367d08ba]"}
{"level":"info","x-request-id":"0f12d987-931e-487b-9fdc-44fe367d08ba","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"get message for service: /testing.MockService/StreamCall"}
{"level":"debug","x-request-id":"0f12d987-931e-487b-9fdc-44fe367d08ba","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"grpcConnGet: /testing.MockService/StreamCall via 0f12d987-931e-487b-9fdc-44fe367d08ba"}
{"level":"debug","x-request-id":"0f12d987-931e-487b-9fdc-44fe367d08ba","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"grpc use stream conn: &handler.grpcProxy{grpcStream:(*handler.grpcServerStream)(0xc000410dc0), kafkaStream:(*handler.grpcClientStream)(0xc000410e70)} sourceService: /testing.MockService/StreamCall"}
{"level":"info","x-request-id":"0f12d987-931e-487b-9fdc-44fe367d08ba","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"start transfer response from kafka"}
{"level":"error","x-request-id":"0f12d987-931e-487b-9fdc-44fe367d08ba","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"error message for service: /testing.MockService/StreamCallrpc error: code = Unknown desc = 9085"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"0f12d987-931e-487b-9fdc-44fe367d08ba","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"brokerClientStream SetError method"}
{"level":"info","x-request-id":"0f12d987-931e-487b-9fdc-44fe367d08ba","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"stop transfer response from kafka"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"0f12d987-931e-487b-9fdc-44fe367d08ba","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"brokerClientStream Close method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0f12d987-931e-487b-9fdc-44fe367d08ba","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"forwardBackendToClient src.RecvMsg err rpc error: code = Unknown desc = 9085"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0f12d987-931e-487b-9fdc-44fe367d08ba","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"b2cErr := <-b2cErrChan: err: rpc error: code = Unknown desc = 9085"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"0f12d987-931e-487b-9fdc-44fe367d08ba","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"brokerClientStream Trailer method"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"0f12d987-931e-487b-9fdc-44fe367d08ba","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"failed to proxy grpc conn c2bErr: rpc error: code = Unknown desc = 9085 *status.Error &status.Error{s:(*status.Status)(0xc0008922d0)}"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"0f12d987-931e-487b-9fdc-44fe367d08ba","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"error status &status.Status{s:(*status.Status)(0xc000a8a420)}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0f12d987-931e-487b-9fdc-44fe367d08ba","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"grpcConnDel /testing.MockService/StreamCall 0f12d987-931e-487b-9fdc-44fe367d08ba"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"0f12d987-931e-487b-9fdc-44fe367d08ba","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"grpc handler exit"}
{"level":"debug","x-request-id":"06d1806b-95b6-4843-b5ad-40b5c3998ded","time":"2024-04-03T10:26:40+05:00","message":"authn.cookie not found"}
{"level":"debug","x-request-id":"06d1806b-95b6-4843-b5ad-40b5c3998ded","time":"2024-04-03T10:26:40+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"06d1806b-95b6-4843-b5ad-40b5c3998ded","time":"2024-04-03T10:26:40+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"06d1806b-95b6-4843-b5ad-40b5c3998ded","time":"2024-04-03T10:26:40+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"06d1806b-95b6-4843-b5ad-40b5c3998ded","time":"2024-04-03T10:26:40+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"06d1806b-95b6-4843-b5ad-40b5c3998ded","time":"2024-04-03T10:26:40+05:00","message":"jwt.extract set User-Id to 25"}
{"level":"info","x-request-id":"06d1806b-95b6-4843-b5ad-40b5c3998ded","time":"2024-04-03T10:26:40+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"06d1806b-95b6-4843-b5ad-40b5c3998ded","time":"2024-04-03T10:26:40+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"06d1806b-95b6-4843-b5ad-40b5c3998ded","time":"2024-04-03T10:26:40+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"06d1806b-95b6-4843-b5ad-40b5c3998ded","time":"2024-04-03T10:26:40+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"06d1806b-95b6-4843-b5ad-40b5c3998ded","time":"2024-04-03T10:26:40+05:00","message":"jwt.extract set Username to 910919300363"}
{"level":"info","x-request-id":"06d1806b-95b6-4843-b5ad-40b5c3998ded","time":"2024-04-03T10:26:40+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"06d1806b-95b6-4843-b5ad-40b5c3998ded","time":"2024-04-03T10:26:40+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"06d1806b-95b6-4843-b5ad-40b5c3998ded","time":"2024-04-03T10:26:40+05:00","message":"jwt.extract set Phone to +77055552928"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"06d1806b-95b6-4843-b5ad-40b5c3998ded","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"grpcConnAdd /testing.MockService/StreamCall 06d1806b-95b6-4843-b5ad-40b5c3998ded"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"06d1806b-95b6-4843-b5ad-40b5c3998ded","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"forwardBackendToClient set Read timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"06d1806b-95b6-4843-b5ad-40b5c3998ded","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"06d1806b-95b6-4843-b5ad-40b5c3998ded","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"06d1806b-95b6-4843-b5ad-40b5c3998ded","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"forwardClientToBackend set Read timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"06d1806b-95b6-4843-b5ad-40b5c3998ded","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"06d1806b-95b6-4843-b5ad-40b5c3998ded","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"06d1806b-95b6-4843-b5ad-40b5c3998ded","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"forwardClientToBackend set Write timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"06d1806b-95b6-4843-b5ad-40b5c3998ded","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"06d1806b-95b6-4843-b5ad-40b5c3998ded","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"brokerClientStream brokerClientStream SendMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"06d1806b-95b6-4843-b5ad-40b5c3998ded","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"brokerClientStream try to publish to qa.mock.connection1.in msg with hdr: metadata.Metadata{\"Authorization\":\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A\", \"Client-Ip\":\"172.23.20.6\", \"Content-Type\":\"application/grpc\", \"Phone\":\"+77055552928\", \"Qa-Custom-Headers\":\"{\\\"Error-Code\\\": \\\"3097\\\", \\\"Grpc-Code\\\": \\\"3\\\", \\\"Error-Data\\\": \\\"Test grpc-code = 3\\\"}\", \"Source-Service\":\"/testing.MockService/StreamCall\", \"User-Id\":\"25\", \"Username\":\"910919300363\", \"X-Forwarded-For\":\"172.23.20.6\", \"X-Forwarded-Port\":\"443\", \"X-Real-Ip\":\"172.23.20.6\", \"X-Request-Id\":\"06d1806b-95b6-4843-b5ad-40b5c3998ded\"}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"06d1806b-95b6-4843-b5ad-40b5c3998ded","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"06d1806b-95b6-4843-b5ad-40b5c3998ded","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"forwardClientToBackend set Read timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"06d1806b-95b6-4843-b5ad-40b5c3998ded","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"06d1806b-95b6-4843-b5ad-40b5c3998ded","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"06d1806b-95b6-4843-b5ad-40b5c3998ded","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"06d1806b-95b6-4843-b5ad-40b5c3998ded","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"brokerClientStream CloseSend method"}
{"level":"info","X-Request-Id":"06d1806b-95b6-4843-b5ad-40b5c3998ded","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"get message for service: /testing.MockService/StreamCall with md map[Authorization:Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A Client-Ip:172.23.20.6 Content-Type:application/grpc Error-Code:3097 Error-Data:Test grpc-code = 3 Grpc-Code:3 Phone:+77055552928 Qa-Custom-Headers:{\"Error-Code\": \"3097\", \"Grpc-Code\": \"3\", \"Error-Data\": \"Test grpc-code = 3\"} Source-Service:/testing.MockService/StreamCall User-Id:25 Username:910919300363 X-Forwarded-For:172.23.20.6 X-Forwarded-Port:443 X-Real-Ip:172.23.20.6 X-Request-Id:06d1806b-95b6-4843-b5ad-40b5c3998ded]"}
{"level":"info","x-request-id":"06d1806b-95b6-4843-b5ad-40b5c3998ded","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"get message for service: /testing.MockService/StreamCall"}
{"level":"debug","x-request-id":"06d1806b-95b6-4843-b5ad-40b5c3998ded","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"grpcConnGet: /testing.MockService/StreamCall via 06d1806b-95b6-4843-b5ad-40b5c3998ded"}
{"level":"debug","x-request-id":"06d1806b-95b6-4843-b5ad-40b5c3998ded","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"grpc use stream conn: &handler.grpcProxy{grpcStream:(*handler.grpcServerStream)(0xc000668580), kafkaStream:(*handler.grpcClientStream)(0xc000668630)} sourceService: /testing.MockService/StreamCall"}
{"level":"info","x-request-id":"06d1806b-95b6-4843-b5ad-40b5c3998ded","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"start transfer response from kafka"}
{"level":"error","x-request-id":"06d1806b-95b6-4843-b5ad-40b5c3998ded","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"error message for service: /testing.MockService/StreamCallrpc error: code = InvalidArgument desc = 3097"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"06d1806b-95b6-4843-b5ad-40b5c3998ded","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"brokerClientStream SetError method"}
{"level":"info","x-request-id":"06d1806b-95b6-4843-b5ad-40b5c3998ded","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"stop transfer response from kafka"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"06d1806b-95b6-4843-b5ad-40b5c3998ded","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"brokerClientStream Close method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"06d1806b-95b6-4843-b5ad-40b5c3998ded","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"forwardBackendToClient src.RecvMsg err rpc error: code = InvalidArgument desc = 3097"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"06d1806b-95b6-4843-b5ad-40b5c3998ded","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"b2cErr := <-b2cErrChan: err: rpc error: code = InvalidArgument desc = 3097"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"06d1806b-95b6-4843-b5ad-40b5c3998ded","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"brokerClientStream Trailer method"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"06d1806b-95b6-4843-b5ad-40b5c3998ded","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"failed to proxy grpc conn c2bErr: rpc error: code = InvalidArgument desc = 3097 *status.Error &status.Error{s:(*status.Status)(0xc00007eb70)}"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"06d1806b-95b6-4843-b5ad-40b5c3998ded","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"error status &status.Status{s:(*status.Status)(0xc0001155c0)}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"06d1806b-95b6-4843-b5ad-40b5c3998ded","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"grpcConnDel /testing.MockService/StreamCall 06d1806b-95b6-4843-b5ad-40b5c3998ded"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"06d1806b-95b6-4843-b5ad-40b5c3998ded","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"grpc handler exit"}
{"level":"debug","x-request-id":"548d9fdf-da78-4e71-bdbd-3f0c4f5ac570","time":"2024-04-03T10:26:40+05:00","message":"authn.cookie not found"}
{"level":"debug","x-request-id":"548d9fdf-da78-4e71-bdbd-3f0c4f5ac570","time":"2024-04-03T10:26:40+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"548d9fdf-da78-4e71-bdbd-3f0c4f5ac570","time":"2024-04-03T10:26:40+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"548d9fdf-da78-4e71-bdbd-3f0c4f5ac570","time":"2024-04-03T10:26:40+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"548d9fdf-da78-4e71-bdbd-3f0c4f5ac570","time":"2024-04-03T10:26:40+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"548d9fdf-da78-4e71-bdbd-3f0c4f5ac570","time":"2024-04-03T10:26:40+05:00","message":"jwt.extract set User-Id to 25"}
{"level":"info","x-request-id":"548d9fdf-da78-4e71-bdbd-3f0c4f5ac570","time":"2024-04-03T10:26:40+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"548d9fdf-da78-4e71-bdbd-3f0c4f5ac570","time":"2024-04-03T10:26:40+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"548d9fdf-da78-4e71-bdbd-3f0c4f5ac570","time":"2024-04-03T10:26:40+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"548d9fdf-da78-4e71-bdbd-3f0c4f5ac570","time":"2024-04-03T10:26:40+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"548d9fdf-da78-4e71-bdbd-3f0c4f5ac570","time":"2024-04-03T10:26:40+05:00","message":"jwt.extract set Username to 910919300363"}
{"level":"info","x-request-id":"548d9fdf-da78-4e71-bdbd-3f0c4f5ac570","time":"2024-04-03T10:26:40+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"548d9fdf-da78-4e71-bdbd-3f0c4f5ac570","time":"2024-04-03T10:26:40+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"548d9fdf-da78-4e71-bdbd-3f0c4f5ac570","time":"2024-04-03T10:26:40+05:00","message":"jwt.extract set Phone to +77055552928"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"548d9fdf-da78-4e71-bdbd-3f0c4f5ac570","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"grpcConnAdd /testing.MockService/StreamCall 548d9fdf-da78-4e71-bdbd-3f0c4f5ac570"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"548d9fdf-da78-4e71-bdbd-3f0c4f5ac570","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"forwardBackendToClient set Read timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"548d9fdf-da78-4e71-bdbd-3f0c4f5ac570","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"548d9fdf-da78-4e71-bdbd-3f0c4f5ac570","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"548d9fdf-da78-4e71-bdbd-3f0c4f5ac570","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"forwardClientToBackend set Read timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"548d9fdf-da78-4e71-bdbd-3f0c4f5ac570","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"548d9fdf-da78-4e71-bdbd-3f0c4f5ac570","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"548d9fdf-da78-4e71-bdbd-3f0c4f5ac570","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"forwardClientToBackend set Write timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"548d9fdf-da78-4e71-bdbd-3f0c4f5ac570","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"548d9fdf-da78-4e71-bdbd-3f0c4f5ac570","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"brokerClientStream brokerClientStream SendMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"548d9fdf-da78-4e71-bdbd-3f0c4f5ac570","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"brokerClientStream try to publish to qa.mock.connection1.in msg with hdr: metadata.Metadata{\"Authorization\":\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A\", \"Client-Ip\":\"172.23.20.6\", \"Content-Type\":\"application/grpc\", \"Phone\":\"+77055552928\", \"Qa-Custom-Headers\":\"{\\\"Error-Code\\\": \\\"9701\\\", \\\"Grpc-Code\\\": \\\"4\\\", \\\"Error-Data\\\": \\\"Test grpc-code = 4\\\"}\", \"Source-Service\":\"/testing.MockService/StreamCall\", \"User-Id\":\"25\", \"Username\":\"910919300363\", \"X-Forwarded-For\":\"172.23.20.6\", \"X-Forwarded-Port\":\"443\", \"X-Real-Ip\":\"172.23.20.6\", \"X-Request-Id\":\"548d9fdf-da78-4e71-bdbd-3f0c4f5ac570\"}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"548d9fdf-da78-4e71-bdbd-3f0c4f5ac570","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"548d9fdf-da78-4e71-bdbd-3f0c4f5ac570","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"forwardClientToBackend set Read timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"548d9fdf-da78-4e71-bdbd-3f0c4f5ac570","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"548d9fdf-da78-4e71-bdbd-3f0c4f5ac570","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"548d9fdf-da78-4e71-bdbd-3f0c4f5ac570","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"548d9fdf-da78-4e71-bdbd-3f0c4f5ac570","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"brokerClientStream CloseSend method"}
{"level":"info","X-Request-Id":"548d9fdf-da78-4e71-bdbd-3f0c4f5ac570","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"get message for service: /testing.MockService/StreamCall with md map[Authorization:Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A Client-Ip:172.23.20.6 Content-Type:application/grpc Error-Code:9701 Error-Data:Test grpc-code = 4 Grpc-Code:4 Phone:+77055552928 Qa-Custom-Headers:{\"Error-Code\": \"9701\", \"Grpc-Code\": \"4\", \"Error-Data\": \"Test grpc-code = 4\"} Source-Service:/testing.MockService/StreamCall User-Id:25 Username:910919300363 X-Forwarded-For:172.23.20.6 X-Forwarded-Port:443 X-Real-Ip:172.23.20.6 X-Request-Id:548d9fdf-da78-4e71-bdbd-3f0c4f5ac570]"}
{"level":"info","x-request-id":"548d9fdf-da78-4e71-bdbd-3f0c4f5ac570","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"get message for service: /testing.MockService/StreamCall"}
{"level":"debug","x-request-id":"548d9fdf-da78-4e71-bdbd-3f0c4f5ac570","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"grpcConnGet: /testing.MockService/StreamCall via 548d9fdf-da78-4e71-bdbd-3f0c4f5ac570"}
{"level":"debug","x-request-id":"548d9fdf-da78-4e71-bdbd-3f0c4f5ac570","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"grpc use stream conn: &handler.grpcProxy{grpcStream:(*handler.grpcServerStream)(0xc0002d1600), kafkaStream:(*handler.grpcClientStream)(0xc0002d16b0)} sourceService: /testing.MockService/StreamCall"}
{"level":"info","x-request-id":"548d9fdf-da78-4e71-bdbd-3f0c4f5ac570","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"start transfer response from kafka"}
{"level":"error","x-request-id":"548d9fdf-da78-4e71-bdbd-3f0c4f5ac570","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"error message for service: /testing.MockService/StreamCallrpc error: code = DeadlineExceeded desc = 9701"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"548d9fdf-da78-4e71-bdbd-3f0c4f5ac570","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"brokerClientStream SetError method"}
{"level":"info","x-request-id":"548d9fdf-da78-4e71-bdbd-3f0c4f5ac570","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"stop transfer response from kafka"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"548d9fdf-da78-4e71-bdbd-3f0c4f5ac570","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"brokerClientStream Close method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"548d9fdf-da78-4e71-bdbd-3f0c4f5ac570","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"forwardBackendToClient src.RecvMsg err rpc error: code = DeadlineExceeded desc = 9701"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"548d9fdf-da78-4e71-bdbd-3f0c4f5ac570","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"b2cErr := <-b2cErrChan: err: rpc error: code = DeadlineExceeded desc = 9701"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"548d9fdf-da78-4e71-bdbd-3f0c4f5ac570","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"brokerClientStream Trailer method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"548d9fdf-da78-4e71-bdbd-3f0c4f5ac570","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"grpcConnDel /testing.MockService/StreamCall 548d9fdf-da78-4e71-bdbd-3f0c4f5ac570"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"548d9fdf-da78-4e71-bdbd-3f0c4f5ac570","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"grpc handler exit"}
{"level":"debug","x-request-id":"cb557f64-00bf-4f04-aac0-e5e7937d9910","time":"2024-04-03T10:26:40+05:00","message":"authn.cookie not found"}
{"level":"debug","x-request-id":"cb557f64-00bf-4f04-aac0-e5e7937d9910","time":"2024-04-03T10:26:40+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"cb557f64-00bf-4f04-aac0-e5e7937d9910","time":"2024-04-03T10:26:40+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"cb557f64-00bf-4f04-aac0-e5e7937d9910","time":"2024-04-03T10:26:40+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"cb557f64-00bf-4f04-aac0-e5e7937d9910","time":"2024-04-03T10:26:40+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"cb557f64-00bf-4f04-aac0-e5e7937d9910","time":"2024-04-03T10:26:40+05:00","message":"jwt.extract set User-Id to 25"}
{"level":"info","x-request-id":"cb557f64-00bf-4f04-aac0-e5e7937d9910","time":"2024-04-03T10:26:40+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"cb557f64-00bf-4f04-aac0-e5e7937d9910","time":"2024-04-03T10:26:40+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"cb557f64-00bf-4f04-aac0-e5e7937d9910","time":"2024-04-03T10:26:40+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"cb557f64-00bf-4f04-aac0-e5e7937d9910","time":"2024-04-03T10:26:40+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"cb557f64-00bf-4f04-aac0-e5e7937d9910","time":"2024-04-03T10:26:40+05:00","message":"jwt.extract set Username to 910919300363"}
{"level":"info","x-request-id":"cb557f64-00bf-4f04-aac0-e5e7937d9910","time":"2024-04-03T10:26:40+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"cb557f64-00bf-4f04-aac0-e5e7937d9910","time":"2024-04-03T10:26:40+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"cb557f64-00bf-4f04-aac0-e5e7937d9910","time":"2024-04-03T10:26:40+05:00","message":"jwt.extract set Phone to +77055552928"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cb557f64-00bf-4f04-aac0-e5e7937d9910","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"grpcConnAdd /testing.MockService/StreamCall cb557f64-00bf-4f04-aac0-e5e7937d9910"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cb557f64-00bf-4f04-aac0-e5e7937d9910","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"forwardClientToBackend set Read timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cb557f64-00bf-4f04-aac0-e5e7937d9910","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cb557f64-00bf-4f04-aac0-e5e7937d9910","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cb557f64-00bf-4f04-aac0-e5e7937d9910","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"forwardClientToBackend set Write timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cb557f64-00bf-4f04-aac0-e5e7937d9910","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cb557f64-00bf-4f04-aac0-e5e7937d9910","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"forwardBackendToClient set Read timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cb557f64-00bf-4f04-aac0-e5e7937d9910","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"cb557f64-00bf-4f04-aac0-e5e7937d9910","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"cb557f64-00bf-4f04-aac0-e5e7937d9910","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"brokerClientStream brokerClientStream SendMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"cb557f64-00bf-4f04-aac0-e5e7937d9910","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"brokerClientStream try to publish to qa.mock.connection1.in msg with hdr: metadata.Metadata{\"Authorization\":\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A\", \"Client-Ip\":\"172.23.20.6\", \"Content-Type\":\"application/grpc\", \"Phone\":\"+77055552928\", \"Qa-Custom-Headers\":\"{\\\"Error-Code\\\": \\\"5813\\\", \\\"Grpc-Code\\\": \\\"5\\\", \\\"Error-Data\\\": \\\"Test grpc-code = 5\\\"}\", \"Source-Service\":\"/testing.MockService/StreamCall\", \"User-Id\":\"25\", \"Username\":\"910919300363\", \"X-Forwarded-For\":\"172.23.20.6\", \"X-Forwarded-Port\":\"443\", \"X-Real-Ip\":\"172.23.20.6\", \"X-Request-Id\":\"cb557f64-00bf-4f04-aac0-e5e7937d9910\"}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cb557f64-00bf-4f04-aac0-e5e7937d9910","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cb557f64-00bf-4f04-aac0-e5e7937d9910","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"forwardClientToBackend set Read timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cb557f64-00bf-4f04-aac0-e5e7937d9910","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cb557f64-00bf-4f04-aac0-e5e7937d9910","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cb557f64-00bf-4f04-aac0-e5e7937d9910","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"cb557f64-00bf-4f04-aac0-e5e7937d9910","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"brokerClientStream CloseSend method"}
{"level":"info","X-Request-Id":"cb557f64-00bf-4f04-aac0-e5e7937d9910","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"get message for service: /testing.MockService/StreamCall with md map[Authorization:Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A Client-Ip:172.23.20.6 Content-Type:application/grpc Error-Code:5813 Error-Data:Test grpc-code = 5 Grpc-Code:5 Phone:+77055552928 Qa-Custom-Headers:{\"Error-Code\": \"5813\", \"Grpc-Code\": \"5\", \"Error-Data\": \"Test grpc-code = 5\"} Source-Service:/testing.MockService/StreamCall User-Id:25 Username:910919300363 X-Forwarded-For:172.23.20.6 X-Forwarded-Port:443 X-Real-Ip:172.23.20.6 X-Request-Id:cb557f64-00bf-4f04-aac0-e5e7937d9910]"}
{"level":"info","x-request-id":"cb557f64-00bf-4f04-aac0-e5e7937d9910","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"get message for service: /testing.MockService/StreamCall"}
{"level":"debug","x-request-id":"cb557f64-00bf-4f04-aac0-e5e7937d9910","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"grpcConnGet: /testing.MockService/StreamCall via cb557f64-00bf-4f04-aac0-e5e7937d9910"}
{"level":"debug","x-request-id":"cb557f64-00bf-4f04-aac0-e5e7937d9910","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"grpc use stream conn: &handler.grpcProxy{grpcStream:(*handler.grpcServerStream)(0xc000138420), kafkaStream:(*handler.grpcClientStream)(0xc0001384d0)} sourceService: /testing.MockService/StreamCall"}
{"level":"info","x-request-id":"cb557f64-00bf-4f04-aac0-e5e7937d9910","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"start transfer response from kafka"}
{"level":"error","x-request-id":"cb557f64-00bf-4f04-aac0-e5e7937d9910","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"error message for service: /testing.MockService/StreamCallrpc error: code = NotFound desc = 5813"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"cb557f64-00bf-4f04-aac0-e5e7937d9910","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"brokerClientStream SetError method"}
{"level":"info","x-request-id":"cb557f64-00bf-4f04-aac0-e5e7937d9910","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"stop transfer response from kafka"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"cb557f64-00bf-4f04-aac0-e5e7937d9910","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"brokerClientStream Close method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cb557f64-00bf-4f04-aac0-e5e7937d9910","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"forwardBackendToClient src.RecvMsg err rpc error: code = NotFound desc = 5813"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cb557f64-00bf-4f04-aac0-e5e7937d9910","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"b2cErr := <-b2cErrChan: err: rpc error: code = NotFound desc = 5813"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"cb557f64-00bf-4f04-aac0-e5e7937d9910","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"brokerClientStream Trailer method"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"cb557f64-00bf-4f04-aac0-e5e7937d9910","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"failed to proxy grpc conn c2bErr: rpc error: code = NotFound desc = 5813 *status.Error &status.Error{s:(*status.Status)(0xc000892518)}"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"cb557f64-00bf-4f04-aac0-e5e7937d9910","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"error status &status.Status{s:(*status.Status)(0xc000a8b680)}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cb557f64-00bf-4f04-aac0-e5e7937d9910","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"grpcConnDel /testing.MockService/StreamCall cb557f64-00bf-4f04-aac0-e5e7937d9910"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"cb557f64-00bf-4f04-aac0-e5e7937d9910","trace-id":"","span-id":"","time":"2024-04-03T10:26:40+05:00","message":"grpc handler exit"}
{"level":"debug","x-request-id":"21e49d28-c6c9-44a1-9ad4-63c28c946317","time":"2024-04-03T10:26:41+05:00","message":"authn.cookie not found"}
{"level":"debug","x-request-id":"21e49d28-c6c9-44a1-9ad4-63c28c946317","time":"2024-04-03T10:26:41+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"21e49d28-c6c9-44a1-9ad4-63c28c946317","time":"2024-04-03T10:26:41+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"21e49d28-c6c9-44a1-9ad4-63c28c946317","time":"2024-04-03T10:26:41+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"21e49d28-c6c9-44a1-9ad4-63c28c946317","time":"2024-04-03T10:26:41+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"21e49d28-c6c9-44a1-9ad4-63c28c946317","time":"2024-04-03T10:26:41+05:00","message":"jwt.extract set User-Id to 25"}
{"level":"info","x-request-id":"21e49d28-c6c9-44a1-9ad4-63c28c946317","time":"2024-04-03T10:26:41+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"21e49d28-c6c9-44a1-9ad4-63c28c946317","time":"2024-04-03T10:26:41+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"21e49d28-c6c9-44a1-9ad4-63c28c946317","time":"2024-04-03T10:26:41+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"21e49d28-c6c9-44a1-9ad4-63c28c946317","time":"2024-04-03T10:26:41+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"21e49d28-c6c9-44a1-9ad4-63c28c946317","time":"2024-04-03T10:26:41+05:00","message":"jwt.extract set Username to 910919300363"}
{"level":"info","x-request-id":"21e49d28-c6c9-44a1-9ad4-63c28c946317","time":"2024-04-03T10:26:41+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"21e49d28-c6c9-44a1-9ad4-63c28c946317","time":"2024-04-03T10:26:41+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"21e49d28-c6c9-44a1-9ad4-63c28c946317","time":"2024-04-03T10:26:41+05:00","message":"jwt.extract set Phone to +77055552928"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"21e49d28-c6c9-44a1-9ad4-63c28c946317","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"grpcConnAdd /testing.MockService/StreamCall 21e49d28-c6c9-44a1-9ad4-63c28c946317"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"21e49d28-c6c9-44a1-9ad4-63c28c946317","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"forwardClientToBackend set Read timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"21e49d28-c6c9-44a1-9ad4-63c28c946317","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"21e49d28-c6c9-44a1-9ad4-63c28c946317","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"21e49d28-c6c9-44a1-9ad4-63c28c946317","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"forwardClientToBackend set Write timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"21e49d28-c6c9-44a1-9ad4-63c28c946317","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"21e49d28-c6c9-44a1-9ad4-63c28c946317","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"brokerClientStream brokerClientStream SendMsg method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"21e49d28-c6c9-44a1-9ad4-63c28c946317","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"forwardBackendToClient set Read timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"21e49d28-c6c9-44a1-9ad4-63c28c946317","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"21e49d28-c6c9-44a1-9ad4-63c28c946317","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"21e49d28-c6c9-44a1-9ad4-63c28c946317","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"brokerClientStream try to publish to qa.mock.connection1.in msg with hdr: metadata.Metadata{\"Authorization\":\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A\", \"Client-Ip\":\"172.23.20.6\", \"Content-Type\":\"application/grpc\", \"Phone\":\"+77055552928\", \"Qa-Custom-Headers\":\"{\\\"Error-Code\\\": \\\"4353\\\", \\\"Grpc-Code\\\": \\\"6\\\", \\\"Error-Data\\\": \\\"Test grpc-code = 6\\\"}\", \"Source-Service\":\"/testing.MockService/StreamCall\", \"User-Id\":\"25\", \"Username\":\"910919300363\", \"X-Forwarded-For\":\"172.23.20.6\", \"X-Forwarded-Port\":\"443\", \"X-Real-Ip\":\"172.23.20.6\", \"X-Request-Id\":\"21e49d28-c6c9-44a1-9ad4-63c28c946317\"}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"21e49d28-c6c9-44a1-9ad4-63c28c946317","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"21e49d28-c6c9-44a1-9ad4-63c28c946317","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"forwardClientToBackend set Read timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"21e49d28-c6c9-44a1-9ad4-63c28c946317","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"21e49d28-c6c9-44a1-9ad4-63c28c946317","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"21e49d28-c6c9-44a1-9ad4-63c28c946317","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"21e49d28-c6c9-44a1-9ad4-63c28c946317","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"brokerClientStream CloseSend method"}
{"level":"info","X-Request-Id":"21e49d28-c6c9-44a1-9ad4-63c28c946317","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"get message for service: /testing.MockService/StreamCall with md map[Authorization:Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A Client-Ip:172.23.20.6 Content-Type:application/grpc Error-Code:4353 Error-Data:Test grpc-code = 6 Grpc-Code:6 Phone:+77055552928 Qa-Custom-Headers:{\"Error-Code\": \"4353\", \"Grpc-Code\": \"6\", \"Error-Data\": \"Test grpc-code = 6\"} Source-Service:/testing.MockService/StreamCall User-Id:25 Username:910919300363 X-Forwarded-For:172.23.20.6 X-Forwarded-Port:443 X-Real-Ip:172.23.20.6 X-Request-Id:21e49d28-c6c9-44a1-9ad4-63c28c946317]"}
{"level":"info","x-request-id":"21e49d28-c6c9-44a1-9ad4-63c28c946317","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"get message for service: /testing.MockService/StreamCall"}
{"level":"debug","x-request-id":"21e49d28-c6c9-44a1-9ad4-63c28c946317","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"grpcConnGet: /testing.MockService/StreamCall via 21e49d28-c6c9-44a1-9ad4-63c28c946317"}
{"level":"debug","x-request-id":"21e49d28-c6c9-44a1-9ad4-63c28c946317","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"grpc use stream conn: &handler.grpcProxy{grpcStream:(*handler.grpcServerStream)(0xc000410f20), kafkaStream:(*handler.grpcClientStream)(0xc000410fd0)} sourceService: /testing.MockService/StreamCall"}
{"level":"info","x-request-id":"21e49d28-c6c9-44a1-9ad4-63c28c946317","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"start transfer response from kafka"}
{"level":"error","x-request-id":"21e49d28-c6c9-44a1-9ad4-63c28c946317","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"error message for service: /testing.MockService/StreamCallrpc error: code = AlreadyExists desc = 4353"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"21e49d28-c6c9-44a1-9ad4-63c28c946317","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"brokerClientStream SetError method"}
{"level":"info","x-request-id":"21e49d28-c6c9-44a1-9ad4-63c28c946317","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"stop transfer response from kafka"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"21e49d28-c6c9-44a1-9ad4-63c28c946317","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"brokerClientStream Close method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"21e49d28-c6c9-44a1-9ad4-63c28c946317","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"forwardBackendToClient src.RecvMsg err rpc error: code = AlreadyExists desc = 4353"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"21e49d28-c6c9-44a1-9ad4-63c28c946317","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"b2cErr := <-b2cErrChan: err: rpc error: code = AlreadyExists desc = 4353"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"21e49d28-c6c9-44a1-9ad4-63c28c946317","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"brokerClientStream Trailer method"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"21e49d28-c6c9-44a1-9ad4-63c28c946317","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"failed to proxy grpc conn c2bErr: rpc error: code = AlreadyExists desc = 4353 *status.Error &status.Error{s:(*status.Status)(0xc00007ec68)}"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"21e49d28-c6c9-44a1-9ad4-63c28c946317","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"error status &status.Status{s:(*status.Status)(0xc0009ca300)}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"21e49d28-c6c9-44a1-9ad4-63c28c946317","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"grpcConnDel /testing.MockService/StreamCall 21e49d28-c6c9-44a1-9ad4-63c28c946317"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"21e49d28-c6c9-44a1-9ad4-63c28c946317","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"grpc handler exit"}
{"level":"debug","x-request-id":"72f060ed-e746-433b-9eb7-32e623044fd2","time":"2024-04-03T10:26:41+05:00","message":"authn.cookie not found"}
{"level":"debug","x-request-id":"72f060ed-e746-433b-9eb7-32e623044fd2","time":"2024-04-03T10:26:41+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"72f060ed-e746-433b-9eb7-32e623044fd2","time":"2024-04-03T10:26:41+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"72f060ed-e746-433b-9eb7-32e623044fd2","time":"2024-04-03T10:26:41+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"72f060ed-e746-433b-9eb7-32e623044fd2","time":"2024-04-03T10:26:41+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"72f060ed-e746-433b-9eb7-32e623044fd2","time":"2024-04-03T10:26:41+05:00","message":"jwt.extract set User-Id to 25"}
{"level":"info","x-request-id":"72f060ed-e746-433b-9eb7-32e623044fd2","time":"2024-04-03T10:26:41+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"72f060ed-e746-433b-9eb7-32e623044fd2","time":"2024-04-03T10:26:41+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"72f060ed-e746-433b-9eb7-32e623044fd2","time":"2024-04-03T10:26:41+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"72f060ed-e746-433b-9eb7-32e623044fd2","time":"2024-04-03T10:26:41+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"72f060ed-e746-433b-9eb7-32e623044fd2","time":"2024-04-03T10:26:41+05:00","message":"jwt.extract set Username to 910919300363"}
{"level":"info","x-request-id":"72f060ed-e746-433b-9eb7-32e623044fd2","time":"2024-04-03T10:26:41+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"72f060ed-e746-433b-9eb7-32e623044fd2","time":"2024-04-03T10:26:41+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"72f060ed-e746-433b-9eb7-32e623044fd2","time":"2024-04-03T10:26:41+05:00","message":"jwt.extract set Phone to +77055552928"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"72f060ed-e746-433b-9eb7-32e623044fd2","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"grpcConnAdd /testing.MockService/StreamCall 72f060ed-e746-433b-9eb7-32e623044fd2"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"72f060ed-e746-433b-9eb7-32e623044fd2","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"forwardClientToBackend set Read timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"72f060ed-e746-433b-9eb7-32e623044fd2","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"72f060ed-e746-433b-9eb7-32e623044fd2","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"forwardBackendToClient set Read timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"72f060ed-e746-433b-9eb7-32e623044fd2","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"72f060ed-e746-433b-9eb7-32e623044fd2","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"72f060ed-e746-433b-9eb7-32e623044fd2","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"forwardClientToBackend set Write timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"72f060ed-e746-433b-9eb7-32e623044fd2","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"72f060ed-e746-433b-9eb7-32e623044fd2","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"brokerClientStream brokerClientStream SendMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"72f060ed-e746-433b-9eb7-32e623044fd2","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"brokerClientStream try to publish to qa.mock.connection1.in msg with hdr: metadata.Metadata{\"Authorization\":\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A\", \"Client-Ip\":\"172.23.20.6\", \"Content-Type\":\"application/grpc\", \"Phone\":\"+77055552928\", \"Qa-Custom-Headers\":\"{\\\"Error-Code\\\": \\\"5769\\\", \\\"Grpc-Code\\\": \\\"7\\\", \\\"Error-Data\\\": \\\"Test grpc-code = 7\\\"}\", \"Source-Service\":\"/testing.MockService/StreamCall\", \"User-Id\":\"25\", \"Username\":\"910919300363\", \"X-Forwarded-For\":\"172.23.20.6\", \"X-Forwarded-Port\":\"443\", \"X-Real-Ip\":\"172.23.20.6\", \"X-Request-Id\":\"72f060ed-e746-433b-9eb7-32e623044fd2\"}"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"72f060ed-e746-433b-9eb7-32e623044fd2","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"72f060ed-e746-433b-9eb7-32e623044fd2","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"72f060ed-e746-433b-9eb7-32e623044fd2","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"forwardClientToBackend set Read timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"72f060ed-e746-433b-9eb7-32e623044fd2","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"72f060ed-e746-433b-9eb7-32e623044fd2","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"72f060ed-e746-433b-9eb7-32e623044fd2","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"72f060ed-e746-433b-9eb7-32e623044fd2","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"brokerClientStream CloseSend method"}
{"level":"info","X-Request-Id":"72f060ed-e746-433b-9eb7-32e623044fd2","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"get message for service: /testing.MockService/StreamCall with md map[Authorization:Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A Client-Ip:172.23.20.6 Content-Type:application/grpc Error-Code:5769 Error-Data:Test grpc-code = 7 Grpc-Code:7 Phone:+77055552928 Qa-Custom-Headers:{\"Error-Code\": \"5769\", \"Grpc-Code\": \"7\", \"Error-Data\": \"Test grpc-code = 7\"} Source-Service:/testing.MockService/StreamCall User-Id:25 Username:910919300363 X-Forwarded-For:172.23.20.6 X-Forwarded-Port:443 X-Real-Ip:172.23.20.6 X-Request-Id:72f060ed-e746-433b-9eb7-32e623044fd2]"}
{"level":"info","x-request-id":"72f060ed-e746-433b-9eb7-32e623044fd2","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"get message for service: /testing.MockService/StreamCall"}
{"level":"debug","x-request-id":"72f060ed-e746-433b-9eb7-32e623044fd2","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"grpcConnGet: /testing.MockService/StreamCall via 72f060ed-e746-433b-9eb7-32e623044fd2"}
{"level":"debug","x-request-id":"72f060ed-e746-433b-9eb7-32e623044fd2","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"grpc use stream conn: &handler.grpcProxy{grpcStream:(*handler.grpcServerStream)(0xc000138580), kafkaStream:(*handler.grpcClientStream)(0xc000138630)} sourceService: /testing.MockService/StreamCall"}
{"level":"info","x-request-id":"72f060ed-e746-433b-9eb7-32e623044fd2","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"start transfer response from kafka"}
{"level":"error","x-request-id":"72f060ed-e746-433b-9eb7-32e623044fd2","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"error message for service: /testing.MockService/StreamCallrpc error: code = PermissionDenied desc = 5769"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"72f060ed-e746-433b-9eb7-32e623044fd2","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"brokerClientStream SetError method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"72f060ed-e746-433b-9eb7-32e623044fd2","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"brokerClientStream Close method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"72f060ed-e746-433b-9eb7-32e623044fd2","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"forwardBackendToClient src.RecvMsg err rpc error: code = PermissionDenied desc = 5769"}
{"level":"info","x-request-id":"72f060ed-e746-433b-9eb7-32e623044fd2","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"stop transfer response from kafka"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"72f060ed-e746-433b-9eb7-32e623044fd2","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"b2cErr := <-b2cErrChan: err: rpc error: code = PermissionDenied desc = 5769"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"72f060ed-e746-433b-9eb7-32e623044fd2","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"brokerClientStream Trailer method"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"72f060ed-e746-433b-9eb7-32e623044fd2","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"failed to proxy grpc conn c2bErr: rpc error: code = PermissionDenied desc = 5769 *status.Error &status.Error{s:(*status.Status)(0xc000536688)}"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"72f060ed-e746-433b-9eb7-32e623044fd2","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"error status &status.Status{s:(*status.Status)(0xc00038f1a0)}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"72f060ed-e746-433b-9eb7-32e623044fd2","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"grpcConnDel /testing.MockService/StreamCall 72f060ed-e746-433b-9eb7-32e623044fd2"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"72f060ed-e746-433b-9eb7-32e623044fd2","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"grpc handler exit"}
{"level":"debug","x-request-id":"33c89816-4055-4a76-a8f1-29a5032e2e51","time":"2024-04-03T10:26:41+05:00","message":"authn.cookie not found"}
{"level":"debug","x-request-id":"33c89816-4055-4a76-a8f1-29a5032e2e51","time":"2024-04-03T10:26:41+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"33c89816-4055-4a76-a8f1-29a5032e2e51","time":"2024-04-03T10:26:41+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"33c89816-4055-4a76-a8f1-29a5032e2e51","time":"2024-04-03T10:26:41+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"33c89816-4055-4a76-a8f1-29a5032e2e51","time":"2024-04-03T10:26:41+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"33c89816-4055-4a76-a8f1-29a5032e2e51","time":"2024-04-03T10:26:41+05:00","message":"jwt.extract set User-Id to 25"}
{"level":"info","x-request-id":"33c89816-4055-4a76-a8f1-29a5032e2e51","time":"2024-04-03T10:26:41+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"33c89816-4055-4a76-a8f1-29a5032e2e51","time":"2024-04-03T10:26:41+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"33c89816-4055-4a76-a8f1-29a5032e2e51","time":"2024-04-03T10:26:41+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"33c89816-4055-4a76-a8f1-29a5032e2e51","time":"2024-04-03T10:26:41+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"33c89816-4055-4a76-a8f1-29a5032e2e51","time":"2024-04-03T10:26:41+05:00","message":"jwt.extract set Username to 910919300363"}
{"level":"info","x-request-id":"33c89816-4055-4a76-a8f1-29a5032e2e51","time":"2024-04-03T10:26:41+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"33c89816-4055-4a76-a8f1-29a5032e2e51","time":"2024-04-03T10:26:41+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"33c89816-4055-4a76-a8f1-29a5032e2e51","time":"2024-04-03T10:26:41+05:00","message":"jwt.extract set Phone to +77055552928"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"33c89816-4055-4a76-a8f1-29a5032e2e51","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"grpcConnAdd /testing.MockService/StreamCall 33c89816-4055-4a76-a8f1-29a5032e2e51"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"33c89816-4055-4a76-a8f1-29a5032e2e51","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"forwardBackendToClient set Read timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"33c89816-4055-4a76-a8f1-29a5032e2e51","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"33c89816-4055-4a76-a8f1-29a5032e2e51","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"33c89816-4055-4a76-a8f1-29a5032e2e51","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"forwardClientToBackend set Read timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"33c89816-4055-4a76-a8f1-29a5032e2e51","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"33c89816-4055-4a76-a8f1-29a5032e2e51","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"33c89816-4055-4a76-a8f1-29a5032e2e51","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"forwardClientToBackend set Write timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"33c89816-4055-4a76-a8f1-29a5032e2e51","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"33c89816-4055-4a76-a8f1-29a5032e2e51","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"brokerClientStream brokerClientStream SendMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"33c89816-4055-4a76-a8f1-29a5032e2e51","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"brokerClientStream try to publish to qa.mock.connection1.in msg with hdr: metadata.Metadata{\"Authorization\":\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A\", \"Client-Ip\":\"172.23.20.6\", \"Content-Type\":\"application/grpc\", \"Phone\":\"+77055552928\", \"Qa-Custom-Headers\":\"{\\\"Error-Code\\\": \\\"3856\\\", \\\"Grpc-Code\\\": \\\"8\\\", \\\"Error-Data\\\": \\\"Test grpc-code = 8\\\"}\", \"Source-Service\":\"/testing.MockService/StreamCall\", \"User-Id\":\"25\", \"Username\":\"910919300363\", \"X-Forwarded-For\":\"172.23.20.6\", \"X-Forwarded-Port\":\"443\", \"X-Real-Ip\":\"172.23.20.6\", \"X-Request-Id\":\"33c89816-4055-4a76-a8f1-29a5032e2e51\"}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"33c89816-4055-4a76-a8f1-29a5032e2e51","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"33c89816-4055-4a76-a8f1-29a5032e2e51","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"forwardClientToBackend set Read timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"33c89816-4055-4a76-a8f1-29a5032e2e51","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"33c89816-4055-4a76-a8f1-29a5032e2e51","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"33c89816-4055-4a76-a8f1-29a5032e2e51","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"33c89816-4055-4a76-a8f1-29a5032e2e51","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"brokerClientStream CloseSend method"}
{"level":"info","X-Request-Id":"33c89816-4055-4a76-a8f1-29a5032e2e51","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"get message for service: /testing.MockService/StreamCall with md map[Authorization:Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A Client-Ip:172.23.20.6 Content-Type:application/grpc Error-Code:3856 Error-Data:Test grpc-code = 8 Grpc-Code:8 Phone:+77055552928 Qa-Custom-Headers:{\"Error-Code\": \"3856\", \"Grpc-Code\": \"8\", \"Error-Data\": \"Test grpc-code = 8\"} Source-Service:/testing.MockService/StreamCall User-Id:25 Username:910919300363 X-Forwarded-For:172.23.20.6 X-Forwarded-Port:443 X-Real-Ip:172.23.20.6 X-Request-Id:33c89816-4055-4a76-a8f1-29a5032e2e51]"}
{"level":"info","x-request-id":"33c89816-4055-4a76-a8f1-29a5032e2e51","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"get message for service: /testing.MockService/StreamCall"}
{"level":"debug","x-request-id":"33c89816-4055-4a76-a8f1-29a5032e2e51","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"grpcConnGet: /testing.MockService/StreamCall via 33c89816-4055-4a76-a8f1-29a5032e2e51"}
{"level":"debug","x-request-id":"33c89816-4055-4a76-a8f1-29a5032e2e51","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"grpc use stream conn: &handler.grpcProxy{grpcStream:(*handler.grpcServerStream)(0xc000411130), kafkaStream:(*handler.grpcClientStream)(0xc0004111e0)} sourceService: /testing.MockService/StreamCall"}
{"level":"info","x-request-id":"33c89816-4055-4a76-a8f1-29a5032e2e51","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"start transfer response from kafka"}
{"level":"error","x-request-id":"33c89816-4055-4a76-a8f1-29a5032e2e51","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"error message for service: /testing.MockService/StreamCallrpc error: code = ResourceExhausted desc = 3856"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"33c89816-4055-4a76-a8f1-29a5032e2e51","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"brokerClientStream SetError method"}
{"level":"info","x-request-id":"33c89816-4055-4a76-a8f1-29a5032e2e51","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"stop transfer response from kafka"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"33c89816-4055-4a76-a8f1-29a5032e2e51","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"brokerClientStream Close method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"33c89816-4055-4a76-a8f1-29a5032e2e51","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"forwardBackendToClient src.RecvMsg err rpc error: code = ResourceExhausted desc = 3856"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"33c89816-4055-4a76-a8f1-29a5032e2e51","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"b2cErr := <-b2cErrChan: err: rpc error: code = ResourceExhausted desc = 3856"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"33c89816-4055-4a76-a8f1-29a5032e2e51","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"brokerClientStream Trailer method"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"33c89816-4055-4a76-a8f1-29a5032e2e51","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"failed to proxy grpc conn c2bErr: rpc error: code = ResourceExhausted desc = 3856 *status.Error &status.Error{s:(*status.Status)(0xc0001a2e50)}"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"33c89816-4055-4a76-a8f1-29a5032e2e51","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"error status &status.Status{s:(*status.Status)(0xc0009cfa40)}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"33c89816-4055-4a76-a8f1-29a5032e2e51","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"grpcConnDel /testing.MockService/StreamCall 33c89816-4055-4a76-a8f1-29a5032e2e51"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"33c89816-4055-4a76-a8f1-29a5032e2e51","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"grpc handler exit"}
{"level":"debug","x-request-id":"1b248c7e-6eb2-4ec9-920c-9e81cdd742bc","time":"2024-04-03T10:26:41+05:00","message":"authn.cookie not found"}
{"level":"debug","x-request-id":"1b248c7e-6eb2-4ec9-920c-9e81cdd742bc","time":"2024-04-03T10:26:41+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"1b248c7e-6eb2-4ec9-920c-9e81cdd742bc","time":"2024-04-03T10:26:41+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"1b248c7e-6eb2-4ec9-920c-9e81cdd742bc","time":"2024-04-03T10:26:41+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"1b248c7e-6eb2-4ec9-920c-9e81cdd742bc","time":"2024-04-03T10:26:41+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"1b248c7e-6eb2-4ec9-920c-9e81cdd742bc","time":"2024-04-03T10:26:41+05:00","message":"jwt.extract set User-Id to 25"}
{"level":"info","x-request-id":"1b248c7e-6eb2-4ec9-920c-9e81cdd742bc","time":"2024-04-03T10:26:41+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"1b248c7e-6eb2-4ec9-920c-9e81cdd742bc","time":"2024-04-03T10:26:41+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"1b248c7e-6eb2-4ec9-920c-9e81cdd742bc","time":"2024-04-03T10:26:41+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"1b248c7e-6eb2-4ec9-920c-9e81cdd742bc","time":"2024-04-03T10:26:41+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"1b248c7e-6eb2-4ec9-920c-9e81cdd742bc","time":"2024-04-03T10:26:41+05:00","message":"jwt.extract set Username to 910919300363"}
{"level":"info","x-request-id":"1b248c7e-6eb2-4ec9-920c-9e81cdd742bc","time":"2024-04-03T10:26:41+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"1b248c7e-6eb2-4ec9-920c-9e81cdd742bc","time":"2024-04-03T10:26:41+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"1b248c7e-6eb2-4ec9-920c-9e81cdd742bc","time":"2024-04-03T10:26:41+05:00","message":"jwt.extract set Phone to +77055552928"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"1b248c7e-6eb2-4ec9-920c-9e81cdd742bc","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"grpcConnAdd /testing.MockService/StreamCall 1b248c7e-6eb2-4ec9-920c-9e81cdd742bc"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"1b248c7e-6eb2-4ec9-920c-9e81cdd742bc","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"forwardBackendToClient set Read timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"1b248c7e-6eb2-4ec9-920c-9e81cdd742bc","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"1b248c7e-6eb2-4ec9-920c-9e81cdd742bc","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"forwardClientToBackend set Read timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"1b248c7e-6eb2-4ec9-920c-9e81cdd742bc","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"1b248c7e-6eb2-4ec9-920c-9e81cdd742bc","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"1b248c7e-6eb2-4ec9-920c-9e81cdd742bc","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"1b248c7e-6eb2-4ec9-920c-9e81cdd742bc","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"forwardClientToBackend set Write timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"1b248c7e-6eb2-4ec9-920c-9e81cdd742bc","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"1b248c7e-6eb2-4ec9-920c-9e81cdd742bc","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"brokerClientStream brokerClientStream SendMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"1b248c7e-6eb2-4ec9-920c-9e81cdd742bc","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"brokerClientStream try to publish to qa.mock.connection1.in msg with hdr: metadata.Metadata{\"Authorization\":\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A\", \"Client-Ip\":\"172.23.20.6\", \"Content-Type\":\"application/grpc\", \"Phone\":\"+77055552928\", \"Qa-Custom-Headers\":\"{\\\"Error-Code\\\": \\\"8619\\\", \\\"Grpc-Code\\\": \\\"9\\\", \\\"Error-Data\\\": \\\"Test grpc-code = 9\\\"}\", \"Source-Service\":\"/testing.MockService/StreamCall\", \"User-Id\":\"25\", \"Username\":\"910919300363\", \"X-Forwarded-For\":\"172.23.20.6\", \"X-Forwarded-Port\":\"443\", \"X-Real-Ip\":\"172.23.20.6\", \"X-Request-Id\":\"1b248c7e-6eb2-4ec9-920c-9e81cdd742bc\"}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"1b248c7e-6eb2-4ec9-920c-9e81cdd742bc","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"1b248c7e-6eb2-4ec9-920c-9e81cdd742bc","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"forwardClientToBackend set Read timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"1b248c7e-6eb2-4ec9-920c-9e81cdd742bc","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"1b248c7e-6eb2-4ec9-920c-9e81cdd742bc","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"1b248c7e-6eb2-4ec9-920c-9e81cdd742bc","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"1b248c7e-6eb2-4ec9-920c-9e81cdd742bc","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"brokerClientStream CloseSend method"}
{"level":"info","X-Request-Id":"1b248c7e-6eb2-4ec9-920c-9e81cdd742bc","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"get message for service: /testing.MockService/StreamCall with md map[Authorization:Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A Client-Ip:172.23.20.6 Content-Type:application/grpc Error-Code:8619 Error-Data:Test grpc-code = 9 Grpc-Code:9 Phone:+77055552928 Qa-Custom-Headers:{\"Error-Code\": \"8619\", \"Grpc-Code\": \"9\", \"Error-Data\": \"Test grpc-code = 9\"} Source-Service:/testing.MockService/StreamCall User-Id:25 Username:910919300363 X-Forwarded-For:172.23.20.6 X-Forwarded-Port:443 X-Real-Ip:172.23.20.6 X-Request-Id:1b248c7e-6eb2-4ec9-920c-9e81cdd742bc]"}
{"level":"info","x-request-id":"1b248c7e-6eb2-4ec9-920c-9e81cdd742bc","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"get message for service: /testing.MockService/StreamCall"}
{"level":"debug","x-request-id":"1b248c7e-6eb2-4ec9-920c-9e81cdd742bc","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"grpcConnGet: /testing.MockService/StreamCall via 1b248c7e-6eb2-4ec9-920c-9e81cdd742bc"}
{"level":"debug","x-request-id":"1b248c7e-6eb2-4ec9-920c-9e81cdd742bc","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"grpc use stream conn: &handler.grpcProxy{grpcStream:(*handler.grpcServerStream)(0xc0006686e0), kafkaStream:(*handler.grpcClientStream)(0xc000668790)} sourceService: /testing.MockService/StreamCall"}
{"level":"info","x-request-id":"1b248c7e-6eb2-4ec9-920c-9e81cdd742bc","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"start transfer response from kafka"}
{"level":"error","x-request-id":"1b248c7e-6eb2-4ec9-920c-9e81cdd742bc","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"error message for service: /testing.MockService/StreamCallrpc error: code = FailedPrecondition desc = 8619"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"1b248c7e-6eb2-4ec9-920c-9e81cdd742bc","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"brokerClientStream SetError method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"1b248c7e-6eb2-4ec9-920c-9e81cdd742bc","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"brokerClientStream Close method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"1b248c7e-6eb2-4ec9-920c-9e81cdd742bc","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"forwardBackendToClient src.RecvMsg err rpc error: code = FailedPrecondition desc = 8619"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"1b248c7e-6eb2-4ec9-920c-9e81cdd742bc","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"b2cErr := <-b2cErrChan: err: rpc error: code = FailedPrecondition desc = 8619"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"1b248c7e-6eb2-4ec9-920c-9e81cdd742bc","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"brokerClientStream Trailer method"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"1b248c7e-6eb2-4ec9-920c-9e81cdd742bc","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"failed to proxy grpc conn c2bErr: rpc error: code = FailedPrecondition desc = 8619 *status.Error &status.Error{s:(*status.Status)(0xc00007e0b8)}"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"1b248c7e-6eb2-4ec9-920c-9e81cdd742bc","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"error status &status.Status{s:(*status.Status)(0xc0009ca300)}"}
{"level":"info","x-request-id":"1b248c7e-6eb2-4ec9-920c-9e81cdd742bc","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"stop transfer response from kafka"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"1b248c7e-6eb2-4ec9-920c-9e81cdd742bc","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"grpcConnDel /testing.MockService/StreamCall 1b248c7e-6eb2-4ec9-920c-9e81cdd742bc"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"1b248c7e-6eb2-4ec9-920c-9e81cdd742bc","trace-id":"","span-id":"","time":"2024-04-03T10:26:41+05:00","message":"grpc handler exit"}
{"level":"debug","x-request-id":"e4766040-9444-4e81-ad7f-130bdde233f0","time":"2024-04-03T10:26:42+05:00","message":"authn.cookie not found"}
{"level":"debug","x-request-id":"e4766040-9444-4e81-ad7f-130bdde233f0","time":"2024-04-03T10:26:42+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"e4766040-9444-4e81-ad7f-130bdde233f0","time":"2024-04-03T10:26:42+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"e4766040-9444-4e81-ad7f-130bdde233f0","time":"2024-04-03T10:26:42+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"e4766040-9444-4e81-ad7f-130bdde233f0","time":"2024-04-03T10:26:42+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"e4766040-9444-4e81-ad7f-130bdde233f0","time":"2024-04-03T10:26:42+05:00","message":"jwt.extract set User-Id to 25"}
{"level":"info","x-request-id":"e4766040-9444-4e81-ad7f-130bdde233f0","time":"2024-04-03T10:26:42+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"e4766040-9444-4e81-ad7f-130bdde233f0","time":"2024-04-03T10:26:42+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"e4766040-9444-4e81-ad7f-130bdde233f0","time":"2024-04-03T10:26:42+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"e4766040-9444-4e81-ad7f-130bdde233f0","time":"2024-04-03T10:26:42+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"e4766040-9444-4e81-ad7f-130bdde233f0","time":"2024-04-03T10:26:42+05:00","message":"jwt.extract set Username to 910919300363"}
{"level":"info","x-request-id":"e4766040-9444-4e81-ad7f-130bdde233f0","time":"2024-04-03T10:26:42+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"e4766040-9444-4e81-ad7f-130bdde233f0","time":"2024-04-03T10:26:42+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"e4766040-9444-4e81-ad7f-130bdde233f0","time":"2024-04-03T10:26:42+05:00","message":"jwt.extract set Phone to +77055552928"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e4766040-9444-4e81-ad7f-130bdde233f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"grpcConnAdd /testing.MockService/StreamCall e4766040-9444-4e81-ad7f-130bdde233f0"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e4766040-9444-4e81-ad7f-130bdde233f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"forwardBackendToClient set Read timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e4766040-9444-4e81-ad7f-130bdde233f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"e4766040-9444-4e81-ad7f-130bdde233f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e4766040-9444-4e81-ad7f-130bdde233f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"forwardClientToBackend set Read timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e4766040-9444-4e81-ad7f-130bdde233f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e4766040-9444-4e81-ad7f-130bdde233f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e4766040-9444-4e81-ad7f-130bdde233f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"forwardClientToBackend set Write timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e4766040-9444-4e81-ad7f-130bdde233f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"e4766040-9444-4e81-ad7f-130bdde233f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"brokerClientStream brokerClientStream SendMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"e4766040-9444-4e81-ad7f-130bdde233f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"brokerClientStream try to publish to qa.mock.connection1.in msg with hdr: metadata.Metadata{\"Authorization\":\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A\", \"Client-Ip\":\"172.23.20.6\", \"Content-Type\":\"application/grpc\", \"Phone\":\"+77055552928\", \"Qa-Custom-Headers\":\"{\\\"Error-Code\\\": \\\"6401\\\", \\\"Grpc-Code\\\": \\\"10\\\", \\\"Error-Data\\\": \\\"Test grpc-code = 10\\\"}\", \"Source-Service\":\"/testing.MockService/StreamCall\", \"User-Id\":\"25\", \"Username\":\"910919300363\", \"X-Forwarded-For\":\"172.23.20.6\", \"X-Forwarded-Port\":\"443\", \"X-Real-Ip\":\"172.23.20.6\", \"X-Request-Id\":\"e4766040-9444-4e81-ad7f-130bdde233f0\"}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e4766040-9444-4e81-ad7f-130bdde233f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e4766040-9444-4e81-ad7f-130bdde233f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"forwardClientToBackend set Read timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e4766040-9444-4e81-ad7f-130bdde233f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e4766040-9444-4e81-ad7f-130bdde233f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e4766040-9444-4e81-ad7f-130bdde233f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"e4766040-9444-4e81-ad7f-130bdde233f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"brokerClientStream CloseSend method"}
{"level":"info","X-Request-Id":"e4766040-9444-4e81-ad7f-130bdde233f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"get message for service: /testing.MockService/StreamCall with md map[Authorization:Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A Client-Ip:172.23.20.6 Content-Type:application/grpc Error-Code:6401 Error-Data:Test grpc-code = 10 Grpc-Code:10 Phone:+77055552928 Qa-Custom-Headers:{\"Error-Code\": \"6401\", \"Grpc-Code\": \"10\", \"Error-Data\": \"Test grpc-code = 10\"} Source-Service:/testing.MockService/StreamCall User-Id:25 Username:910919300363 X-Forwarded-For:172.23.20.6 X-Forwarded-Port:443 X-Real-Ip:172.23.20.6 X-Request-Id:e4766040-9444-4e81-ad7f-130bdde233f0]"}
{"level":"info","x-request-id":"e4766040-9444-4e81-ad7f-130bdde233f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"get message for service: /testing.MockService/StreamCall"}
{"level":"debug","x-request-id":"e4766040-9444-4e81-ad7f-130bdde233f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"grpcConnGet: /testing.MockService/StreamCall via e4766040-9444-4e81-ad7f-130bdde233f0"}
{"level":"debug","x-request-id":"e4766040-9444-4e81-ad7f-130bdde233f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"grpc use stream conn: &handler.grpcProxy{grpcStream:(*handler.grpcServerStream)(0xc0004104d0), kafkaStream:(*handler.grpcClientStream)(0xc000410c60)} sourceService: /testing.MockService/StreamCall"}
{"level":"info","x-request-id":"e4766040-9444-4e81-ad7f-130bdde233f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"start transfer response from kafka"}
{"level":"error","x-request-id":"e4766040-9444-4e81-ad7f-130bdde233f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"error message for service: /testing.MockService/StreamCallrpc error: code = Aborted desc = 6401"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"e4766040-9444-4e81-ad7f-130bdde233f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"brokerClientStream SetError method"}
{"level":"info","x-request-id":"e4766040-9444-4e81-ad7f-130bdde233f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"stop transfer response from kafka"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"e4766040-9444-4e81-ad7f-130bdde233f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"brokerClientStream Close method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e4766040-9444-4e81-ad7f-130bdde233f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"forwardBackendToClient src.RecvMsg err rpc error: code = Aborted desc = 6401"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e4766040-9444-4e81-ad7f-130bdde233f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"b2cErr := <-b2cErrChan: err: rpc error: code = Aborted desc = 6401"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"e4766040-9444-4e81-ad7f-130bdde233f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"brokerClientStream Trailer method"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"e4766040-9444-4e81-ad7f-130bdde233f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"failed to proxy grpc conn c2bErr: rpc error: code = Aborted desc = 6401 *status.Error &status.Error{s:(*status.Status)(0xc00007e268)}"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"e4766040-9444-4e81-ad7f-130bdde233f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"error status &status.Status{s:(*status.Status)(0xc0009ca6c0)}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"e4766040-9444-4e81-ad7f-130bdde233f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"grpcConnDel /testing.MockService/StreamCall e4766040-9444-4e81-ad7f-130bdde233f0"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"e4766040-9444-4e81-ad7f-130bdde233f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"grpc handler exit"}
{"level":"debug","x-request-id":"32edd6e7-d02f-45a1-97e6-572cee949991","time":"2024-04-03T10:26:42+05:00","message":"authn.cookie not found"}
{"level":"debug","x-request-id":"32edd6e7-d02f-45a1-97e6-572cee949991","time":"2024-04-03T10:26:42+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"32edd6e7-d02f-45a1-97e6-572cee949991","time":"2024-04-03T10:26:42+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"32edd6e7-d02f-45a1-97e6-572cee949991","time":"2024-04-03T10:26:42+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"32edd6e7-d02f-45a1-97e6-572cee949991","time":"2024-04-03T10:26:42+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"32edd6e7-d02f-45a1-97e6-572cee949991","time":"2024-04-03T10:26:42+05:00","message":"jwt.extract set User-Id to 25"}
{"level":"info","x-request-id":"32edd6e7-d02f-45a1-97e6-572cee949991","time":"2024-04-03T10:26:42+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"32edd6e7-d02f-45a1-97e6-572cee949991","time":"2024-04-03T10:26:42+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"32edd6e7-d02f-45a1-97e6-572cee949991","time":"2024-04-03T10:26:42+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"32edd6e7-d02f-45a1-97e6-572cee949991","time":"2024-04-03T10:26:42+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"32edd6e7-d02f-45a1-97e6-572cee949991","time":"2024-04-03T10:26:42+05:00","message":"jwt.extract set Username to 910919300363"}
{"level":"info","x-request-id":"32edd6e7-d02f-45a1-97e6-572cee949991","time":"2024-04-03T10:26:42+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"32edd6e7-d02f-45a1-97e6-572cee949991","time":"2024-04-03T10:26:42+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"32edd6e7-d02f-45a1-97e6-572cee949991","time":"2024-04-03T10:26:42+05:00","message":"jwt.extract set Phone to +77055552928"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"32edd6e7-d02f-45a1-97e6-572cee949991","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"grpcConnAdd /testing.MockService/StreamCall 32edd6e7-d02f-45a1-97e6-572cee949991"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"32edd6e7-d02f-45a1-97e6-572cee949991","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"forwardClientToBackend set Read timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"32edd6e7-d02f-45a1-97e6-572cee949991","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"32edd6e7-d02f-45a1-97e6-572cee949991","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"forwardBackendToClient set Read timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"32edd6e7-d02f-45a1-97e6-572cee949991","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"32edd6e7-d02f-45a1-97e6-572cee949991","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"32edd6e7-d02f-45a1-97e6-572cee949991","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"32edd6e7-d02f-45a1-97e6-572cee949991","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"forwardClientToBackend set Write timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"32edd6e7-d02f-45a1-97e6-572cee949991","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"32edd6e7-d02f-45a1-97e6-572cee949991","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"brokerClientStream brokerClientStream SendMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"32edd6e7-d02f-45a1-97e6-572cee949991","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"brokerClientStream try to publish to qa.mock.connection1.in msg with hdr: metadata.Metadata{\"Authorization\":\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A\", \"Client-Ip\":\"172.23.20.6\", \"Content-Type\":\"application/grpc\", \"Phone\":\"+77055552928\", \"Qa-Custom-Headers\":\"{\\\"Error-Code\\\": \\\"6091\\\", \\\"Grpc-Code\\\": \\\"11\\\", \\\"Error-Data\\\": \\\"Test grpc-code = 11\\\"}\", \"Source-Service\":\"/testing.MockService/StreamCall\", \"User-Id\":\"25\", \"Username\":\"910919300363\", \"X-Forwarded-For\":\"172.23.20.6\", \"X-Forwarded-Port\":\"443\", \"X-Real-Ip\":\"172.23.20.6\", \"X-Request-Id\":\"32edd6e7-d02f-45a1-97e6-572cee949991\"}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"32edd6e7-d02f-45a1-97e6-572cee949991","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"32edd6e7-d02f-45a1-97e6-572cee949991","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"forwardClientToBackend set Read timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"32edd6e7-d02f-45a1-97e6-572cee949991","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"32edd6e7-d02f-45a1-97e6-572cee949991","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"32edd6e7-d02f-45a1-97e6-572cee949991","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"32edd6e7-d02f-45a1-97e6-572cee949991","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"brokerClientStream CloseSend method"}
{"level":"info","X-Request-Id":"32edd6e7-d02f-45a1-97e6-572cee949991","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"get message for service: /testing.MockService/StreamCall with md map[Authorization:Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A Client-Ip:172.23.20.6 Content-Type:application/grpc Error-Code:6091 Error-Data:Test grpc-code = 11 Grpc-Code:11 Phone:+77055552928 Qa-Custom-Headers:{\"Error-Code\": \"6091\", \"Grpc-Code\": \"11\", \"Error-Data\": \"Test grpc-code = 11\"} Source-Service:/testing.MockService/StreamCall User-Id:25 Username:910919300363 X-Forwarded-For:172.23.20.6 X-Forwarded-Port:443 X-Real-Ip:172.23.20.6 X-Request-Id:32edd6e7-d02f-45a1-97e6-572cee949991]"}
{"level":"info","x-request-id":"32edd6e7-d02f-45a1-97e6-572cee949991","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"get message for service: /testing.MockService/StreamCall"}
{"level":"debug","x-request-id":"32edd6e7-d02f-45a1-97e6-572cee949991","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"grpcConnGet: /testing.MockService/StreamCall via 32edd6e7-d02f-45a1-97e6-572cee949991"}
{"level":"debug","x-request-id":"32edd6e7-d02f-45a1-97e6-572cee949991","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"grpc use stream conn: &handler.grpcProxy{grpcStream:(*handler.grpcServerStream)(0xc0002320b0), kafkaStream:(*handler.grpcClientStream)(0xc0002322c0)} sourceService: /testing.MockService/StreamCall"}
{"level":"info","x-request-id":"32edd6e7-d02f-45a1-97e6-572cee949991","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"start transfer response from kafka"}
{"level":"error","x-request-id":"32edd6e7-d02f-45a1-97e6-572cee949991","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"error message for service: /testing.MockService/StreamCallrpc error: code = OutOfRange desc = 6091"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"32edd6e7-d02f-45a1-97e6-572cee949991","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"brokerClientStream SetError method"}
{"level":"info","x-request-id":"32edd6e7-d02f-45a1-97e6-572cee949991","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"stop transfer response from kafka"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"32edd6e7-d02f-45a1-97e6-572cee949991","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"brokerClientStream Close method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"32edd6e7-d02f-45a1-97e6-572cee949991","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"forwardBackendToClient src.RecvMsg err rpc error: code = OutOfRange desc = 6091"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"32edd6e7-d02f-45a1-97e6-572cee949991","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"b2cErr := <-b2cErrChan: err: rpc error: code = OutOfRange desc = 6091"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"32edd6e7-d02f-45a1-97e6-572cee949991","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"brokerClientStream Trailer method"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"32edd6e7-d02f-45a1-97e6-572cee949991","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"failed to proxy grpc conn c2bErr: rpc error: code = OutOfRange desc = 6091 *status.Error &status.Error{s:(*status.Status)(0xc000536420)}"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"32edd6e7-d02f-45a1-97e6-572cee949991","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"error status &status.Status{s:(*status.Status)(0xc000bf1b00)}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"32edd6e7-d02f-45a1-97e6-572cee949991","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"grpcConnDel /testing.MockService/StreamCall 32edd6e7-d02f-45a1-97e6-572cee949991"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"32edd6e7-d02f-45a1-97e6-572cee949991","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"grpc handler exit"}
{"level":"debug","x-request-id":"9040e97c-67cb-4f63-8afc-f983becce2f5","time":"2024-04-03T10:26:42+05:00","message":"authn.cookie not found"}
{"level":"debug","x-request-id":"9040e97c-67cb-4f63-8afc-f983becce2f5","time":"2024-04-03T10:26:42+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"9040e97c-67cb-4f63-8afc-f983becce2f5","time":"2024-04-03T10:26:42+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"9040e97c-67cb-4f63-8afc-f983becce2f5","time":"2024-04-03T10:26:42+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"9040e97c-67cb-4f63-8afc-f983becce2f5","time":"2024-04-03T10:26:42+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"9040e97c-67cb-4f63-8afc-f983becce2f5","time":"2024-04-03T10:26:42+05:00","message":"jwt.extract set User-Id to 25"}
{"level":"info","x-request-id":"9040e97c-67cb-4f63-8afc-f983becce2f5","time":"2024-04-03T10:26:42+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"9040e97c-67cb-4f63-8afc-f983becce2f5","time":"2024-04-03T10:26:42+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"9040e97c-67cb-4f63-8afc-f983becce2f5","time":"2024-04-03T10:26:42+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"9040e97c-67cb-4f63-8afc-f983becce2f5","time":"2024-04-03T10:26:42+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"9040e97c-67cb-4f63-8afc-f983becce2f5","time":"2024-04-03T10:26:42+05:00","message":"jwt.extract set Username to 910919300363"}
{"level":"info","x-request-id":"9040e97c-67cb-4f63-8afc-f983becce2f5","time":"2024-04-03T10:26:42+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"9040e97c-67cb-4f63-8afc-f983becce2f5","time":"2024-04-03T10:26:42+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"9040e97c-67cb-4f63-8afc-f983becce2f5","time":"2024-04-03T10:26:42+05:00","message":"jwt.extract set Phone to +77055552928"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"9040e97c-67cb-4f63-8afc-f983becce2f5","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"grpcConnAdd /testing.MockService/StreamCall 9040e97c-67cb-4f63-8afc-f983becce2f5"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"9040e97c-67cb-4f63-8afc-f983becce2f5","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"forwardBackendToClient set Read timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"9040e97c-67cb-4f63-8afc-f983becce2f5","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"9040e97c-67cb-4f63-8afc-f983becce2f5","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"9040e97c-67cb-4f63-8afc-f983becce2f5","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"forwardClientToBackend set Read timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"9040e97c-67cb-4f63-8afc-f983becce2f5","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"9040e97c-67cb-4f63-8afc-f983becce2f5","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"9040e97c-67cb-4f63-8afc-f983becce2f5","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"forwardClientToBackend set Write timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"9040e97c-67cb-4f63-8afc-f983becce2f5","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"9040e97c-67cb-4f63-8afc-f983becce2f5","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"brokerClientStream brokerClientStream SendMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"9040e97c-67cb-4f63-8afc-f983becce2f5","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"brokerClientStream try to publish to qa.mock.connection1.in msg with hdr: metadata.Metadata{\"Authorization\":\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A\", \"Client-Ip\":\"172.23.20.6\", \"Content-Type\":\"application/grpc\", \"Phone\":\"+77055552928\", \"Qa-Custom-Headers\":\"{\\\"Error-Code\\\": \\\"8570\\\", \\\"Grpc-Code\\\": \\\"12\\\", \\\"Error-Data\\\": \\\"Test grpc-code = 12\\\"}\", \"Source-Service\":\"/testing.MockService/StreamCall\", \"User-Id\":\"25\", \"Username\":\"910919300363\", \"X-Forwarded-For\":\"172.23.20.6\", \"X-Forwarded-Port\":\"443\", \"X-Real-Ip\":\"172.23.20.6\", \"X-Request-Id\":\"9040e97c-67cb-4f63-8afc-f983becce2f5\"}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"9040e97c-67cb-4f63-8afc-f983becce2f5","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"9040e97c-67cb-4f63-8afc-f983becce2f5","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"forwardClientToBackend set Read timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"9040e97c-67cb-4f63-8afc-f983becce2f5","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"9040e97c-67cb-4f63-8afc-f983becce2f5","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"9040e97c-67cb-4f63-8afc-f983becce2f5","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"9040e97c-67cb-4f63-8afc-f983becce2f5","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"brokerClientStream CloseSend method"}
{"level":"info","X-Request-Id":"9040e97c-67cb-4f63-8afc-f983becce2f5","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"get message for service: /testing.MockService/StreamCall with md map[Authorization:Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A Client-Ip:172.23.20.6 Content-Type:application/grpc Error-Code:8570 Error-Data:Test grpc-code = 12 Grpc-Code:12 Phone:+77055552928 Qa-Custom-Headers:{\"Error-Code\": \"8570\", \"Grpc-Code\": \"12\", \"Error-Data\": \"Test grpc-code = 12\"} Source-Service:/testing.MockService/StreamCall User-Id:25 Username:910919300363 X-Forwarded-For:172.23.20.6 X-Forwarded-Port:443 X-Real-Ip:172.23.20.6 X-Request-Id:9040e97c-67cb-4f63-8afc-f983becce2f5]"}
{"level":"info","x-request-id":"9040e97c-67cb-4f63-8afc-f983becce2f5","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"get message for service: /testing.MockService/StreamCall"}
{"level":"debug","x-request-id":"9040e97c-67cb-4f63-8afc-f983becce2f5","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"grpcConnGet: /testing.MockService/StreamCall via 9040e97c-67cb-4f63-8afc-f983becce2f5"}
{"level":"debug","x-request-id":"9040e97c-67cb-4f63-8afc-f983becce2f5","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"grpc use stream conn: &handler.grpcProxy{grpcStream:(*handler.grpcServerStream)(0xc0002d1600), kafkaStream:(*handler.grpcClientStream)(0xc0002d16b0)} sourceService: /testing.MockService/StreamCall"}
{"level":"info","x-request-id":"9040e97c-67cb-4f63-8afc-f983becce2f5","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"start transfer response from kafka"}
{"level":"error","x-request-id":"9040e97c-67cb-4f63-8afc-f983becce2f5","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"error message for service: /testing.MockService/StreamCallrpc error: code = Unimplemented desc = 8570"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"9040e97c-67cb-4f63-8afc-f983becce2f5","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"brokerClientStream SetError method"}
{"level":"info","x-request-id":"9040e97c-67cb-4f63-8afc-f983becce2f5","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"stop transfer response from kafka"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"9040e97c-67cb-4f63-8afc-f983becce2f5","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"brokerClientStream Close method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"9040e97c-67cb-4f63-8afc-f983becce2f5","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"forwardBackendToClient src.RecvMsg err rpc error: code = Unimplemented desc = 8570"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"9040e97c-67cb-4f63-8afc-f983becce2f5","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"b2cErr := <-b2cErrChan: err: rpc error: code = Unimplemented desc = 8570"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"9040e97c-67cb-4f63-8afc-f983becce2f5","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"brokerClientStream Trailer method"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"9040e97c-67cb-4f63-8afc-f983becce2f5","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"failed to proxy grpc conn c2bErr: rpc error: code = Unimplemented desc = 8570 *status.Error &status.Error{s:(*status.Status)(0xc00007e638)}"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"9040e97c-67cb-4f63-8afc-f983becce2f5","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"error status &status.Status{s:(*status.Status)(0xc0009cb5c0)}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"9040e97c-67cb-4f63-8afc-f983becce2f5","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"grpcConnDel /testing.MockService/StreamCall 9040e97c-67cb-4f63-8afc-f983becce2f5"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"9040e97c-67cb-4f63-8afc-f983becce2f5","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"grpc handler exit"}
{"level":"debug","x-request-id":"40fdf729-5436-437a-bd4c-52d246d04145","time":"2024-04-03T10:26:42+05:00","message":"authn.cookie not found"}
{"level":"debug","x-request-id":"40fdf729-5436-437a-bd4c-52d246d04145","time":"2024-04-03T10:26:42+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"40fdf729-5436-437a-bd4c-52d246d04145","time":"2024-04-03T10:26:42+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"40fdf729-5436-437a-bd4c-52d246d04145","time":"2024-04-03T10:26:42+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"40fdf729-5436-437a-bd4c-52d246d04145","time":"2024-04-03T10:26:42+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"40fdf729-5436-437a-bd4c-52d246d04145","time":"2024-04-03T10:26:42+05:00","message":"jwt.extract set User-Id to 25"}
{"level":"info","x-request-id":"40fdf729-5436-437a-bd4c-52d246d04145","time":"2024-04-03T10:26:42+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"40fdf729-5436-437a-bd4c-52d246d04145","time":"2024-04-03T10:26:42+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"40fdf729-5436-437a-bd4c-52d246d04145","time":"2024-04-03T10:26:42+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"40fdf729-5436-437a-bd4c-52d246d04145","time":"2024-04-03T10:26:42+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"40fdf729-5436-437a-bd4c-52d246d04145","time":"2024-04-03T10:26:42+05:00","message":"jwt.extract set Username to 910919300363"}
{"level":"info","x-request-id":"40fdf729-5436-437a-bd4c-52d246d04145","time":"2024-04-03T10:26:42+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"40fdf729-5436-437a-bd4c-52d246d04145","time":"2024-04-03T10:26:42+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"40fdf729-5436-437a-bd4c-52d246d04145","time":"2024-04-03T10:26:42+05:00","message":"jwt.extract set Phone to +77055552928"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"40fdf729-5436-437a-bd4c-52d246d04145","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"grpcConnAdd /testing.MockService/StreamCall 40fdf729-5436-437a-bd4c-52d246d04145"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"40fdf729-5436-437a-bd4c-52d246d04145","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"forwardBackendToClient set Read timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"40fdf729-5436-437a-bd4c-52d246d04145","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"40fdf729-5436-437a-bd4c-52d246d04145","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"forwardClientToBackend set Read timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"40fdf729-5436-437a-bd4c-52d246d04145","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"40fdf729-5436-437a-bd4c-52d246d04145","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"40fdf729-5436-437a-bd4c-52d246d04145","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"40fdf729-5436-437a-bd4c-52d246d04145","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"forwardClientToBackend set Write timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"40fdf729-5436-437a-bd4c-52d246d04145","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"40fdf729-5436-437a-bd4c-52d246d04145","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"brokerClientStream brokerClientStream SendMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"40fdf729-5436-437a-bd4c-52d246d04145","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"brokerClientStream try to publish to qa.mock.connection1.in msg with hdr: metadata.Metadata{\"Authorization\":\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A\", \"Client-Ip\":\"172.23.20.6\", \"Content-Type\":\"application/grpc\", \"Phone\":\"+77055552928\", \"Qa-Custom-Headers\":\"{\\\"Error-Code\\\": \\\"4988\\\", \\\"Grpc-Code\\\": \\\"13\\\", \\\"Error-Data\\\": \\\"Test grpc-code = 13\\\"}\", \"Source-Service\":\"/testing.MockService/StreamCall\", \"User-Id\":\"25\", \"Username\":\"910919300363\", \"X-Forwarded-For\":\"172.23.20.6\", \"X-Forwarded-Port\":\"443\", \"X-Real-Ip\":\"172.23.20.6\", \"X-Request-Id\":\"40fdf729-5436-437a-bd4c-52d246d04145\"}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"40fdf729-5436-437a-bd4c-52d246d04145","trace-id":"","span-id":"","time":"2024-04-03T10:26:42+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"40fdf729-5436-437a-bd4c-52d246d04145","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"forwardClientToBackend set Read timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"40fdf729-5436-437a-bd4c-52d246d04145","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"40fdf729-5436-437a-bd4c-52d246d04145","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"40fdf729-5436-437a-bd4c-52d246d04145","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"40fdf729-5436-437a-bd4c-52d246d04145","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"brokerClientStream CloseSend method"}
{"level":"info","X-Request-Id":"40fdf729-5436-437a-bd4c-52d246d04145","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"get message for service: /testing.MockService/StreamCall with md map[Authorization:Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A Client-Ip:172.23.20.6 Content-Type:application/grpc Error-Code:4988 Error-Data:Test grpc-code = 13 Grpc-Code:13 Phone:+77055552928 Qa-Custom-Headers:{\"Error-Code\": \"4988\", \"Grpc-Code\": \"13\", \"Error-Data\": \"Test grpc-code = 13\"} Source-Service:/testing.MockService/StreamCall User-Id:25 Username:910919300363 X-Forwarded-For:172.23.20.6 X-Forwarded-Port:443 X-Real-Ip:172.23.20.6 X-Request-Id:40fdf729-5436-437a-bd4c-52d246d04145]"}
{"level":"info","x-request-id":"40fdf729-5436-437a-bd4c-52d246d04145","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"get message for service: /testing.MockService/StreamCall"}
{"level":"debug","x-request-id":"40fdf729-5436-437a-bd4c-52d246d04145","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"grpcConnGet: /testing.MockService/StreamCall via 40fdf729-5436-437a-bd4c-52d246d04145"}
{"level":"debug","x-request-id":"40fdf729-5436-437a-bd4c-52d246d04145","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"grpc use stream conn: &handler.grpcProxy{grpcStream:(*handler.grpcServerStream)(0xc0002d1970), kafkaStream:(*handler.grpcClientStream)(0xc0002d1c30)} sourceService: /testing.MockService/StreamCall"}
{"level":"info","x-request-id":"40fdf729-5436-437a-bd4c-52d246d04145","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"start transfer response from kafka"}
{"level":"error","x-request-id":"40fdf729-5436-437a-bd4c-52d246d04145","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"error message for service: /testing.MockService/StreamCallrpc error: code = Internal desc = 4988"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"40fdf729-5436-437a-bd4c-52d246d04145","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"brokerClientStream SetError method"}
{"level":"info","x-request-id":"40fdf729-5436-437a-bd4c-52d246d04145","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"stop transfer response from kafka"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"40fdf729-5436-437a-bd4c-52d246d04145","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"brokerClientStream Close method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"40fdf729-5436-437a-bd4c-52d246d04145","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"forwardBackendToClient src.RecvMsg err rpc error: code = Internal desc = 4988"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"40fdf729-5436-437a-bd4c-52d246d04145","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"b2cErr := <-b2cErrChan: err: rpc error: code = Internal desc = 4988"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"40fdf729-5436-437a-bd4c-52d246d04145","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"brokerClientStream Trailer method"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"40fdf729-5436-437a-bd4c-52d246d04145","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"failed to proxy grpc conn c2bErr: rpc error: code = Internal desc = 4988 *status.Error &status.Error{s:(*status.Status)(0xc00007e790)}"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"40fdf729-5436-437a-bd4c-52d246d04145","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"error status &status.Status{s:(*status.Status)(0xc00052a180)}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"40fdf729-5436-437a-bd4c-52d246d04145","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"grpcConnDel /testing.MockService/StreamCall 40fdf729-5436-437a-bd4c-52d246d04145"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"40fdf729-5436-437a-bd4c-52d246d04145","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"grpc handler exit"}
{"level":"debug","x-request-id":"cb696d87-942d-4260-8473-995fdd2f142b","time":"2024-04-03T10:26:43+05:00","message":"authn.cookie not found"}
{"level":"debug","x-request-id":"cb696d87-942d-4260-8473-995fdd2f142b","time":"2024-04-03T10:26:43+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"cb696d87-942d-4260-8473-995fdd2f142b","time":"2024-04-03T10:26:43+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"cb696d87-942d-4260-8473-995fdd2f142b","time":"2024-04-03T10:26:43+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"cb696d87-942d-4260-8473-995fdd2f142b","time":"2024-04-03T10:26:43+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"cb696d87-942d-4260-8473-995fdd2f142b","time":"2024-04-03T10:26:43+05:00","message":"jwt.extract set User-Id to 25"}
{"level":"info","x-request-id":"cb696d87-942d-4260-8473-995fdd2f142b","time":"2024-04-03T10:26:43+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"cb696d87-942d-4260-8473-995fdd2f142b","time":"2024-04-03T10:26:43+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"cb696d87-942d-4260-8473-995fdd2f142b","time":"2024-04-03T10:26:43+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"cb696d87-942d-4260-8473-995fdd2f142b","time":"2024-04-03T10:26:43+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"cb696d87-942d-4260-8473-995fdd2f142b","time":"2024-04-03T10:26:43+05:00","message":"jwt.extract set Username to 910919300363"}
{"level":"info","x-request-id":"cb696d87-942d-4260-8473-995fdd2f142b","time":"2024-04-03T10:26:43+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"cb696d87-942d-4260-8473-995fdd2f142b","time":"2024-04-03T10:26:43+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"cb696d87-942d-4260-8473-995fdd2f142b","time":"2024-04-03T10:26:43+05:00","message":"jwt.extract set Phone to +77055552928"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cb696d87-942d-4260-8473-995fdd2f142b","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"grpcConnAdd /testing.MockService/StreamCall cb696d87-942d-4260-8473-995fdd2f142b"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cb696d87-942d-4260-8473-995fdd2f142b","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"forwardBackendToClient set Read timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cb696d87-942d-4260-8473-995fdd2f142b","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"cb696d87-942d-4260-8473-995fdd2f142b","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cb696d87-942d-4260-8473-995fdd2f142b","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"forwardClientToBackend set Read timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cb696d87-942d-4260-8473-995fdd2f142b","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cb696d87-942d-4260-8473-995fdd2f142b","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cb696d87-942d-4260-8473-995fdd2f142b","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"forwardClientToBackend set Write timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cb696d87-942d-4260-8473-995fdd2f142b","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"cb696d87-942d-4260-8473-995fdd2f142b","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"brokerClientStream brokerClientStream SendMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"cb696d87-942d-4260-8473-995fdd2f142b","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"brokerClientStream try to publish to qa.mock.connection1.in msg with hdr: metadata.Metadata{\"Authorization\":\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A\", \"Client-Ip\":\"172.23.20.6\", \"Content-Type\":\"application/grpc\", \"Phone\":\"+77055552928\", \"Qa-Custom-Headers\":\"{\\\"Error-Code\\\": \\\"5619\\\", \\\"Grpc-Code\\\": \\\"14\\\", \\\"Error-Data\\\": \\\"Test grpc-code = 14\\\"}\", \"Source-Service\":\"/testing.MockService/StreamCall\", \"User-Id\":\"25\", \"Username\":\"910919300363\", \"X-Forwarded-For\":\"172.23.20.6\", \"X-Forwarded-Port\":\"443\", \"X-Real-Ip\":\"172.23.20.6\", \"X-Request-Id\":\"cb696d87-942d-4260-8473-995fdd2f142b\"}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cb696d87-942d-4260-8473-995fdd2f142b","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cb696d87-942d-4260-8473-995fdd2f142b","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"forwardClientToBackend set Read timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cb696d87-942d-4260-8473-995fdd2f142b","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cb696d87-942d-4260-8473-995fdd2f142b","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cb696d87-942d-4260-8473-995fdd2f142b","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"cb696d87-942d-4260-8473-995fdd2f142b","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"brokerClientStream CloseSend method"}
{"level":"info","X-Request-Id":"cb696d87-942d-4260-8473-995fdd2f142b","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"get message for service: /testing.MockService/StreamCall with md map[Authorization:Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A Client-Ip:172.23.20.6 Content-Type:application/grpc Error-Code:5619 Error-Data:Test grpc-code = 14 Grpc-Code:14 Phone:+77055552928 Qa-Custom-Headers:{\"Error-Code\": \"5619\", \"Grpc-Code\": \"14\", \"Error-Data\": \"Test grpc-code = 14\"} Source-Service:/testing.MockService/StreamCall User-Id:25 Username:910919300363 X-Forwarded-For:172.23.20.6 X-Forwarded-Port:443 X-Real-Ip:172.23.20.6 X-Request-Id:cb696d87-942d-4260-8473-995fdd2f142b]"}
{"level":"info","x-request-id":"cb696d87-942d-4260-8473-995fdd2f142b","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"get message for service: /testing.MockService/StreamCall"}
{"level":"debug","x-request-id":"cb696d87-942d-4260-8473-995fdd2f142b","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"grpcConnGet: /testing.MockService/StreamCall via cb696d87-942d-4260-8473-995fdd2f142b"}
{"level":"debug","x-request-id":"cb696d87-942d-4260-8473-995fdd2f142b","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"grpc use stream conn: &handler.grpcProxy{grpcStream:(*handler.grpcServerStream)(0xc0002d1d90), kafkaStream:(*handler.grpcClientStream)(0xc0002d1e40)} sourceService: /testing.MockService/StreamCall"}
{"level":"info","x-request-id":"cb696d87-942d-4260-8473-995fdd2f142b","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"start transfer response from kafka"}
{"level":"error","x-request-id":"cb696d87-942d-4260-8473-995fdd2f142b","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"error message for service: /testing.MockService/StreamCallrpc error: code = Unavailable desc = 5619"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"cb696d87-942d-4260-8473-995fdd2f142b","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"brokerClientStream SetError method"}
{"level":"info","x-request-id":"cb696d87-942d-4260-8473-995fdd2f142b","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"stop transfer response from kafka"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"cb696d87-942d-4260-8473-995fdd2f142b","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"brokerClientStream Close method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cb696d87-942d-4260-8473-995fdd2f142b","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"forwardBackendToClient src.RecvMsg err rpc error: code = Unavailable desc = 5619"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cb696d87-942d-4260-8473-995fdd2f142b","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"b2cErr := <-b2cErrChan: err: rpc error: code = Unavailable desc = 5619"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"cb696d87-942d-4260-8473-995fdd2f142b","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"brokerClientStream Trailer method"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"cb696d87-942d-4260-8473-995fdd2f142b","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"failed to proxy grpc conn c2bErr: rpc error: code = Unavailable desc = 5619 *status.Error &status.Error{s:(*status.Status)(0xc000892128)}"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"cb696d87-942d-4260-8473-995fdd2f142b","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"error status &status.Status{s:(*status.Status)(0xc000c383c0)}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"cb696d87-942d-4260-8473-995fdd2f142b","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"grpcConnDel /testing.MockService/StreamCall cb696d87-942d-4260-8473-995fdd2f142b"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"cb696d87-942d-4260-8473-995fdd2f142b","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"grpc handler exit"}
{"level":"debug","x-request-id":"5d94bfdd-b5e6-44de-9618-7ce162065bcd","time":"2024-04-03T10:26:43+05:00","message":"authn.cookie not found"}
{"level":"debug","x-request-id":"5d94bfdd-b5e6-44de-9618-7ce162065bcd","time":"2024-04-03T10:26:43+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"5d94bfdd-b5e6-44de-9618-7ce162065bcd","time":"2024-04-03T10:26:43+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"5d94bfdd-b5e6-44de-9618-7ce162065bcd","time":"2024-04-03T10:26:43+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"5d94bfdd-b5e6-44de-9618-7ce162065bcd","time":"2024-04-03T10:26:43+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"5d94bfdd-b5e6-44de-9618-7ce162065bcd","time":"2024-04-03T10:26:43+05:00","message":"jwt.extract set User-Id to 25"}
{"level":"info","x-request-id":"5d94bfdd-b5e6-44de-9618-7ce162065bcd","time":"2024-04-03T10:26:43+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"5d94bfdd-b5e6-44de-9618-7ce162065bcd","time":"2024-04-03T10:26:43+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"5d94bfdd-b5e6-44de-9618-7ce162065bcd","time":"2024-04-03T10:26:43+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"5d94bfdd-b5e6-44de-9618-7ce162065bcd","time":"2024-04-03T10:26:43+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"5d94bfdd-b5e6-44de-9618-7ce162065bcd","time":"2024-04-03T10:26:43+05:00","message":"jwt.extract set Username to 910919300363"}
{"level":"info","x-request-id":"5d94bfdd-b5e6-44de-9618-7ce162065bcd","time":"2024-04-03T10:26:43+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"5d94bfdd-b5e6-44de-9618-7ce162065bcd","time":"2024-04-03T10:26:43+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"nonce\":\"ntikzqqazuvnqfc\", \"phone\":\"+77055552928\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"910919300363\"}, \"exp\":1.712985857e+09, \"iat\":1.712121857e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"1712990f-0173-418a-bbc8-4636ecca7ffa\", \"nbf\":1.712121857e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"25\"}"}
{"level":"info","x-request-id":"5d94bfdd-b5e6-44de-9618-7ce162065bcd","time":"2024-04-03T10:26:43+05:00","message":"jwt.extract set Phone to +77055552928"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5d94bfdd-b5e6-44de-9618-7ce162065bcd","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"grpcConnAdd /testing.MockService/StreamCall 5d94bfdd-b5e6-44de-9618-7ce162065bcd"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5d94bfdd-b5e6-44de-9618-7ce162065bcd","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"forwardClientToBackend set Read timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5d94bfdd-b5e6-44de-9618-7ce162065bcd","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"forwardBackendToClient set Read timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5d94bfdd-b5e6-44de-9618-7ce162065bcd","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5d94bfdd-b5e6-44de-9618-7ce162065bcd","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"5d94bfdd-b5e6-44de-9618-7ce162065bcd","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5d94bfdd-b5e6-44de-9618-7ce162065bcd","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5d94bfdd-b5e6-44de-9618-7ce162065bcd","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"forwardClientToBackend set Write timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5d94bfdd-b5e6-44de-9618-7ce162065bcd","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"5d94bfdd-b5e6-44de-9618-7ce162065bcd","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"brokerClientStream brokerClientStream SendMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"5d94bfdd-b5e6-44de-9618-7ce162065bcd","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"brokerClientStream try to publish to qa.mock.connection1.in msg with hdr: metadata.Metadata{\"Authorization\":\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A\", \"Client-Ip\":\"172.23.20.6\", \"Content-Type\":\"application/grpc\", \"Phone\":\"+77055552928\", \"Qa-Custom-Headers\":\"{\\\"Error-Code\\\": \\\"4789\\\", \\\"Grpc-Code\\\": \\\"15\\\", \\\"Error-Data\\\": \\\"Test grpc-code = 15\\\"}\", \"Source-Service\":\"/testing.MockService/StreamCall\", \"User-Id\":\"25\", \"Username\":\"910919300363\", \"X-Forwarded-For\":\"172.23.20.6\", \"X-Forwarded-Port\":\"443\", \"X-Real-Ip\":\"172.23.20.6\", \"X-Request-Id\":\"5d94bfdd-b5e6-44de-9618-7ce162065bcd\"}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5d94bfdd-b5e6-44de-9618-7ce162065bcd","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5d94bfdd-b5e6-44de-9618-7ce162065bcd","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"forwardClientToBackend set Read timeout 20s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5d94bfdd-b5e6-44de-9618-7ce162065bcd","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5d94bfdd-b5e6-44de-9618-7ce162065bcd","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5d94bfdd-b5e6-44de-9618-7ce162065bcd","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"5d94bfdd-b5e6-44de-9618-7ce162065bcd","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"brokerClientStream CloseSend method"}
{"level":"info","X-Request-Id":"5d94bfdd-b5e6-44de-9618-7ce162065bcd","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"get message for service: /testing.MockService/StreamCall with md map[Authorization:Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMjUiLCJleHAiOjE3MTI5ODU4NTcsIm5iZiI6MTcxMjEyMTg1NywiaWF0IjoxNzEyMTIxODU3LCJqdGkiOiIxNzEyOTkwZi0wMTczLTQxOGEtYmJjOC00NjM2ZWNjYTdmZmEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsIm5vbmNlIjoibnRpa3pxcWF6dXZucWZjIiwicGhvbmUiOiIrNzcwNTU1NTI5MjgiLCJzY29wZSI6Im9mZmxpbmVfYWNjZXNzIiwidG9rZW5fdHlwZSI6ImFjY2Vzc190b2tlbiIsInVzZXJfYWN0aW9uIjoicmVnaXN0cmF0aW9uIiwidXNlcl9yb2xlcyI6WyJtaWJfdXNlciJdLCJ1c2VybmFtZSI6IjkxMDkxOTMwMDM2MyJ9fQ.LkGWgqbFYxvbBVrFC4ZIKPeUPPwxp9erZv9I47Gn_1d_5EcQVO3JfsKQMJ_ZkaJqgzWYs7fuYQzPa4n3N4euSMMcpwa3lltnTBnSModIUUPpLIaZaWx4u8jqk7ywh3ikKxHvO7r_aFmGCnUqoNSpe5R13fFPFCxj_J1RGViJZZSUjNhU7wuzUcs1_PG53GnvRVCdfwTkfSPfvKar32jxTmIxHPVDj-Oz14c_KtJCyVNd-gFQusbALKzFuPvF6X2NRAhVlU8d-wf6ImLixf7ZJsPN9MwZAUa_bPOimNNwI-J8Lthe4fAnXS-M0WDLjsKZzMY97RRXD4L0VVuAC8zk3A Client-Ip:172.23.20.6 Content-Type:application/grpc Error-Code:4789 Error-Data:Test grpc-code = 15 Grpc-Code:15 Phone:+77055552928 Qa-Custom-Headers:{\"Error-Code\": \"4789\", \"Grpc-Code\": \"15\", \"Error-Data\": \"Test grpc-code = 15\"} Source-Service:/testing.MockService/StreamCall User-Id:25 Username:910919300363 X-Forwarded-For:172.23.20.6 X-Forwarded-Port:443 X-Real-Ip:172.23.20.6 X-Request-Id:5d94bfdd-b5e6-44de-9618-7ce162065bcd]"}
{"level":"info","x-request-id":"5d94bfdd-b5e6-44de-9618-7ce162065bcd","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"get message for service: /testing.MockService/StreamCall"}
{"level":"debug","x-request-id":"5d94bfdd-b5e6-44de-9618-7ce162065bcd","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"grpcConnGet: /testing.MockService/StreamCall via 5d94bfdd-b5e6-44de-9618-7ce162065bcd"}
{"level":"debug","x-request-id":"5d94bfdd-b5e6-44de-9618-7ce162065bcd","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"grpc use stream conn: &handler.grpcProxy{grpcStream:(*handler.grpcServerStream)(0xc000410dc0), kafkaStream:(*handler.grpcClientStream)(0xc000410e70)} sourceService: /testing.MockService/StreamCall"}
{"level":"info","x-request-id":"5d94bfdd-b5e6-44de-9618-7ce162065bcd","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"start transfer response from kafka"}
{"level":"error","x-request-id":"5d94bfdd-b5e6-44de-9618-7ce162065bcd","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"error message for service: /testing.MockService/StreamCallrpc error: code = DataLoss desc = 4789"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"5d94bfdd-b5e6-44de-9618-7ce162065bcd","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"brokerClientStream SetError method"}
{"level":"info","x-request-id":"5d94bfdd-b5e6-44de-9618-7ce162065bcd","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"stop transfer response from kafka"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"5d94bfdd-b5e6-44de-9618-7ce162065bcd","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"brokerClientStream Close method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5d94bfdd-b5e6-44de-9618-7ce162065bcd","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"forwardBackendToClient src.RecvMsg err rpc error: code = DataLoss desc = 4789"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5d94bfdd-b5e6-44de-9618-7ce162065bcd","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"b2cErr := <-b2cErrChan: err: rpc error: code = DataLoss desc = 4789"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"5d94bfdd-b5e6-44de-9618-7ce162065bcd","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"brokerClientStream Trailer method"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"5d94bfdd-b5e6-44de-9618-7ce162065bcd","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"failed to proxy grpc conn c2bErr: rpc error: code = DataLoss desc = 4789 *status.Error &status.Error{s:(*status.Status)(0xc00007e950)}"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"5d94bfdd-b5e6-44de-9618-7ce162065bcd","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"error status &status.Status{s:(*status.Status)(0xc0009302a0)}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"5d94bfdd-b5e6-44de-9618-7ce162065bcd","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"grpcConnDel /testing.MockService/StreamCall 5d94bfdd-b5e6-44de-9618-7ce162065bcd"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"5d94bfdd-b5e6-44de-9618-7ce162065bcd","trace-id":"","span-id":"","time":"2024-04-03T10:26:43+05:00","message":"grpc handler exit"}
HDR http.Header{"Accept":[]string{"application/json, text/plain, */*"}, "Accept-Encoding":[]string{"gzip, deflate, br"}, "Accept-Language":[]string{"ru,ru-RU;q=0.9,en-US;q=0.8,en;q=0.7"}, "Content-Length":[]string{"334"}, "Content-Type":[]string{"application/json"}, "Origin":[]string{"https://dev-apigw.fortebank.com"}, "Referer":[]string{"https://dev-apigw.fortebank.com/authn.AuthnService/ui/otp"}, "Sec-Ch-Ua":[]string{"\"Chromium\";v=\"122\", \"Not(A:Brand\";v=\"24\", \"Android WebView\";v=\"122\""}, "Sec-Ch-Ua-Mobile":[]string{"?1"}, "Sec-Ch-Ua-Platform":[]string{"\"Android\""}, "Sec-Fetch-Dest":[]string{"empty"}, "Sec-Fetch-Mode":[]string{"cors"}, "Sec-Fetch-Site":[]string{"same-origin"}, "User-Agent":[]string{"Android"}, "X-Forwarded-For":[]string{"172.23.20.6, 10.233.126.141"}, "X-Forwarded-Host":[]string{"dev-apigw.fortebank.com"}, "X-Forwarded-Port":[]string{"443"}, "X-Forwarded-Proto":[]string{"https"}, "X-Forwarded-Scheme":[]string{"https"}, "X-Real-Ip":[]string{"172.23.20.6"}, "X-Request-Id":[]string{"7e7c608305e0fd4fdb499abe8b85aef0"}, "X-Requested-With":[]string{"kz.forte.bank.debug"}, "X-Scheme":[]string{"https"}}
{"level":"debug","x-request-id":"7e7c608305e0fd4fdb499abe8b85aef0","trace-id":"","span-id":"","time":"2024-04-03T10:26:45+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"7e7c608305e0fd4fdb499abe8b85aef0","trace-id":"","span-id":"","time":"2024-04-03T10:26:45+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Login"}
{"level":"debug","x-request-id":"7e7c608305e0fd4fdb499abe8b85aef0","trace-id":"","span-id":"","time":"2024-04-03T10:26:45+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"debug","x-request-id":"7e7c608305e0fd4fdb499abe8b85aef0","trace-id":"","span-id":"","time":"2024-04-03T10:26:45+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"debug","x-request-id":"7e7c608305e0fd4fdb499abe8b85aef0","trace-id":"","span-id":"","time":"2024-04-03T10:26:45+05:00","message":"header.cors try to set Access-Control-Allow-Origin with [*]"}
{"level":"debug","x-request-id":"7e7c608305e0fd4fdb499abe8b85aef0","trace-id":"","span-id":"","time":"2024-04-03T10:26:45+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"debug","x-request-id":"7e7c608305e0fd4fdb499abe8b85aef0","trace-id":"","span-id":"","time":"2024-04-03T10:26:45+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"info","x-request-id":"7e7c608305e0fd4fdb499abe8b85aef0","trace-id":"","span-id":"","time":"2024-04-03T10:26:45+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"7e7c608305e0fd4fdb499abe8b85aef0","trace-id":"","span-id":"","time":"2024-04-03T10:26:45+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"7e7c608305e0fd4fdb499abe8b85aef0","trace-id":"","span-id":"","time":"2024-04-03T10:26:45+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"7e7c608305e0fd4fdb499abe8b85aef0","trace-id":"","span-id":"","time":"2024-04-03T10:26:45+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"7e7c608305e0fd4fdb499abe8b85aef0","trace-id":"","span-id":"","time":"2024-04-03T10:26:45+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"7e7c608305e0fd4fdb499abe8b85aef0","trace-id":"","span-id":"","time":"2024-04-03T10:26:45+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"7e7c608305e0fd4fdb499abe8b85aef0","trace-id":"","span-id":"","time":"2024-04-03T10:26:45+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"7e7c608305e0fd4fdb499abe8b85aef0","trace-id":"","span-id":"","time":"2024-04-03T10:26:45+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"7e7c608305e0fd4fdb499abe8b85aef0","trace-id":"","span-id":"","time":"2024-04-03T10:26:45+05:00","message":"start to proxy url: /authn.AuthnService/v1/login via http://authn-service:80"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"7e7c608305e0fd4fdb499abe8b85aef0","trace-id":"","span-id":"","time":"2024-04-03T10:26:45+05:00","message":"stop to proxy url: /authn.AuthnService/v1/login via http://authn-service:80"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7e7c608305e0fd4fdb499abe8b85aef0","trace-id":"","span-id":"","time":"2024-04-03T10:26:45+05:00","message":"skip hook authn.cookie"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7e7c608305e0fd4fdb499abe8b85aef0","trace-id":"","span-id":"","time":"2024-04-03T10:26:45+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7e7c608305e0fd4fdb499abe8b85aef0","trace-id":"","span-id":"","time":"2024-04-03T10:26:45+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7e7c608305e0fd4fdb499abe8b85aef0","trace-id":"","span-id":"","time":"2024-04-03T10:26:45+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7e7c608305e0fd4fdb499abe8b85aef0","trace-id":"","span-id":"","time":"2024-04-03T10:26:45+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7e7c608305e0fd4fdb499abe8b85aef0","trace-id":"","span-id":"","time":"2024-04-03T10:26:45+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7e7c608305e0fd4fdb499abe8b85aef0","trace-id":"","span-id":"","time":"2024-04-03T10:26:45+05:00","message":"skip hook jwt.check"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7e7c608305e0fd4fdb499abe8b85aef0","trace-id":"","span-id":"","time":"2024-04-03T10:26:45+05:00","message":"run hook header.cors"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7e7c608305e0fd4fdb499abe8b85aef0","trace-id":"","span-id":"","time":"2024-04-03T10:26:45+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7e7c608305e0fd4fdb499abe8b85aef0","trace-id":"","span-id":"","time":"2024-04-03T10:26:45+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7e7c608305e0fd4fdb499abe8b85aef0","trace-id":"","span-id":"","time":"2024-04-03T10:26:45+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7e7c608305e0fd4fdb499abe8b85aef0","trace-id":"","span-id":"","time":"2024-04-03T10:26:45+05:00","message":"header.cors try to set Access-Control-Allow-Origin with [*]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7e7c608305e0fd4fdb499abe8b85aef0","trace-id":"","span-id":"","time":"2024-04-03T10:26:45+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7e7c608305e0fd4fdb499abe8b85aef0","trace-id":"","span-id":"","time":"2024-04-03T10:26:45+05:00","message":"end hook header.cors"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7e7c608305e0fd4fdb499abe8b85aef0","trace-id":"","span-id":"","time":"2024-04-03T10:26:45+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7e7c608305e0fd4fdb499abe8b85aef0","trace-id":"","span-id":"","time":"2024-04-03T10:26:45+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7e7c608305e0fd4fdb499abe8b85aef0","trace-id":"","span-id":"","time":"2024-04-03T10:26:45+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"7e7c608305e0fd4fdb499abe8b85aef0","trace-id":"","span-id":"","time":"2024-04-03T10:26:45+05:00","message":"skip hook jwt.extract"}
{"level":"debug","x-request-id":"0cee115e-542d-467b-99db-0dc149b04fa2","time":"2024-04-03T10:26:46+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"0cee115e-542d-467b-99db-0dc149b04fa2","time":"2024-04-03T10:26:46+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Token"}
{"level":"info","x-request-id":"0cee115e-542d-467b-99db-0dc149b04fa2","time":"2024-04-03T10:26:46+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"0cee115e-542d-467b-99db-0dc149b04fa2","time":"2024-04-03T10:26:46+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"0cee115e-542d-467b-99db-0dc149b04fa2","time":"2024-04-03T10:26:46+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"0cee115e-542d-467b-99db-0dc149b04fa2","time":"2024-04-03T10:26:46+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"0cee115e-542d-467b-99db-0dc149b04fa2","time":"2024-04-03T10:26:46+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"0cee115e-542d-467b-99db-0dc149b04fa2","time":"2024-04-03T10:26:46+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"0cee115e-542d-467b-99db-0dc149b04fa2","time":"2024-04-03T10:26:46+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"0cee115e-542d-467b-99db-0dc149b04fa2","time":"2024-04-03T10:26:46+05:00","message":"jwt.extract jwt claims empty"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0cee115e-542d-467b-99db-0dc149b04fa2","trace-id":"","span-id":"","time":"2024-04-03T10:26:46+05:00","message":"grpc request with md: metadata.MD{\":authority\":[]string{\"upstream_balancer\"}, \":path\":[]string{\"/authn.AuthnService/Token\"}, \"client-ip\":[]string{\"172.23.20.6\"}, \"content-type\":[]string{\"application/grpc\"}, \"grpc-accept-encoding\":[]string{\"gzip\"}, \"language\":[]string{\"ru\"}, \"source-channel\":[]string{\"MIB3.0\"}, \"source-service\":[]string{\"/authn.AuthnService/Token\"}, \"user-agent\":[]string{\"grpc-java-okhttp/1.54.1\"}, \"x-forwarded-for\":[]string{\"172.23.20.6\"}, \"x-forwarded-host\":[]string{\"dev-apigw-grpc.fortebank.com:443\"}, \"x-forwarded-port\":[]string{\"443\"}, \"x-forwarded-proto\":[]string{\"https\"}, \"x-forwarded-scheme\":[]string{\"https\"}, \"x-real-ip\":[]string{\"172.23.20.6\"}, \"x-request-id\":[]string{\"0cee115e-542d-467b-99db-0dc149b04fa2\"}, \"x-scheme\":[]string{\"https\"}}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0cee115e-542d-467b-99db-0dc149b04fa2","trace-id":"","span-id":"","time":"2024-04-03T10:26:46+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0cee115e-542d-467b-99db-0dc149b04fa2","trace-id":"","span-id":"","time":"2024-04-03T10:26:46+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0cee115e-542d-467b-99db-0dc149b04fa2","trace-id":"","span-id":"","time":"2024-04-03T10:26:46+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0cee115e-542d-467b-99db-0dc149b04fa2","trace-id":"","span-id":"","time":"2024-04-03T10:26:46+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0cee115e-542d-467b-99db-0dc149b04fa2","trace-id":"","span-id":"","time":"2024-04-03T10:26:46+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0cee115e-542d-467b-99db-0dc149b04fa2","trace-id":"","span-id":"","time":"2024-04-03T10:26:46+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0cee115e-542d-467b-99db-0dc149b04fa2","trace-id":"","span-id":"","time":"2024-04-03T10:26:46+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0cee115e-542d-467b-99db-0dc149b04fa2","trace-id":"","span-id":"","time":"2024-04-03T10:26:46+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0cee115e-542d-467b-99db-0dc149b04fa2","trace-id":"","span-id":"","time":"2024-04-03T10:26:46+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0cee115e-542d-467b-99db-0dc149b04fa2","trace-id":"","span-id":"","time":"2024-04-03T10:26:46+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0cee115e-542d-467b-99db-0dc149b04fa2","trace-id":"","span-id":"","time":"2024-04-03T10:26:46+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0cee115e-542d-467b-99db-0dc149b04fa2","trace-id":"","span-id":"","time":"2024-04-03T10:26:46+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0cee115e-542d-467b-99db-0dc149b04fa2","trace-id":"","span-id":"","time":"2024-04-03T10:26:46+05:00","message":"forwardBackendToClient src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0cee115e-542d-467b-99db-0dc149b04fa2","trace-id":"","span-id":"","time":"2024-04-03T10:26:46+05:00","message":"forwardBackendToClient set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0cee115e-542d-467b-99db-0dc149b04fa2","trace-id":"","span-id":"","time":"2024-04-03T10:26:46+05:00","message":"forwardBackendToClient src.Header"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0cee115e-542d-467b-99db-0dc149b04fa2","trace-id":"","span-id":"","time":"2024-04-03T10:26:46+05:00","message":"forwardBackendToClient dst.SetHeader"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0cee115e-542d-467b-99db-0dc149b04fa2","trace-id":"","span-id":"","time":"2024-04-03T10:26:46+05:00","message":"forwardBackendToClient try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0cee115e-542d-467b-99db-0dc149b04fa2","trace-id":"","span-id":"","time":"2024-04-03T10:26:46+05:00","message":"forwardBackendToClient dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0cee115e-542d-467b-99db-0dc149b04fa2","trace-id":"","span-id":"","time":"2024-04-03T10:26:46+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0cee115e-542d-467b-99db-0dc149b04fa2","trace-id":"","span-id":"","time":"2024-04-03T10:26:46+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0cee115e-542d-467b-99db-0dc149b04fa2","trace-id":"","span-id":"","time":"2024-04-03T10:26:46+05:00","message":"forwardBackendToClient src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"0cee115e-542d-467b-99db-0dc149b04fa2","trace-id":"","span-id":"","time":"2024-04-03T10:26:46+05:00","message":"b2cErr := <-b2cErrChan: err: EOF"}
{"level":"debug","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","time":"2024-04-03T10:26:47+05:00","message":"authn.cookie not found"}
{"level":"debug","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","time":"2024-04-03T10:26:47+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","time":"2024-04-03T10:26:47+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"phone\":\"+77055148446\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"850323050505\"}, \"exp\":1.712986006e+09, \"iat\":1.712122006e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"7d02b188-9ea1-4930-948f-75c2f9eefc7e\", \"nbf\":1.712122006e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15579\"}"}
{"level":"info","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","time":"2024-04-03T10:26:47+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","time":"2024-04-03T10:26:47+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"phone\":\"+77055148446\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"850323050505\"}, \"exp\":1.712986006e+09, \"iat\":1.712122006e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"7d02b188-9ea1-4930-948f-75c2f9eefc7e\", \"nbf\":1.712122006e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15579\"}"}
{"level":"info","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","time":"2024-04-03T10:26:47+05:00","message":"jwt.extract set User-Id to 15579"}
{"level":"info","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","time":"2024-04-03T10:26:47+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","time":"2024-04-03T10:26:47+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"phone\":\"+77055148446\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"850323050505\"}, \"exp\":1.712986006e+09, \"iat\":1.712122006e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"7d02b188-9ea1-4930-948f-75c2f9eefc7e\", \"nbf\":1.712122006e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15579\"}"}
{"level":"info","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","time":"2024-04-03T10:26:47+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","time":"2024-04-03T10:26:47+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"phone\":\"+77055148446\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"850323050505\"}, \"exp\":1.712986006e+09, \"iat\":1.712122006e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"7d02b188-9ea1-4930-948f-75c2f9eefc7e\", \"nbf\":1.712122006e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15579\"}"}
{"level":"info","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","time":"2024-04-03T10:26:47+05:00","message":"jwt.extract set Username to 850323050505"}
{"level":"info","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","time":"2024-04-03T10:26:47+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","time":"2024-04-03T10:26:47+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"phone\":\"+77055148446\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"850323050505\"}, \"exp\":1.712986006e+09, \"iat\":1.712122006e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"7d02b188-9ea1-4930-948f-75c2f9eefc7e\", \"nbf\":1.712122006e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15579\"}"}
{"level":"info","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","time":"2024-04-03T10:26:47+05:00","message":"jwt.extract set Phone to +77055148446"}
{"level":"info","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","time":"2024-04-03T10:26:47+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","time":"2024-04-03T10:26:47+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"phone\":\"+77055148446\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"850323050505\"}, \"exp\":1.712986006e+09, \"iat\":1.712122006e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"7d02b188-9ea1-4930-948f-75c2f9eefc7e\", \"nbf\":1.712122006e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15579\"}"}
{"level":"info","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","time":"2024-04-03T10:26:47+05:00","message":"jwt.extract set otp_datetime to 1712122006"}
{"level":"info","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","time":"2024-04-03T10:26:47+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","time":"2024-04-03T10:26:47+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"phone\":\"+77055148446\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"850323050505\"}, \"exp\":1.712986006e+09, \"iat\":1.712122006e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"7d02b188-9ea1-4930-948f-75c2f9eefc7e\", \"nbf\":1.712122006e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15579\"}"}
{"level":"info","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","time":"2024-04-03T10:26:47+05:00","message":"jwt.extract set username to 850323050505"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:47+05:00","message":"grpcConnAdd /clientpass.ClientpassService/StartClientPass d9f78512-b940-46a6-8a54-82db2f9629f0"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:47+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:47+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:47+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:47+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:47+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:47+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:47+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:47+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:47+05:00","message":"brokerClientStream brokerClientStream SendMsg method"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:47+05:00","message":"brokerClientStream try to publish to client.clientpass.startclientpass.in msg with hdr: metadata.Metadata{\"Authorization\":\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMTU1NzkiLCJleHAiOjE3MTI5ODYwMDYsIm5iZiI6MTcxMjEyMjAwNiwiaWF0IjoxNzEyMTIyMDA2LCJqdGkiOiI3ZDAyYjE4OC05ZWExLTQ5MzAtOTQ4Zi03NWMyZjllZWZjN2UiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsInBob25lIjoiKzc3MDU1MTQ4NDQ2Iiwic2NvcGUiOiJvZmZsaW5lX2FjY2VzcyIsInRva2VuX3R5cGUiOiJhY2Nlc3NfdG9rZW4iLCJ1c2VyX2FjdGlvbiI6InJlZ2lzdHJhdGlvbiIsInVzZXJfcm9sZXMiOlsibWliX3VzZXIiXSwidXNlcm5hbWUiOiI4NTAzMjMwNTA1MDUifX0.OHt7hs8f1Qy3qkHvN7aDDJ5cZ1wSn6nXpIkSJrkkFTTkc2CMn2NfbUd0I-AFAtD63iuwAyZpmRbW33lhaCjwUbI0-ehzHJrKQauyDR8Ep9VdK3zc1HDXN0leVLg5gEW6ih4EZPNGNzHOe1_-T1kNJRZHPK0azyIi42_Adjn5OyT1k2FWOPlNX9Z-6R3BE2GLibM77kj4dwFemErHh_ONd5NFSYSPnMB_-5aWWt6mBKH9JHB0somj2_G9Zm-eLFYKVlhjxAg3urDvrXdgDUUPJ1vuEBLppfYyr06Wzew4Akmejyb-sQt7h6e9R_vbhgUC5OfkMjBugPkN7UVw7jMeJg\", \"Client-Ip\":\"10.233.100.0\", \"Content-Type\":\"application/grpc\", \"Language\":\"ru\", \"Otp_datetime\":\"1712122006\", \"Phone\":\"+77055148446\", \"Source-Channel\":\"MIB3.0\", \"Source-Service\":\"/clientpass.ClientpassService/StartClientPass\", \"User-Id\":\"15579\", \"Username\":\"850323050505\", \"X-Forwarded-For\":\"10.233.100.0\", \"X-Forwarded-Port\":\"443\", \"X-Real-Ip\":\"10.233.100.0\", \"X-Request-Id\":\"d9f78512-b940-46a6-8a54-82db2f9629f0\"}"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:47+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:47+05:00","message":"brokerClientStream CloseSend method"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:47+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:47+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:47+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:47+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:47+05:00","message":"brokerClientStream CloseSend method"}
{"level":"error","client-ip":"10.233.100.0","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:47+05:00","message":"failed to CloseSend grpc conn: file already closed"}
{"level":"info","X-Request-Id":"d9f78512-b940-46a6-8a54-82db2f9629f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:47+05:00","message":"get message for service: /clientpass.ClientpassService/StartClientPass with md map[Authorization:Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMTU1NzkiLCJleHAiOjE3MTI5ODYwMDYsIm5iZiI6MTcxMjEyMjAwNiwiaWF0IjoxNzEyMTIyMDA2LCJqdGkiOiI3ZDAyYjE4OC05ZWExLTQ5MzAtOTQ4Zi03NWMyZjllZWZjN2UiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsInBob25lIjoiKzc3MDU1MTQ4NDQ2Iiwic2NvcGUiOiJvZmZsaW5lX2FjY2VzcyIsInRva2VuX3R5cGUiOiJhY2Nlc3NfdG9rZW4iLCJ1c2VyX2FjdGlvbiI6InJlZ2lzdHJhdGlvbiIsInVzZXJfcm9sZXMiOlsibWliX3VzZXIiXSwidXNlcm5hbWUiOiI4NTAzMjMwNTA1MDUifX0.OHt7hs8f1Qy3qkHvN7aDDJ5cZ1wSn6nXpIkSJrkkFTTkc2CMn2NfbUd0I-AFAtD63iuwAyZpmRbW33lhaCjwUbI0-ehzHJrKQauyDR8Ep9VdK3zc1HDXN0leVLg5gEW6ih4EZPNGNzHOe1_-T1kNJRZHPK0azyIi42_Adjn5OyT1k2FWOPlNX9Z-6R3BE2GLibM77kj4dwFemErHh_ONd5NFSYSPnMB_-5aWWt6mBKH9JHB0somj2_G9Zm-eLFYKVlhjxAg3urDvrXdgDUUPJ1vuEBLppfYyr06Wzew4Akmejyb-sQt7h6e9R_vbhgUC5OfkMjBugPkN7UVw7jMeJg Client-Ip:10.233.100.0 Content-Type:application/grpc Language:ru Micro-Topic:apigw.in Otp_datetime:1712122006 Phone:+77055148446 Source-Channel:MIB3.0 Source-Service:/clientpass.ClientpassService/StartClientPass Uber-Trace-Id:744f5b3ed2ceb707:676825050ce586bf:29b25caf166b7c6f:1 User-Id:15579 Username:850323050505 X-Forwarded-For:10.233.100.0 X-Forwarded-Port:443 X-Real-Ip:10.233.100.0 X-Request-Id:d9f78512-b940-46a6-8a54-82db2f9629f0]"}
{"level":"info","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:47+05:00","message":"get message for service: /clientpass.ClientpassService/StartClientPass"}
{"level":"debug","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:47+05:00","message":"grpcConnGet: /clientpass.ClientpassService/StartClientPass via d9f78512-b940-46a6-8a54-82db2f9629f0"}
{"level":"debug","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:47+05:00","message":"grpc use stream conn: &handler.grpcProxy{grpcStream:(*handler.grpcServerStream)(0xc000411a20), kafkaStream:(*handler.grpcClientStream)(0xc000411ad0)} sourceService: /clientpass.ClientpassService/StartClientPass"}
{"level":"info","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:47+05:00","message":"start transfer response from kafka"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:47+05:00","message":"brokerClientStream SetHeader method"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:47+05:00","message":"brokerClientStream SetMsg method"}
{"level":"info","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:47+05:00","message":"stop transfer response from kafka"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:47+05:00","message":"brokerClientStream RecvMsg method data"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:47+05:00","message":"forwardBackendToClient src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:47+05:00","message":"forwardBackendToClient set Write timeout 5s"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:47+05:00","message":"forwardBackendToClient src.Header"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:47+05:00","message":"brokerClientStream Header method"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:47+05:00","message":"forwardBackendToClient dst.SetHeader"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:47+05:00","message":"forwardBackendToClient try dst.SendMsg"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:47+05:00","message":"forwardBackendToClient dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:47+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:47+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:47+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:47+05:00","message":"brokerClientStream Close method"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:47+05:00","message":"brokerClientStream RecvMsg method !s.serverStream && s.recvMsg"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:47+05:00","message":"forwardBackendToClient src.RecvMsg err EOF"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:47+05:00","message":"b2cErr := <-b2cErrChan: err: EOF"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:47+05:00","message":"brokerClientStream Trailer method"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:47+05:00","message":"grpcConnDel /clientpass.ClientpassService/StartClientPass d9f78512-b940-46a6-8a54-82db2f9629f0"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"d9f78512-b940-46a6-8a54-82db2f9629f0","trace-id":"","span-id":"","time":"2024-04-03T10:26:47+05:00","message":"grpc handler exit"}
{"level":"debug","x-request-id":"06c33c39-de26-4285-90fe-c02774253f84","time":"2024-04-03T10:26:48+05:00","message":"authn.cookie not found"}
{"level":"debug","x-request-id":"06c33c39-de26-4285-90fe-c02774253f84","time":"2024-04-03T10:26:48+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"06c33c39-de26-4285-90fe-c02774253f84","time":"2024-04-03T10:26:48+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"phone\":\"+77055148446\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"850323050505\"}, \"exp\":1.712986006e+09, \"iat\":1.712122006e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"7d02b188-9ea1-4930-948f-75c2f9eefc7e\", \"nbf\":1.712122006e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15579\"}"}
{"level":"info","x-request-id":"06c33c39-de26-4285-90fe-c02774253f84","time":"2024-04-03T10:26:48+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"06c33c39-de26-4285-90fe-c02774253f84","time":"2024-04-03T10:26:48+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"phone\":\"+77055148446\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"850323050505\"}, \"exp\":1.712986006e+09, \"iat\":1.712122006e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"7d02b188-9ea1-4930-948f-75c2f9eefc7e\", \"nbf\":1.712122006e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15579\"}"}
{"level":"info","x-request-id":"06c33c39-de26-4285-90fe-c02774253f84","time":"2024-04-03T10:26:48+05:00","message":"jwt.extract set User-Id to 15579"}
{"level":"info","x-request-id":"06c33c39-de26-4285-90fe-c02774253f84","time":"2024-04-03T10:26:48+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"06c33c39-de26-4285-90fe-c02774253f84","time":"2024-04-03T10:26:48+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"phone\":\"+77055148446\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"850323050505\"}, \"exp\":1.712986006e+09, \"iat\":1.712122006e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"7d02b188-9ea1-4930-948f-75c2f9eefc7e\", \"nbf\":1.712122006e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15579\"}"}
{"level":"info","x-request-id":"06c33c39-de26-4285-90fe-c02774253f84","time":"2024-04-03T10:26:48+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"06c33c39-de26-4285-90fe-c02774253f84","time":"2024-04-03T10:26:48+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"phone\":\"+77055148446\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"850323050505\"}, \"exp\":1.712986006e+09, \"iat\":1.712122006e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"7d02b188-9ea1-4930-948f-75c2f9eefc7e\", \"nbf\":1.712122006e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15579\"}"}
{"level":"info","x-request-id":"06c33c39-de26-4285-90fe-c02774253f84","time":"2024-04-03T10:26:48+05:00","message":"jwt.extract set Username to 850323050505"}
{"level":"info","x-request-id":"06c33c39-de26-4285-90fe-c02774253f84","time":"2024-04-03T10:26:48+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"06c33c39-de26-4285-90fe-c02774253f84","time":"2024-04-03T10:26:48+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"phone\":\"+77055148446\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"850323050505\"}, \"exp\":1.712986006e+09, \"iat\":1.712122006e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"7d02b188-9ea1-4930-948f-75c2f9eefc7e\", \"nbf\":1.712122006e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15579\"}"}
{"level":"info","x-request-id":"06c33c39-de26-4285-90fe-c02774253f84","time":"2024-04-03T10:26:48+05:00","message":"jwt.extract set Phone to +77055148446"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"06c33c39-de26-4285-90fe-c02774253f84","trace-id":"","span-id":"","time":"2024-04-03T10:26:48+05:00","message":"grpc request with md: metadata.MD{\":authority\":[]string{\"upstream_balancer\"}, \":path\":[]string{\"/catalog.CatalogService/GetServiceRegion\"}, \"authorization\":[]string{\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMTU1NzkiLCJleHAiOjE3MTI5ODYwMDYsIm5iZiI6MTcxMjEyMjAwNiwiaWF0IjoxNzEyMTIyMDA2LCJqdGkiOiI3ZDAyYjE4OC05ZWExLTQ5MzAtOTQ4Zi03NWMyZjllZWZjN2UiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsInBob25lIjoiKzc3MDU1MTQ4NDQ2Iiwic2NvcGUiOiJvZmZsaW5lX2FjY2VzcyIsInRva2VuX3R5cGUiOiJhY2Nlc3NfdG9rZW4iLCJ1c2VyX2FjdGlvbiI6InJlZ2lzdHJhdGlvbiIsInVzZXJfcm9sZXMiOlsibWliX3VzZXIiXSwidXNlcm5hbWUiOiI4NTAzMjMwNTA1MDUifX0.OHt7hs8f1Qy3qkHvN7aDDJ5cZ1wSn6nXpIkSJrkkFTTkc2CMn2NfbUd0I-AFAtD63iuwAyZpmRbW33lhaCjwUbI0-ehzHJrKQauyDR8Ep9VdK3zc1HDXN0leVLg5gEW6ih4EZPNGNzHOe1_-T1kNJRZHPK0azyIi42_Adjn5OyT1k2FWOPlNX9Z-6R3BE2GLibM77kj4dwFemErHh_ONd5NFSYSPnMB_-5aWWt6mBKH9JHB0somj2_G9Zm-eLFYKVlhjxAg3urDvrXdgDUUPJ1vuEBLppfYyr06Wzew4Akmejyb-sQt7h6e9R_vbhgUC5OfkMjBugPkN7UVw7jMeJg\"}, \"client-ip\":[]string{\"172.23.20.6\"}, \"content-type\":[]string{\"application/grpc\"}, \"grpc-accept-encoding\":[]string{\"gzip\"}, \"language\":[]string{\"ru\"}, \"phone\":[]string{\"+77055148446\"}, \"source-channel\":[]string{\"MIB3.0\"}, \"source-service\":[]string{\"/catalog.CatalogService/GetServiceRegion\"}, \"user-agent\":[]string{\"grpc-java-okhttp/1.54.1\"}, \"user-id\":[]string{\"15579\"}, \"username\":[]string{\"850323050505\"}, \"x-forwarded-for\":[]string{\"172.23.20.6\"}, \"x-forwarded-host\":[]string{\"dev-apigw-grpc.fortebank.com:443\"}, \"x-forwarded-port\":[]string{\"443\"}, \"x-forwarded-proto\":[]string{\"https\"}, \"x-forwarded-scheme\":[]string{\"https\"}, \"x-real-ip\":[]string{\"172.23.20.6\"}, \"x-request-id\":[]string{\"06c33c39-de26-4285-90fe-c02774253f84\"}, \"x-scheme\":[]string{\"https\"}}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"06c33c39-de26-4285-90fe-c02774253f84","trace-id":"","span-id":"","time":"2024-04-03T10:26:48+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"06c33c39-de26-4285-90fe-c02774253f84","trace-id":"","span-id":"","time":"2024-04-03T10:26:48+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"06c33c39-de26-4285-90fe-c02774253f84","trace-id":"","span-id":"","time":"2024-04-03T10:26:48+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"06c33c39-de26-4285-90fe-c02774253f84","trace-id":"","span-id":"","time":"2024-04-03T10:26:48+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"06c33c39-de26-4285-90fe-c02774253f84","trace-id":"","span-id":"","time":"2024-04-03T10:26:48+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"06c33c39-de26-4285-90fe-c02774253f84","trace-id":"","span-id":"","time":"2024-04-03T10:26:48+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"06c33c39-de26-4285-90fe-c02774253f84","trace-id":"","span-id":"","time":"2024-04-03T10:26:48+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"06c33c39-de26-4285-90fe-c02774253f84","trace-id":"","span-id":"","time":"2024-04-03T10:26:48+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"06c33c39-de26-4285-90fe-c02774253f84","trace-id":"","span-id":"","time":"2024-04-03T10:26:48+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"06c33c39-de26-4285-90fe-c02774253f84","trace-id":"","span-id":"","time":"2024-04-03T10:26:48+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"06c33c39-de26-4285-90fe-c02774253f84","trace-id":"","span-id":"","time":"2024-04-03T10:26:48+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"06c33c39-de26-4285-90fe-c02774253f84","trace-id":"","span-id":"","time":"2024-04-03T10:26:48+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"06c33c39-de26-4285-90fe-c02774253f84","trace-id":"","span-id":"","time":"2024-04-03T10:26:48+05:00","message":"forwardBackendToClient src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"06c33c39-de26-4285-90fe-c02774253f84","trace-id":"","span-id":"","time":"2024-04-03T10:26:48+05:00","message":"forwardBackendToClient set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"06c33c39-de26-4285-90fe-c02774253f84","trace-id":"","span-id":"","time":"2024-04-03T10:26:48+05:00","message":"forwardBackendToClient src.Header"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"06c33c39-de26-4285-90fe-c02774253f84","trace-id":"","span-id":"","time":"2024-04-03T10:26:48+05:00","message":"forwardBackendToClient dst.SetHeader"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"06c33c39-de26-4285-90fe-c02774253f84","trace-id":"","span-id":"","time":"2024-04-03T10:26:48+05:00","message":"forwardBackendToClient try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"06c33c39-de26-4285-90fe-c02774253f84","trace-id":"","span-id":"","time":"2024-04-03T10:26:48+05:00","message":"forwardBackendToClient dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"06c33c39-de26-4285-90fe-c02774253f84","trace-id":"","span-id":"","time":"2024-04-03T10:26:48+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"06c33c39-de26-4285-90fe-c02774253f84","trace-id":"","span-id":"","time":"2024-04-03T10:26:48+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"06c33c39-de26-4285-90fe-c02774253f84","trace-id":"","span-id":"","time":"2024-04-03T10:26:48+05:00","message":"forwardBackendToClient src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"06c33c39-de26-4285-90fe-c02774253f84","trace-id":"","span-id":"","time":"2024-04-03T10:26:48+05:00","message":"b2cErr := <-b2cErrChan: err: EOF"}
{"level":"debug","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","time":"2024-04-03T10:26:53+05:00","message":"authn.cookie not found"}
{"level":"debug","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","time":"2024-04-03T10:26:53+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","time":"2024-04-03T10:26:53+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"phone\":\"+77055148446\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"850323050505\"}, \"exp\":1.712986006e+09, \"iat\":1.712122006e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"7d02b188-9ea1-4930-948f-75c2f9eefc7e\", \"nbf\":1.712122006e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15579\"}"}
{"level":"info","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","time":"2024-04-03T10:26:53+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","time":"2024-04-03T10:26:53+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"phone\":\"+77055148446\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"850323050505\"}, \"exp\":1.712986006e+09, \"iat\":1.712122006e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"7d02b188-9ea1-4930-948f-75c2f9eefc7e\", \"nbf\":1.712122006e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15579\"}"}
{"level":"info","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","time":"2024-04-03T10:26:53+05:00","message":"jwt.extract set User-Id to 15579"}
{"level":"info","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","time":"2024-04-03T10:26:53+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","time":"2024-04-03T10:26:53+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"phone\":\"+77055148446\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"850323050505\"}, \"exp\":1.712986006e+09, \"iat\":1.712122006e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"7d02b188-9ea1-4930-948f-75c2f9eefc7e\", \"nbf\":1.712122006e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15579\"}"}
{"level":"info","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","time":"2024-04-03T10:26:53+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","time":"2024-04-03T10:26:53+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"phone\":\"+77055148446\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"850323050505\"}, \"exp\":1.712986006e+09, \"iat\":1.712122006e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"7d02b188-9ea1-4930-948f-75c2f9eefc7e\", \"nbf\":1.712122006e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15579\"}"}
{"level":"info","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","time":"2024-04-03T10:26:53+05:00","message":"jwt.extract set Username to 850323050505"}
{"level":"info","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","time":"2024-04-03T10:26:53+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","time":"2024-04-03T10:26:53+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"phone\":\"+77055148446\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"850323050505\"}, \"exp\":1.712986006e+09, \"iat\":1.712122006e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"7d02b188-9ea1-4930-948f-75c2f9eefc7e\", \"nbf\":1.712122006e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15579\"}"}
{"level":"info","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","time":"2024-04-03T10:26:53+05:00","message":"jwt.extract set Phone to +77055148446"}
{"level":"info","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","time":"2024-04-03T10:26:53+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","time":"2024-04-03T10:26:53+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"phone\":\"+77055148446\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"850323050505\"}, \"exp\":1.712986006e+09, \"iat\":1.712122006e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"7d02b188-9ea1-4930-948f-75c2f9eefc7e\", \"nbf\":1.712122006e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15579\"}"}
{"level":"info","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","time":"2024-04-03T10:26:53+05:00","message":"jwt.extract set username to 850323050505"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","trace-id":"","span-id":"","time":"2024-04-03T10:26:53+05:00","message":"grpcConnAdd /clientpass.ClientpassService/OnboardingPass 8ff78384-1f5b-444f-b418-7f913ed4496f"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","trace-id":"","span-id":"","time":"2024-04-03T10:26:53+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","trace-id":"","span-id":"","time":"2024-04-03T10:26:53+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","trace-id":"","span-id":"","time":"2024-04-03T10:26:53+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","trace-id":"","span-id":"","time":"2024-04-03T10:26:53+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","trace-id":"","span-id":"","time":"2024-04-03T10:26:53+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","trace-id":"","span-id":"","time":"2024-04-03T10:26:53+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","trace-id":"","span-id":"","time":"2024-04-03T10:26:53+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","trace-id":"","span-id":"","time":"2024-04-03T10:26:53+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","trace-id":"","span-id":"","time":"2024-04-03T10:26:53+05:00","message":"brokerClientStream brokerClientStream SendMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","trace-id":"","span-id":"","time":"2024-04-03T10:26:53+05:00","message":"brokerClientStream try to publish to client.clientpass.onboarding.in msg with hdr: metadata.Metadata{\"Authorization\":\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMTU1NzkiLCJleHAiOjE3MTI5ODYwMDYsIm5iZiI6MTcxMjEyMjAwNiwiaWF0IjoxNzEyMTIyMDA2LCJqdGkiOiI3ZDAyYjE4OC05ZWExLTQ5MzAtOTQ4Zi03NWMyZjllZWZjN2UiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsInBob25lIjoiKzc3MDU1MTQ4NDQ2Iiwic2NvcGUiOiJvZmZsaW5lX2FjY2VzcyIsInRva2VuX3R5cGUiOiJhY2Nlc3NfdG9rZW4iLCJ1c2VyX2FjdGlvbiI6InJlZ2lzdHJhdGlvbiIsInVzZXJfcm9sZXMiOlsibWliX3VzZXIiXSwidXNlcm5hbWUiOiI4NTAzMjMwNTA1MDUifX0.OHt7hs8f1Qy3qkHvN7aDDJ5cZ1wSn6nXpIkSJrkkFTTkc2CMn2NfbUd0I-AFAtD63iuwAyZpmRbW33lhaCjwUbI0-ehzHJrKQauyDR8Ep9VdK3zc1HDXN0leVLg5gEW6ih4EZPNGNzHOe1_-T1kNJRZHPK0azyIi42_Adjn5OyT1k2FWOPlNX9Z-6R3BE2GLibM77kj4dwFemErHh_ONd5NFSYSPnMB_-5aWWt6mBKH9JHB0somj2_G9Zm-eLFYKVlhjxAg3urDvrXdgDUUPJ1vuEBLppfYyr06Wzew4Akmejyb-sQt7h6e9R_vbhgUC5OfkMjBugPkN7UVw7jMeJg\", \"Client-Ip\":\"172.23.20.6\", \"Content-Type\":\"application/grpc\", \"Language\":\"ru\", \"Phone\":\"+77055148446\", \"Source-Channel\":\"MIB3.0\", \"Source-Service\":\"/clientpass.ClientpassService/OnboardingPass\", \"User-Id\":\"15579\", \"Username\":\"850323050505\", \"X-Forwarded-For\":\"172.23.20.6\", \"X-Forwarded-Port\":\"443\", \"X-Real-Ip\":\"172.23.20.6\", \"X-Request-Id\":\"8ff78384-1f5b-444f-b418-7f913ed4496f\"}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","trace-id":"","span-id":"","time":"2024-04-03T10:26:53+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","trace-id":"","span-id":"","time":"2024-04-03T10:26:53+05:00","message":"brokerClientStream CloseSend method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","trace-id":"","span-id":"","time":"2024-04-03T10:26:53+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","trace-id":"","span-id":"","time":"2024-04-03T10:26:53+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","trace-id":"","span-id":"","time":"2024-04-03T10:26:53+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","trace-id":"","span-id":"","time":"2024-04-03T10:26:53+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","trace-id":"","span-id":"","time":"2024-04-03T10:26:53+05:00","message":"brokerClientStream CloseSend method"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","trace-id":"","span-id":"","time":"2024-04-03T10:26:53+05:00","message":"failed to CloseSend grpc conn: file already closed"}
{"level":"info","X-Request-Id":"8ff78384-1f5b-444f-b418-7f913ed4496f","trace-id":"","span-id":"","time":"2024-04-03T10:26:53+05:00","message":"get message for service: /clientpass.ClientpassService/OnboardingPass with md map[Authorization:Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMTU1NzkiLCJleHAiOjE3MTI5ODYwMDYsIm5iZiI6MTcxMjEyMjAwNiwiaWF0IjoxNzEyMTIyMDA2LCJqdGkiOiI3ZDAyYjE4OC05ZWExLTQ5MzAtOTQ4Zi03NWMyZjllZWZjN2UiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsInBob25lIjoiKzc3MDU1MTQ4NDQ2Iiwic2NvcGUiOiJvZmZsaW5lX2FjY2VzcyIsInRva2VuX3R5cGUiOiJhY2Nlc3NfdG9rZW4iLCJ1c2VyX2FjdGlvbiI6InJlZ2lzdHJhdGlvbiIsInVzZXJfcm9sZXMiOlsibWliX3VzZXIiXSwidXNlcm5hbWUiOiI4NTAzMjMwNTA1MDUifX0.OHt7hs8f1Qy3qkHvN7aDDJ5cZ1wSn6nXpIkSJrkkFTTkc2CMn2NfbUd0I-AFAtD63iuwAyZpmRbW33lhaCjwUbI0-ehzHJrKQauyDR8Ep9VdK3zc1HDXN0leVLg5gEW6ih4EZPNGNzHOe1_-T1kNJRZHPK0azyIi42_Adjn5OyT1k2FWOPlNX9Z-6R3BE2GLibM77kj4dwFemErHh_ONd5NFSYSPnMB_-5aWWt6mBKH9JHB0somj2_G9Zm-eLFYKVlhjxAg3urDvrXdgDUUPJ1vuEBLppfYyr06Wzew4Akmejyb-sQt7h6e9R_vbhgUC5OfkMjBugPkN7UVw7jMeJg Client-Ip:172.23.20.6 Content-Type:application/grpc Language:ru Micro-Topic:apigw.in Phone:+77055148446 Source-Channel:MIB3.0 Source-Service:/clientpass.ClientpassService/OnboardingPass Uber-Trace-Id:225a4e06c5386c1d:47deb9a163b9e0a3:40954678a0067cb6:1 User-Id:15579 Username:850323050505 X-Forwarded-For:172.23.20.6 X-Forwarded-Port:443 X-Real-Ip:172.23.20.6 X-Request-Id:8ff78384-1f5b-444f-b418-7f913ed4496f]"}
{"level":"info","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","trace-id":"","span-id":"","time":"2024-04-03T10:26:53+05:00","message":"get message for service: /clientpass.ClientpassService/OnboardingPass"}
{"level":"debug","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","trace-id":"","span-id":"","time":"2024-04-03T10:26:53+05:00","message":"grpcConnGet: /clientpass.ClientpassService/OnboardingPass via 8ff78384-1f5b-444f-b418-7f913ed4496f"}
{"level":"debug","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","trace-id":"","span-id":"","time":"2024-04-03T10:26:53+05:00","message":"grpc use stream conn: &handler.grpcProxy{grpcStream:(*handler.grpcServerStream)(0xc000c34580), kafkaStream:(*handler.grpcClientStream)(0xc000c34630)} sourceService: /clientpass.ClientpassService/OnboardingPass"}
{"level":"info","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","trace-id":"","span-id":"","time":"2024-04-03T10:26:53+05:00","message":"start transfer response from kafka"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","trace-id":"","span-id":"","time":"2024-04-03T10:26:53+05:00","message":"brokerClientStream SetHeader method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","trace-id":"","span-id":"","time":"2024-04-03T10:26:53+05:00","message":"brokerClientStream SetMsg method"}
{"level":"info","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","trace-id":"","span-id":"","time":"2024-04-03T10:26:53+05:00","message":"stop transfer response from kafka"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","trace-id":"","span-id":"","time":"2024-04-03T10:26:53+05:00","message":"brokerClientStream RecvMsg method data"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","trace-id":"","span-id":"","time":"2024-04-03T10:26:53+05:00","message":"forwardBackendToClient src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","trace-id":"","span-id":"","time":"2024-04-03T10:26:53+05:00","message":"forwardBackendToClient set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","trace-id":"","span-id":"","time":"2024-04-03T10:26:53+05:00","message":"forwardBackendToClient src.Header"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","trace-id":"","span-id":"","time":"2024-04-03T10:26:53+05:00","message":"brokerClientStream Header method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","trace-id":"","span-id":"","time":"2024-04-03T10:26:53+05:00","message":"forwardBackendToClient dst.SetHeader"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","trace-id":"","span-id":"","time":"2024-04-03T10:26:53+05:00","message":"forwardBackendToClient try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","trace-id":"","span-id":"","time":"2024-04-03T10:26:53+05:00","message":"forwardBackendToClient dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","trace-id":"","span-id":"","time":"2024-04-03T10:26:53+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","trace-id":"","span-id":"","time":"2024-04-03T10:26:53+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","trace-id":"","span-id":"","time":"2024-04-03T10:26:53+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","trace-id":"","span-id":"","time":"2024-04-03T10:26:53+05:00","message":"brokerClientStream Close method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","trace-id":"","span-id":"","time":"2024-04-03T10:26:53+05:00","message":"brokerClientStream RecvMsg method !s.serverStream && s.recvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","trace-id":"","span-id":"","time":"2024-04-03T10:26:53+05:00","message":"forwardBackendToClient src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","trace-id":"","span-id":"","time":"2024-04-03T10:26:53+05:00","message":"b2cErr := <-b2cErrChan: err: EOF"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","trace-id":"","span-id":"","time":"2024-04-03T10:26:53+05:00","message":"brokerClientStream Trailer method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","trace-id":"","span-id":"","time":"2024-04-03T10:26:53+05:00","message":"grpcConnDel /clientpass.ClientpassService/OnboardingPass 8ff78384-1f5b-444f-b418-7f913ed4496f"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"8ff78384-1f5b-444f-b418-7f913ed4496f","trace-id":"","span-id":"","time":"2024-04-03T10:26:53+05:00","message":"grpc handler exit"}
{"level":"debug","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","time":"2024-04-03T10:26:54+05:00","message":"authn.cookie not found"}
{"level":"debug","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","time":"2024-04-03T10:26:54+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","time":"2024-04-03T10:26:54+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"phone\":\"+77055148446\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"850323050505\"}, \"exp\":1.712986006e+09, \"iat\":1.712122006e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"7d02b188-9ea1-4930-948f-75c2f9eefc7e\", \"nbf\":1.712122006e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15579\"}"}
{"level":"info","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","time":"2024-04-03T10:26:54+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","time":"2024-04-03T10:26:54+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"phone\":\"+77055148446\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"850323050505\"}, \"exp\":1.712986006e+09, \"iat\":1.712122006e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"7d02b188-9ea1-4930-948f-75c2f9eefc7e\", \"nbf\":1.712122006e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15579\"}"}
{"level":"info","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","time":"2024-04-03T10:26:54+05:00","message":"jwt.extract set User-Id to 15579"}
{"level":"info","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","time":"2024-04-03T10:26:54+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","time":"2024-04-03T10:26:54+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"phone\":\"+77055148446\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"850323050505\"}, \"exp\":1.712986006e+09, \"iat\":1.712122006e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"7d02b188-9ea1-4930-948f-75c2f9eefc7e\", \"nbf\":1.712122006e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15579\"}"}
{"level":"info","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","time":"2024-04-03T10:26:54+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","time":"2024-04-03T10:26:54+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"phone\":\"+77055148446\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"850323050505\"}, \"exp\":1.712986006e+09, \"iat\":1.712122006e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"7d02b188-9ea1-4930-948f-75c2f9eefc7e\", \"nbf\":1.712122006e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15579\"}"}
{"level":"info","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","time":"2024-04-03T10:26:54+05:00","message":"jwt.extract set Username to 850323050505"}
{"level":"info","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","time":"2024-04-03T10:26:54+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","time":"2024-04-03T10:26:54+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"phone\":\"+77055148446\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"850323050505\"}, \"exp\":1.712986006e+09, \"iat\":1.712122006e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"7d02b188-9ea1-4930-948f-75c2f9eefc7e\", \"nbf\":1.712122006e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15579\"}"}
{"level":"info","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","time":"2024-04-03T10:26:54+05:00","message":"jwt.extract set Phone to +77055148446"}
{"level":"info","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","time":"2024-04-03T10:26:54+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","time":"2024-04-03T10:26:54+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"phone\":\"+77055148446\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"850323050505\"}, \"exp\":1.712986006e+09, \"iat\":1.712122006e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"7d02b188-9ea1-4930-948f-75c2f9eefc7e\", \"nbf\":1.712122006e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15579\"}"}
{"level":"info","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","time":"2024-04-03T10:26:54+05:00","message":"jwt.extract set username to 850323050505"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","trace-id":"","span-id":"","time":"2024-04-03T10:26:54+05:00","message":"grpcConnAdd /clientpass.ClientpassService/OnboardingPass c20f5dc2-86b8-40f9-b5f0-6432b0108b9e"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","trace-id":"","span-id":"","time":"2024-04-03T10:26:54+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","trace-id":"","span-id":"","time":"2024-04-03T10:26:54+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","trace-id":"","span-id":"","time":"2024-04-03T10:26:54+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","trace-id":"","span-id":"","time":"2024-04-03T10:26:54+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","trace-id":"","span-id":"","time":"2024-04-03T10:26:54+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","trace-id":"","span-id":"","time":"2024-04-03T10:26:54+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","trace-id":"","span-id":"","time":"2024-04-03T10:26:54+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","trace-id":"","span-id":"","time":"2024-04-03T10:26:54+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","trace-id":"","span-id":"","time":"2024-04-03T10:26:54+05:00","message":"brokerClientStream brokerClientStream SendMsg method"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","trace-id":"","span-id":"","time":"2024-04-03T10:26:54+05:00","message":"brokerClientStream try to publish to client.clientpass.onboarding.in msg with hdr: metadata.Metadata{\"Authorization\":\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMTU1NzkiLCJleHAiOjE3MTI5ODYwMDYsIm5iZiI6MTcxMjEyMjAwNiwiaWF0IjoxNzEyMTIyMDA2LCJqdGkiOiI3ZDAyYjE4OC05ZWExLTQ5MzAtOTQ4Zi03NWMyZjllZWZjN2UiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsInBob25lIjoiKzc3MDU1MTQ4NDQ2Iiwic2NvcGUiOiJvZmZsaW5lX2FjY2VzcyIsInRva2VuX3R5cGUiOiJhY2Nlc3NfdG9rZW4iLCJ1c2VyX2FjdGlvbiI6InJlZ2lzdHJhdGlvbiIsInVzZXJfcm9sZXMiOlsibWliX3VzZXIiXSwidXNlcm5hbWUiOiI4NTAzMjMwNTA1MDUifX0.OHt7hs8f1Qy3qkHvN7aDDJ5cZ1wSn6nXpIkSJrkkFTTkc2CMn2NfbUd0I-AFAtD63iuwAyZpmRbW33lhaCjwUbI0-ehzHJrKQauyDR8Ep9VdK3zc1HDXN0leVLg5gEW6ih4EZPNGNzHOe1_-T1kNJRZHPK0azyIi42_Adjn5OyT1k2FWOPlNX9Z-6R3BE2GLibM77kj4dwFemErHh_ONd5NFSYSPnMB_-5aWWt6mBKH9JHB0somj2_G9Zm-eLFYKVlhjxAg3urDvrXdgDUUPJ1vuEBLppfYyr06Wzew4Akmejyb-sQt7h6e9R_vbhgUC5OfkMjBugPkN7UVw7jMeJg\", \"Client-Ip\":\"10.233.100.0\", \"Content-Type\":\"application/grpc\", \"Language\":\"ru\", \"Phone\":\"+77055148446\", \"Source-Channel\":\"MIB3.0\", \"Source-Service\":\"/clientpass.ClientpassService/OnboardingPass\", \"User-Id\":\"15579\", \"Username\":\"850323050505\", \"X-Forwarded-For\":\"10.233.100.0\", \"X-Forwarded-Port\":\"443\", \"X-Real-Ip\":\"10.233.100.0\", \"X-Request-Id\":\"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e\"}"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","trace-id":"","span-id":"","time":"2024-04-03T10:26:54+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","trace-id":"","span-id":"","time":"2024-04-03T10:26:54+05:00","message":"brokerClientStream CloseSend method"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","trace-id":"","span-id":"","time":"2024-04-03T10:26:54+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","trace-id":"","span-id":"","time":"2024-04-03T10:26:54+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","trace-id":"","span-id":"","time":"2024-04-03T10:26:54+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","trace-id":"","span-id":"","time":"2024-04-03T10:26:54+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","trace-id":"","span-id":"","time":"2024-04-03T10:26:54+05:00","message":"brokerClientStream CloseSend method"}
{"level":"error","client-ip":"10.233.100.0","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","trace-id":"","span-id":"","time":"2024-04-03T10:26:54+05:00","message":"failed to CloseSend grpc conn: file already closed"}
{"level":"info","X-Request-Id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","trace-id":"","span-id":"","time":"2024-04-03T10:26:54+05:00","message":"get message for service: /clientpass.ClientpassService/OnboardingPass with md map[Authorization:Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMTU1NzkiLCJleHAiOjE3MTI5ODYwMDYsIm5iZiI6MTcxMjEyMjAwNiwiaWF0IjoxNzEyMTIyMDA2LCJqdGkiOiI3ZDAyYjE4OC05ZWExLTQ5MzAtOTQ4Zi03NWMyZjllZWZjN2UiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsInBob25lIjoiKzc3MDU1MTQ4NDQ2Iiwic2NvcGUiOiJvZmZsaW5lX2FjY2VzcyIsInRva2VuX3R5cGUiOiJhY2Nlc3NfdG9rZW4iLCJ1c2VyX2FjdGlvbiI6InJlZ2lzdHJhdGlvbiIsInVzZXJfcm9sZXMiOlsibWliX3VzZXIiXSwidXNlcm5hbWUiOiI4NTAzMjMwNTA1MDUifX0.OHt7hs8f1Qy3qkHvN7aDDJ5cZ1wSn6nXpIkSJrkkFTTkc2CMn2NfbUd0I-AFAtD63iuwAyZpmRbW33lhaCjwUbI0-ehzHJrKQauyDR8Ep9VdK3zc1HDXN0leVLg5gEW6ih4EZPNGNzHOe1_-T1kNJRZHPK0azyIi42_Adjn5OyT1k2FWOPlNX9Z-6R3BE2GLibM77kj4dwFemErHh_ONd5NFSYSPnMB_-5aWWt6mBKH9JHB0somj2_G9Zm-eLFYKVlhjxAg3urDvrXdgDUUPJ1vuEBLppfYyr06Wzew4Akmejyb-sQt7h6e9R_vbhgUC5OfkMjBugPkN7UVw7jMeJg Client-Ip:10.233.100.0 Content-Type:application/grpc External-Id:5633691976 Language:ru Micro-Topic:apigw.in Phone:+77055148446 Source-Channel:MIB3.0 Source-Service:/clientpass.ClientpassService/OnboardingPass Uber-Trace-Id:13045440259cb1fc:112375d7fb81328a:27afbaedfa8b5dc7:1 User-Id:15579 Username:850323050505 X-Forwarded-For:10.233.100.0 X-Forwarded-Port:443 X-Real-Ip:10.233.100.0 X-Request-Id:c20f5dc2-86b8-40f9-b5f0-6432b0108b9e]"}
{"level":"info","external-id":"5633691976","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","trace-id":"","span-id":"","time":"2024-04-03T10:26:54+05:00","message":"get message for service: /clientpass.ClientpassService/OnboardingPass"}
{"level":"debug","external-id":"5633691976","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","trace-id":"","span-id":"","time":"2024-04-03T10:26:54+05:00","message":"grpcConnGet: /clientpass.ClientpassService/OnboardingPass via c20f5dc2-86b8-40f9-b5f0-6432b0108b9e"}
{"level":"debug","external-id":"5633691976","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","trace-id":"","span-id":"","time":"2024-04-03T10:26:54+05:00","message":"grpc use stream conn: &handler.grpcProxy{grpcStream:(*handler.grpcServerStream)(0xc0002333f0), kafkaStream:(*handler.grpcClientStream)(0xc0002334a0)} sourceService: /clientpass.ClientpassService/OnboardingPass"}
{"level":"info","external-id":"5633691976","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","trace-id":"","span-id":"","time":"2024-04-03T10:26:54+05:00","message":"start transfer response from kafka"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","trace-id":"","span-id":"","time":"2024-04-03T10:26:54+05:00","message":"brokerClientStream SetHeader method"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","trace-id":"","span-id":"","time":"2024-04-03T10:26:54+05:00","message":"brokerClientStream SetMsg method"}
{"level":"info","external-id":"5633691976","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","trace-id":"","span-id":"","time":"2024-04-03T10:26:54+05:00","message":"stop transfer response from kafka"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","trace-id":"","span-id":"","time":"2024-04-03T10:26:54+05:00","message":"brokerClientStream RecvMsg method data"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","trace-id":"","span-id":"","time":"2024-04-03T10:26:54+05:00","message":"forwardBackendToClient src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","trace-id":"","span-id":"","time":"2024-04-03T10:26:54+05:00","message":"forwardBackendToClient set Write timeout 5s"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","trace-id":"","span-id":"","time":"2024-04-03T10:26:54+05:00","message":"forwardBackendToClient src.Header"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","trace-id":"","span-id":"","time":"2024-04-03T10:26:54+05:00","message":"brokerClientStream Header method"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","trace-id":"","span-id":"","time":"2024-04-03T10:26:54+05:00","message":"forwardBackendToClient dst.SetHeader"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","trace-id":"","span-id":"","time":"2024-04-03T10:26:54+05:00","message":"forwardBackendToClient try dst.SendMsg"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","trace-id":"","span-id":"","time":"2024-04-03T10:26:54+05:00","message":"forwardBackendToClient dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","trace-id":"","span-id":"","time":"2024-04-03T10:26:54+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","trace-id":"","span-id":"","time":"2024-04-03T10:26:54+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","trace-id":"","span-id":"","time":"2024-04-03T10:26:54+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","trace-id":"","span-id":"","time":"2024-04-03T10:26:54+05:00","message":"brokerClientStream Close method"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","trace-id":"","span-id":"","time":"2024-04-03T10:26:54+05:00","message":"brokerClientStream RecvMsg method !s.serverStream && s.recvMsg"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","trace-id":"","span-id":"","time":"2024-04-03T10:26:54+05:00","message":"forwardBackendToClient src.RecvMsg err EOF"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","trace-id":"","span-id":"","time":"2024-04-03T10:26:54+05:00","message":"b2cErr := <-b2cErrChan: err: EOF"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","trace-id":"","span-id":"","time":"2024-04-03T10:26:54+05:00","message":"brokerClientStream Trailer method"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","trace-id":"","span-id":"","time":"2024-04-03T10:26:54+05:00","message":"grpcConnDel /clientpass.ClientpassService/OnboardingPass c20f5dc2-86b8-40f9-b5f0-6432b0108b9e"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"c20f5dc2-86b8-40f9-b5f0-6432b0108b9e","trace-id":"","span-id":"","time":"2024-04-03T10:26:54+05:00","message":"grpc handler exit"}
{"level":"debug","x-request-id":"4409a575-f074-4641-b935-6a3aca4339eb","time":"2024-04-03T10:26:55+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"4409a575-f074-4641-b935-6a3aca4339eb","time":"2024-04-03T10:26:55+05:00","message":"jwt.check skip endpoint /authn.AuthnService/AccountUpdate"}
{"level":"info","x-request-id":"4409a575-f074-4641-b935-6a3aca4339eb","time":"2024-04-03T10:26:55+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"4409a575-f074-4641-b935-6a3aca4339eb","time":"2024-04-03T10:26:55+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"4409a575-f074-4641-b935-6a3aca4339eb","time":"2024-04-03T10:26:55+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"4409a575-f074-4641-b935-6a3aca4339eb","time":"2024-04-03T10:26:55+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"4409a575-f074-4641-b935-6a3aca4339eb","time":"2024-04-03T10:26:55+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"4409a575-f074-4641-b935-6a3aca4339eb","time":"2024-04-03T10:26:55+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"4409a575-f074-4641-b935-6a3aca4339eb","time":"2024-04-03T10:26:55+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"4409a575-f074-4641-b935-6a3aca4339eb","time":"2024-04-03T10:26:55+05:00","message":"jwt.extract jwt claims empty"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"4409a575-f074-4641-b935-6a3aca4339eb","trace-id":"","span-id":"","time":"2024-04-03T10:26:55+05:00","message":"grpc request with md: metadata.MD{\":authority\":[]string{\"upstream_balancer\"}, \":path\":[]string{\"/authn.AuthnService/AccountUpdate\"}, \"authorization\":[]string{\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMTU1NzkiLCJleHAiOjE3MTI5ODYwMDYsIm5iZiI6MTcxMjEyMjAwNiwiaWF0IjoxNzEyMTIyMDA2LCJqdGkiOiI3ZDAyYjE4OC05ZWExLTQ5MzAtOTQ4Zi03NWMyZjllZWZjN2UiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsInBob25lIjoiKzc3MDU1MTQ4NDQ2Iiwic2NvcGUiOiJvZmZsaW5lX2FjY2VzcyIsInRva2VuX3R5cGUiOiJhY2Nlc3NfdG9rZW4iLCJ1c2VyX2FjdGlvbiI6InJlZ2lzdHJhdGlvbiIsInVzZXJfcm9sZXMiOlsibWliX3VzZXIiXSwidXNlcm5hbWUiOiI4NTAzMjMwNTA1MDUifX0.OHt7hs8f1Qy3qkHvN7aDDJ5cZ1wSn6nXpIkSJrkkFTTkc2CMn2NfbUd0I-AFAtD63iuwAyZpmRbW33lhaCjwUbI0-ehzHJrKQauyDR8Ep9VdK3zc1HDXN0leVLg5gEW6ih4EZPNGNzHOe1_-T1kNJRZHPK0azyIi42_Adjn5OyT1k2FWOPlNX9Z-6R3BE2GLibM77kj4dwFemErHh_ONd5NFSYSPnMB_-5aWWt6mBKH9JHB0somj2_G9Zm-eLFYKVlhjxAg3urDvrXdgDUUPJ1vuEBLppfYyr06Wzew4Akmejyb-sQt7h6e9R_vbhgUC5OfkMjBugPkN7UVw7jMeJg\"}, \"client-ip\":[]string{\"172.23.20.6\"}, \"content-type\":[]string{\"application/grpc\"}, \"grpc-accept-encoding\":[]string{\"gzip\"}, \"language\":[]string{\"ru\"}, \"source-channel\":[]string{\"MIB3.0\"}, \"source-service\":[]string{\"/authn.AuthnService/AccountUpdate\"}, \"user-agent\":[]string{\"grpc-java-okhttp/1.54.1\"}, \"x-forwarded-for\":[]string{\"172.23.20.6\"}, \"x-forwarded-host\":[]string{\"dev-apigw-grpc.fortebank.com:443\"}, \"x-forwarded-port\":[]string{\"443\"}, \"x-forwarded-proto\":[]string{\"https\"}, \"x-forwarded-scheme\":[]string{\"https\"}, \"x-real-ip\":[]string{\"172.23.20.6\"}, \"x-request-id\":[]string{\"4409a575-f074-4641-b935-6a3aca4339eb\"}, \"x-scheme\":[]string{\"https\"}}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"4409a575-f074-4641-b935-6a3aca4339eb","trace-id":"","span-id":"","time":"2024-04-03T10:26:55+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"4409a575-f074-4641-b935-6a3aca4339eb","trace-id":"","span-id":"","time":"2024-04-03T10:26:55+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"4409a575-f074-4641-b935-6a3aca4339eb","trace-id":"","span-id":"","time":"2024-04-03T10:26:55+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"4409a575-f074-4641-b935-6a3aca4339eb","trace-id":"","span-id":"","time":"2024-04-03T10:26:55+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"4409a575-f074-4641-b935-6a3aca4339eb","trace-id":"","span-id":"","time":"2024-04-03T10:26:55+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"4409a575-f074-4641-b935-6a3aca4339eb","trace-id":"","span-id":"","time":"2024-04-03T10:26:55+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"4409a575-f074-4641-b935-6a3aca4339eb","trace-id":"","span-id":"","time":"2024-04-03T10:26:55+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"4409a575-f074-4641-b935-6a3aca4339eb","trace-id":"","span-id":"","time":"2024-04-03T10:26:55+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
==================
WARNING: DATA RACE
Write at 0x00c00032d890 by goroutine 5176:
  runtime.mapassign_faststr()
      /usr/local/go/src/runtime/map_faststr.go:203 +0x0
  go.unistack.org/micro-meter-prometheus/v3.(*prometheusMeter).Counter()
      /go/pkg/mod/go.unistack.org/micro-meter-prometheus/v3@v3.8.6/prometheus.go:140 +0x56c
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.forwardClientToBackend.func1()
      /build/internal/handler/grpc_copy.go:325 +0xac2

Previous read at 0x00c00032d890 by goroutine 5170:
  runtime.mapaccess2_faststr()
      /usr/local/go/src/runtime/map_faststr.go:108 +0x0
  go.unistack.org/micro-meter-prometheus/v3.(*prometheusMeter).Counter()
      /go/pkg/mod/go.unistack.org/micro-meter-prometheus/v3@v3.8.6/prometheus.go:127 +0x2ec
  go.unistack.org/micro-broker-kgo/v3.(*hookMeter).OnBrokerWrite()
      /go/pkg/mod/go.unistack.org/micro-broker-kgo/v3@v3.8.17/meter.go:81 +0x2c2
  github.com/twmb/franz-go/pkg/kgo.(*brokerCxn).writeRequest.func1()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/broker.go:1035 +0x225
  github.com/twmb/franz-go/pkg/kgo.hooks.each()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/hooks.go:32 +0xa59
  github.com/twmb/franz-go/pkg/kgo.(*brokerCxn).writeRequest()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/broker.go:1033 +0x79f
  github.com/twmb/franz-go/pkg/kgo.(*broker).handleReq()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/broker.go:441 +0x11cc
  github.com/twmb/franz-go/pkg/kgo.(*broker).handleReqs()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/broker.go:286 +0xfb
  github.com/twmb/franz-go/pkg/kgo.(*broker).do.gowrap1()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/broker.go:260 +0xab

Goroutine 5176 (running) created at:
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.forwardClientToBackend.func2()
      /build/internal/handler/grpc_copy.go:336 +0x2e
  runtime/pprof.Do()
      /usr/local/go/src/runtime/pprof/runtime.go:51 +0x117
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.forwardClientToBackend()
      /build/internal/handler/grpc_copy.go:335 +0x945
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.GRPCCopy()
      /build/internal/handler/grpc_copy.go:39 +0x404
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.(*HTTPHandlerSwapper).ServeGRPC()
      /build/internal/handler/handler.go:584 +0x325c
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.(*HTTPHandlerSwapper).ServeGRPC-fm()
      <autogenerated>:1 +0x64
  go.unistack.org/micro-server-grpc/v3.(*Server).handler()
      /go/pkg/mod/go.unistack.org/micro-server-grpc/v3@v3.10.13/grpc.go:306 +0x183b
  go.unistack.org/micro-server-grpc/v3.(*Server).handler-fm()
      <autogenerated>:1 +0x64
  google.golang.org/grpc.(*Server).processStreamingRPC()
      /go/pkg/mod/google.golang.org/grpc@v1.62.1/server.go:1680 +0x1fd9
  google.golang.org/grpc.(*Server).handleStream()
      /go/pkg/mod/google.golang.org/grpc@v1.62.1/server.go:1807 +0x1755
  google.golang.org/grpc.(*Server).serveStreams.func2.1()
      /go/pkg/mod/google.golang.org/grpc@v1.62.1/server.go:1027 +0x158

Goroutine 5170 (finished) created at:
  github.com/twmb/franz-go/pkg/kgo.(*broker).do()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/broker.go:260 +0x2e4
  github.com/twmb/franz-go/pkg/kgo.(*source).fetch()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/source.go:740 +0x491
  github.com/twmb/franz-go/pkg/kgo.(*source).loopFetch()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/source.go:657 +0x4c6
  github.com/twmb/franz-go/pkg/kgo.(*source).maybeConsume.gowrap1()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/source.go:587 +0x33
==================
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"4409a575-f074-4641-b935-6a3aca4339eb","trace-id":"","span-id":"","time":"2024-04-03T10:26:55+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"4409a575-f074-4641-b935-6a3aca4339eb","trace-id":"","span-id":"","time":"2024-04-03T10:26:55+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"4409a575-f074-4641-b935-6a3aca4339eb","trace-id":"","span-id":"","time":"2024-04-03T10:26:55+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"4409a575-f074-4641-b935-6a3aca4339eb","trace-id":"","span-id":"","time":"2024-04-03T10:26:55+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"4409a575-f074-4641-b935-6a3aca4339eb","trace-id":"","span-id":"","time":"2024-04-03T10:26:55+05:00","message":"forwardBackendToClient src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"4409a575-f074-4641-b935-6a3aca4339eb","trace-id":"","span-id":"","time":"2024-04-03T10:26:55+05:00","message":"forwardBackendToClient set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"4409a575-f074-4641-b935-6a3aca4339eb","trace-id":"","span-id":"","time":"2024-04-03T10:26:55+05:00","message":"forwardBackendToClient src.Header"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"4409a575-f074-4641-b935-6a3aca4339eb","trace-id":"","span-id":"","time":"2024-04-03T10:26:55+05:00","message":"forwardBackendToClient dst.SetHeader"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"4409a575-f074-4641-b935-6a3aca4339eb","trace-id":"","span-id":"","time":"2024-04-03T10:26:55+05:00","message":"forwardBackendToClient try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"4409a575-f074-4641-b935-6a3aca4339eb","trace-id":"","span-id":"","time":"2024-04-03T10:26:55+05:00","message":"forwardBackendToClient dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"4409a575-f074-4641-b935-6a3aca4339eb","trace-id":"","span-id":"","time":"2024-04-03T10:26:55+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"4409a575-f074-4641-b935-6a3aca4339eb","trace-id":"","span-id":"","time":"2024-04-03T10:26:55+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"4409a575-f074-4641-b935-6a3aca4339eb","trace-id":"","span-id":"","time":"2024-04-03T10:26:55+05:00","message":"forwardBackendToClient src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"4409a575-f074-4641-b935-6a3aca4339eb","trace-id":"","span-id":"","time":"2024-04-03T10:26:55+05:00","message":"b2cErr := <-b2cErrChan: err: EOF"}
==================
WARNING: DATA RACE
Read at 0x00c00032d890 by goroutine 5188:
  runtime.mapaccess2_faststr()
      /usr/local/go/src/runtime/map_faststr.go:108 +0x0
  go.unistack.org/micro-meter-prometheus/v3.(*prometheusMeter).Counter()
      /go/pkg/mod/go.unistack.org/micro-meter-prometheus/v3@v3.8.6/prometheus.go:127 +0x2ec
  go.unistack.org/micro-broker-kgo/v3.(*hookMeter).OnBrokerWrite()
      /go/pkg/mod/go.unistack.org/micro-broker-kgo/v3@v3.8.17/meter.go:81 +0x2c2
  github.com/twmb/franz-go/pkg/kgo.(*brokerCxn).writeRequest.func1()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/broker.go:1035 +0x225
  github.com/twmb/franz-go/pkg/kgo.hooks.each()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/hooks.go:32 +0xa59
  github.com/twmb/franz-go/pkg/kgo.(*brokerCxn).writeRequest()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/broker.go:1033 +0x79f
  github.com/twmb/franz-go/pkg/kgo.(*broker).handleReq()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/broker.go:441 +0x11cc
  github.com/twmb/franz-go/pkg/kgo.(*broker).handleReqs()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/broker.go:286 +0xfb
  github.com/twmb/franz-go/pkg/kgo.(*broker).do.gowrap1()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/broker.go:260 +0xab

Previous write at 0x00c00032d890 by goroutine 5176:
  runtime.mapassign_faststr()
      /usr/local/go/src/runtime/map_faststr.go:203 +0x0
  go.unistack.org/micro-meter-prometheus/v3.(*prometheusMeter).Counter()
      /go/pkg/mod/go.unistack.org/micro-meter-prometheus/v3@v3.8.6/prometheus.go:140 +0x56c
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.forwardClientToBackend.func1()
      /build/internal/handler/grpc_copy.go:326 +0x1e1

Goroutine 5188 (running) created at:
  github.com/twmb/franz-go/pkg/kgo.(*broker).do()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/broker.go:260 +0x2e4
  github.com/twmb/franz-go/pkg/kgo.(*broker).waitResp()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/broker.go:275 +0x1ea
  github.com/twmb/franz-go/pkg/kgo.(*retryable).Request()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/client.go:1205 +0x1ec
  github.com/twmb/franz-go/pkg/kgo.(*Client).handleReqWithCoordinator()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/client.go:1926 +0x252
  github.com/twmb/franz-go/pkg/kgo.(*Client).handleCoordinatorReqSimple()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/client.go:1862 +0x1fe
  github.com/twmb/franz-go/pkg/kgo.(*Client).handleCoordinatorReq()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/client.go:1840 +0xb9d
  github.com/twmb/franz-go/pkg/kgo.(*Client).shardedRequest()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/client.go:1365 +0xf4e
  github.com/twmb/franz-go/pkg/kgo.(*Client).Request()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/client.go:1134 +0x58
  github.com/twmb/franz-go/pkg/kmsg.(*OffsetCommitRequest).RequestWith()
      /go/pkg/mod/github.com/twmb/franz-go/pkg/kmsg@v1.7.0/generated.go:10207 +0x5d
  github.com/twmb/franz-go/pkg/kgo.(*groupConsumer).commit.func2()
      /go/pkg/mod/github.com/twmb/franz-go@v1.16.1/pkg/kgo/consumer_group.go:2825 +0x87c

Goroutine 5176 (finished) created at:
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.forwardClientToBackend.func2()
      /build/internal/handler/grpc_copy.go:336 +0x2e
  runtime/pprof.Do()
      /usr/local/go/src/runtime/pprof/runtime.go:51 +0x117
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.forwardClientToBackend()
      /build/internal/handler/grpc_copy.go:335 +0x945
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.GRPCCopy()
      /build/internal/handler/grpc_copy.go:39 +0x404
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.(*HTTPHandlerSwapper).ServeGRPC()
      /build/internal/handler/handler.go:584 +0x325c
  gitlab.fortebank.com/api-gateway/apigw/internal/handler.(*HTTPHandlerSwapper).ServeGRPC-fm()
      <autogenerated>:1 +0x64
  go.unistack.org/micro-server-grpc/v3.(*Server).handler()
      /go/pkg/mod/go.unistack.org/micro-server-grpc/v3@v3.10.13/grpc.go:306 +0x183b
  go.unistack.org/micro-server-grpc/v3.(*Server).handler-fm()
      <autogenerated>:1 +0x64
  google.golang.org/grpc.(*Server).processStreamingRPC()
      /go/pkg/mod/google.golang.org/grpc@v1.62.1/server.go:1680 +0x1fd9
  google.golang.org/grpc.(*Server).handleStream()
      /go/pkg/mod/google.golang.org/grpc@v1.62.1/server.go:1807 +0x1755
  google.golang.org/grpc.(*Server).serveStreams.func2.1()
      /go/pkg/mod/google.golang.org/grpc@v1.62.1/server.go:1027 +0x158
==================
{"level":"debug","x-request-id":"90d98296-4b43-49ef-8ce8-76d779e4fa05","time":"2024-04-03T10:26:55+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"90d98296-4b43-49ef-8ce8-76d779e4fa05","time":"2024-04-03T10:26:55+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Token"}
{"level":"info","x-request-id":"90d98296-4b43-49ef-8ce8-76d779e4fa05","time":"2024-04-03T10:26:55+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"90d98296-4b43-49ef-8ce8-76d779e4fa05","time":"2024-04-03T10:26:55+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"90d98296-4b43-49ef-8ce8-76d779e4fa05","time":"2024-04-03T10:26:55+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"90d98296-4b43-49ef-8ce8-76d779e4fa05","time":"2024-04-03T10:26:55+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"90d98296-4b43-49ef-8ce8-76d779e4fa05","time":"2024-04-03T10:26:55+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"90d98296-4b43-49ef-8ce8-76d779e4fa05","time":"2024-04-03T10:26:55+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"90d98296-4b43-49ef-8ce8-76d779e4fa05","time":"2024-04-03T10:26:55+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"90d98296-4b43-49ef-8ce8-76d779e4fa05","time":"2024-04-03T10:26:55+05:00","message":"jwt.extract jwt claims empty"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"90d98296-4b43-49ef-8ce8-76d779e4fa05","trace-id":"","span-id":"","time":"2024-04-03T10:26:55+05:00","message":"grpc request with md: metadata.MD{\":authority\":[]string{\"upstream_balancer\"}, \":path\":[]string{\"/authn.AuthnService/Token\"}, \"authorization\":[]string{\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMTU1NzkiLCJleHAiOjE3MTI5ODYwMDYsIm5iZiI6MTcxMjEyMjAwNiwiaWF0IjoxNzEyMTIyMDA2LCJqdGkiOiI3ZDAyYjE4OC05ZWExLTQ5MzAtOTQ4Zi03NWMyZjllZWZjN2UiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsInBob25lIjoiKzc3MDU1MTQ4NDQ2Iiwic2NvcGUiOiJvZmZsaW5lX2FjY2VzcyIsInRva2VuX3R5cGUiOiJhY2Nlc3NfdG9rZW4iLCJ1c2VyX2FjdGlvbiI6InJlZ2lzdHJhdGlvbiIsInVzZXJfcm9sZXMiOlsibWliX3VzZXIiXSwidXNlcm5hbWUiOiI4NTAzMjMwNTA1MDUifX0.OHt7hs8f1Qy3qkHvN7aDDJ5cZ1wSn6nXpIkSJrkkFTTkc2CMn2NfbUd0I-AFAtD63iuwAyZpmRbW33lhaCjwUbI0-ehzHJrKQauyDR8Ep9VdK3zc1HDXN0leVLg5gEW6ih4EZPNGNzHOe1_-T1kNJRZHPK0azyIi42_Adjn5OyT1k2FWOPlNX9Z-6R3BE2GLibM77kj4dwFemErHh_ONd5NFSYSPnMB_-5aWWt6mBKH9JHB0somj2_G9Zm-eLFYKVlhjxAg3urDvrXdgDUUPJ1vuEBLppfYyr06Wzew4Akmejyb-sQt7h6e9R_vbhgUC5OfkMjBugPkN7UVw7jMeJg\"}, \"client-ip\":[]string{\"10.233.100.0\"}, \"content-type\":[]string{\"application/grpc\"}, \"grpc-accept-encoding\":[]string{\"gzip\"}, \"language\":[]string{\"ru\"}, \"source-channel\":[]string{\"MIB3.0\"}, \"source-service\":[]string{\"/authn.AuthnService/Token\"}, \"user-agent\":[]string{\"grpc-java-okhttp/1.54.1\"}, \"x-forwarded-for\":[]string{\"10.233.100.0\"}, \"x-forwarded-host\":[]string{\"dev-apigw-grpc.fortebank.com:443\"}, \"x-forwarded-port\":[]string{\"443\"}, \"x-forwarded-proto\":[]string{\"https\"}, \"x-forwarded-scheme\":[]string{\"https\"}, \"x-real-ip\":[]string{\"10.233.100.0\"}, \"x-request-id\":[]string{\"90d98296-4b43-49ef-8ce8-76d779e4fa05\"}, \"x-scheme\":[]string{\"https\"}}"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"90d98296-4b43-49ef-8ce8-76d779e4fa05","trace-id":"","span-id":"","time":"2024-04-03T10:26:55+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"90d98296-4b43-49ef-8ce8-76d779e4fa05","trace-id":"","span-id":"","time":"2024-04-03T10:26:55+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"90d98296-4b43-49ef-8ce8-76d779e4fa05","trace-id":"","span-id":"","time":"2024-04-03T10:26:55+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"90d98296-4b43-49ef-8ce8-76d779e4fa05","trace-id":"","span-id":"","time":"2024-04-03T10:26:55+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"90d98296-4b43-49ef-8ce8-76d779e4fa05","trace-id":"","span-id":"","time":"2024-04-03T10:26:55+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"90d98296-4b43-49ef-8ce8-76d779e4fa05","trace-id":"","span-id":"","time":"2024-04-03T10:26:55+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"90d98296-4b43-49ef-8ce8-76d779e4fa05","trace-id":"","span-id":"","time":"2024-04-03T10:26:55+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"90d98296-4b43-49ef-8ce8-76d779e4fa05","trace-id":"","span-id":"","time":"2024-04-03T10:26:55+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"90d98296-4b43-49ef-8ce8-76d779e4fa05","trace-id":"","span-id":"","time":"2024-04-03T10:26:55+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"90d98296-4b43-49ef-8ce8-76d779e4fa05","trace-id":"","span-id":"","time":"2024-04-03T10:26:55+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"90d98296-4b43-49ef-8ce8-76d779e4fa05","trace-id":"","span-id":"","time":"2024-04-03T10:26:55+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"90d98296-4b43-49ef-8ce8-76d779e4fa05","trace-id":"","span-id":"","time":"2024-04-03T10:26:55+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"90d98296-4b43-49ef-8ce8-76d779e4fa05","trace-id":"","span-id":"","time":"2024-04-03T10:26:55+05:00","message":"forwardBackendToClient src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"90d98296-4b43-49ef-8ce8-76d779e4fa05","trace-id":"","span-id":"","time":"2024-04-03T10:26:55+05:00","message":"forwardBackendToClient set Write timeout 5s"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"90d98296-4b43-49ef-8ce8-76d779e4fa05","trace-id":"","span-id":"","time":"2024-04-03T10:26:55+05:00","message":"forwardBackendToClient src.Header"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"90d98296-4b43-49ef-8ce8-76d779e4fa05","trace-id":"","span-id":"","time":"2024-04-03T10:26:55+05:00","message":"forwardBackendToClient dst.SetHeader"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"90d98296-4b43-49ef-8ce8-76d779e4fa05","trace-id":"","span-id":"","time":"2024-04-03T10:26:55+05:00","message":"forwardBackendToClient try dst.SendMsg"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"90d98296-4b43-49ef-8ce8-76d779e4fa05","trace-id":"","span-id":"","time":"2024-04-03T10:26:55+05:00","message":"forwardBackendToClient dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"90d98296-4b43-49ef-8ce8-76d779e4fa05","trace-id":"","span-id":"","time":"2024-04-03T10:26:55+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"90d98296-4b43-49ef-8ce8-76d779e4fa05","trace-id":"","span-id":"","time":"2024-04-03T10:26:55+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"90d98296-4b43-49ef-8ce8-76d779e4fa05","trace-id":"","span-id":"","time":"2024-04-03T10:26:55+05:00","message":"forwardBackendToClient src.RecvMsg err EOF"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"90d98296-4b43-49ef-8ce8-76d779e4fa05","trace-id":"","span-id":"","time":"2024-04-03T10:26:55+05:00","message":"b2cErr := <-b2cErrChan: err: EOF"}
{"level":"debug","x-request-id":"8aee89cbe84881485fb7b8ee8d8834b0","time":"2024-04-03T10:32:34+05:00","message":"information handler: 0x2165040 method: GET url: /favicon.ico"}
{"level":"info","time":"2024-04-03T10:32:34+05:00","message":"not found handler url: /favicon.ico"}
{"level":"info","client_ctn":"","client_tin":"","endpoint":"unknown","http_addr":"10.233.100.0","http_code":404,"http_method":"GET","http_rsptime":0.001277176,"http_uri":"/favicon.ico","x-request-id":"8aee89cbe84881485fb7b8ee8d8834b0","time":"2024-04-03T10:32:34+05:00"}
HDR http.Header{"Accept":[]string{"application/json, text/plain, */*"}, "Accept-Encoding":[]string{"gzip, deflate, br, zstd"}, "Accept-Language":[]string{"ru,ru-RU;q=0.9,en-US;q=0.8,en;q=0.7"}, "Content-Length":[]string{"467"}, "Content-Type":[]string{"application/json"}, "Origin":[]string{"https://dev-apigw.fortebank.com"}, "Referer":[]string{"https://dev-apigw.fortebank.com/authn.AuthnService/ui/?data=Y2xpZW50X2lkPW1pYl8zMF9hbmRyb2lkJnJlZGlyZWN0X3VyaT1odHRwczovL2ZvcnRlLmt6L2FwcC9hdXRoJnNjb3BlPW9mZmxpbmVfYWNjZXNzJnJlc3BvbnNlX3R5cGU9Y29kZSZjb2RlX2NoYWxsZW5nZT1GRmtZcDhlMTF5MW8tQ2p6WElqTURfNC1aUnQ1dUdJWEh1WENObE5RTFlZJmNvZGVfY2hhbGxlbmdlX21ldGhvZD1TMjU2JnJlc3BvbnNlX21vZGU9cXVlcnkmc3RhdGU9MDNiZGFmMmItYWQ1MS00&theme=dark"}, "Sec-Ch-Ua":[]string{"\"Chromium\";v=\"122\", \"Not(A:Brand\";v=\"24\", \"Android WebView\";v=\"122\""}, "Sec-Ch-Ua-Mobile":[]string{"?1"}, "Sec-Ch-Ua-Platform":[]string{"\"Android\""}, "Sec-Fetch-Dest":[]string{"empty"}, "Sec-Fetch-Mode":[]string{"cors"}, "Sec-Fetch-Site":[]string{"same-origin"}, "User-Agent":[]string{"Android"}, "X-Forwarded-For":[]string{"10.233.100.0, 10.233.126.141"}, "X-Forwarded-Host":[]string{"dev-apigw.fortebank.com"}, "X-Forwarded-Port":[]string{"443"}, "X-Forwarded-Proto":[]string{"https"}, "X-Forwarded-Scheme":[]string{"https"}, "X-Real-Ip":[]string{"10.233.100.0"}, "X-Request-Id":[]string{"7cc502a7f69790797a66017678319435"}, "X-Requested-With":[]string{"kz.forte.bank.debug"}, "X-Scheme":[]string{"https"}}
{"level":"debug","x-request-id":"7cc502a7f69790797a66017678319435","trace-id":"","span-id":"","time":"2024-04-03T10:33:08+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"7cc502a7f69790797a66017678319435","trace-id":"","span-id":"","time":"2024-04-03T10:33:08+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Login"}
{"level":"debug","x-request-id":"7cc502a7f69790797a66017678319435","trace-id":"","span-id":"","time":"2024-04-03T10:33:08+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"debug","x-request-id":"7cc502a7f69790797a66017678319435","trace-id":"","span-id":"","time":"2024-04-03T10:33:08+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"debug","x-request-id":"7cc502a7f69790797a66017678319435","trace-id":"","span-id":"","time":"2024-04-03T10:33:08+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"debug","x-request-id":"7cc502a7f69790797a66017678319435","trace-id":"","span-id":"","time":"2024-04-03T10:33:08+05:00","message":"header.cors try to set Access-Control-Allow-Origin with [*]"}
{"level":"debug","x-request-id":"7cc502a7f69790797a66017678319435","trace-id":"","span-id":"","time":"2024-04-03T10:33:08+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"info","x-request-id":"7cc502a7f69790797a66017678319435","trace-id":"","span-id":"","time":"2024-04-03T10:33:08+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"7cc502a7f69790797a66017678319435","trace-id":"","span-id":"","time":"2024-04-03T10:33:08+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"7cc502a7f69790797a66017678319435","trace-id":"","span-id":"","time":"2024-04-03T10:33:08+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"7cc502a7f69790797a66017678319435","trace-id":"","span-id":"","time":"2024-04-03T10:33:08+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"7cc502a7f69790797a66017678319435","trace-id":"","span-id":"","time":"2024-04-03T10:33:08+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"7cc502a7f69790797a66017678319435","trace-id":"","span-id":"","time":"2024-04-03T10:33:08+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"7cc502a7f69790797a66017678319435","trace-id":"","span-id":"","time":"2024-04-03T10:33:08+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"7cc502a7f69790797a66017678319435","trace-id":"","span-id":"","time":"2024-04-03T10:33:08+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"7cc502a7f69790797a66017678319435","trace-id":"","span-id":"","time":"2024-04-03T10:33:08+05:00","message":"start to proxy url: /authn.AuthnService/v1/login via http://authn-service:80"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"7cc502a7f69790797a66017678319435","trace-id":"","span-id":"","time":"2024-04-03T10:33:08+05:00","message":"stop to proxy url: /authn.AuthnService/v1/login via http://authn-service:80"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"7cc502a7f69790797a66017678319435","trace-id":"","span-id":"","time":"2024-04-03T10:33:08+05:00","message":"skip hook authn.cookie"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"7cc502a7f69790797a66017678319435","trace-id":"","span-id":"","time":"2024-04-03T10:33:08+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"7cc502a7f69790797a66017678319435","trace-id":"","span-id":"","time":"2024-04-03T10:33:08+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"7cc502a7f69790797a66017678319435","trace-id":"","span-id":"","time":"2024-04-03T10:33:08+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"7cc502a7f69790797a66017678319435","trace-id":"","span-id":"","time":"2024-04-03T10:33:08+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"7cc502a7f69790797a66017678319435","trace-id":"","span-id":"","time":"2024-04-03T10:33:08+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"7cc502a7f69790797a66017678319435","trace-id":"","span-id":"","time":"2024-04-03T10:33:08+05:00","message":"skip hook jwt.check"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"7cc502a7f69790797a66017678319435","trace-id":"","span-id":"","time":"2024-04-03T10:33:08+05:00","message":"run hook header.cors"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"7cc502a7f69790797a66017678319435","trace-id":"","span-id":"","time":"2024-04-03T10:33:08+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"7cc502a7f69790797a66017678319435","trace-id":"","span-id":"","time":"2024-04-03T10:33:08+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"7cc502a7f69790797a66017678319435","trace-id":"","span-id":"","time":"2024-04-03T10:33:08+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"7cc502a7f69790797a66017678319435","trace-id":"","span-id":"","time":"2024-04-03T10:33:08+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"7cc502a7f69790797a66017678319435","trace-id":"","span-id":"","time":"2024-04-03T10:33:08+05:00","message":"end hook header.cors"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"7cc502a7f69790797a66017678319435","trace-id":"","span-id":"","time":"2024-04-03T10:33:08+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"7cc502a7f69790797a66017678319435","trace-id":"","span-id":"","time":"2024-04-03T10:33:08+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"7cc502a7f69790797a66017678319435","trace-id":"","span-id":"","time":"2024-04-03T10:33:08+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"7cc502a7f69790797a66017678319435","trace-id":"","span-id":"","time":"2024-04-03T10:33:08+05:00","message":"skip hook jwt.extract"}
HDR http.Header{"Accept":[]string{"application/json, text/plain, */*"}, "Accept-Encoding":[]string{"gzip, deflate, br, zstd"}, "Accept-Language":[]string{"ru,ru-RU;q=0.9,en-US;q=0.8,en;q=0.7"}, "Content-Length":[]string{"334"}, "Content-Type":[]string{"application/json"}, "Origin":[]string{"https://dev-apigw.fortebank.com"}, "Referer":[]string{"https://dev-apigw.fortebank.com/authn.AuthnService/ui/otp"}, "Sec-Ch-Ua":[]string{"\"Chromium\";v=\"122\", \"Not(A:Brand\";v=\"24\", \"Android WebView\";v=\"122\""}, "Sec-Ch-Ua-Mobile":[]string{"?1"}, "Sec-Ch-Ua-Platform":[]string{"\"Android\""}, "Sec-Fetch-Dest":[]string{"empty"}, "Sec-Fetch-Mode":[]string{"cors"}, "Sec-Fetch-Site":[]string{"same-origin"}, "User-Agent":[]string{"Android"}, "X-Forwarded-For":[]string{"10.233.100.0, 10.233.126.141"}, "X-Forwarded-Host":[]string{"dev-apigw.fortebank.com"}, "X-Forwarded-Port":[]string{"443"}, "X-Forwarded-Proto":[]string{"https"}, "X-Forwarded-Scheme":[]string{"https"}, "X-Real-Ip":[]string{"10.233.100.0"}, "X-Request-Id":[]string{"e6e96d40c7e5da47267c4290ea79ba8f"}, "X-Requested-With":[]string{"kz.forte.bank.debug"}, "X-Scheme":[]string{"https"}}
{"level":"debug","x-request-id":"e6e96d40c7e5da47267c4290ea79ba8f","trace-id":"","span-id":"","time":"2024-04-03T10:33:15+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"e6e96d40c7e5da47267c4290ea79ba8f","trace-id":"","span-id":"","time":"2024-04-03T10:33:15+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Login"}
{"level":"debug","x-request-id":"e6e96d40c7e5da47267c4290ea79ba8f","trace-id":"","span-id":"","time":"2024-04-03T10:33:15+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"debug","x-request-id":"e6e96d40c7e5da47267c4290ea79ba8f","trace-id":"","span-id":"","time":"2024-04-03T10:33:15+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"debug","x-request-id":"e6e96d40c7e5da47267c4290ea79ba8f","trace-id":"","span-id":"","time":"2024-04-03T10:33:15+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"debug","x-request-id":"e6e96d40c7e5da47267c4290ea79ba8f","trace-id":"","span-id":"","time":"2024-04-03T10:33:15+05:00","message":"header.cors try to set Access-Control-Allow-Origin with [*]"}
{"level":"debug","x-request-id":"e6e96d40c7e5da47267c4290ea79ba8f","trace-id":"","span-id":"","time":"2024-04-03T10:33:15+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"info","x-request-id":"e6e96d40c7e5da47267c4290ea79ba8f","trace-id":"","span-id":"","time":"2024-04-03T10:33:15+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"e6e96d40c7e5da47267c4290ea79ba8f","trace-id":"","span-id":"","time":"2024-04-03T10:33:15+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"e6e96d40c7e5da47267c4290ea79ba8f","trace-id":"","span-id":"","time":"2024-04-03T10:33:15+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"e6e96d40c7e5da47267c4290ea79ba8f","trace-id":"","span-id":"","time":"2024-04-03T10:33:15+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"e6e96d40c7e5da47267c4290ea79ba8f","trace-id":"","span-id":"","time":"2024-04-03T10:33:15+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"e6e96d40c7e5da47267c4290ea79ba8f","trace-id":"","span-id":"","time":"2024-04-03T10:33:15+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"e6e96d40c7e5da47267c4290ea79ba8f","trace-id":"","span-id":"","time":"2024-04-03T10:33:15+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"e6e96d40c7e5da47267c4290ea79ba8f","trace-id":"","span-id":"","time":"2024-04-03T10:33:15+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"e6e96d40c7e5da47267c4290ea79ba8f","trace-id":"","span-id":"","time":"2024-04-03T10:33:15+05:00","message":"start to proxy url: /authn.AuthnService/v1/login via http://authn-service:80"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"e6e96d40c7e5da47267c4290ea79ba8f","trace-id":"","span-id":"","time":"2024-04-03T10:33:15+05:00","message":"stop to proxy url: /authn.AuthnService/v1/login via http://authn-service:80"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"e6e96d40c7e5da47267c4290ea79ba8f","trace-id":"","span-id":"","time":"2024-04-03T10:33:15+05:00","message":"skip hook authn.cookie"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"e6e96d40c7e5da47267c4290ea79ba8f","trace-id":"","span-id":"","time":"2024-04-03T10:33:15+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"e6e96d40c7e5da47267c4290ea79ba8f","trace-id":"","span-id":"","time":"2024-04-03T10:33:15+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"e6e96d40c7e5da47267c4290ea79ba8f","trace-id":"","span-id":"","time":"2024-04-03T10:33:15+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"e6e96d40c7e5da47267c4290ea79ba8f","trace-id":"","span-id":"","time":"2024-04-03T10:33:15+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"e6e96d40c7e5da47267c4290ea79ba8f","trace-id":"","span-id":"","time":"2024-04-03T10:33:15+05:00","message":"skip hook header.copy"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"e6e96d40c7e5da47267c4290ea79ba8f","trace-id":"","span-id":"","time":"2024-04-03T10:33:15+05:00","message":"skip hook jwt.check"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"e6e96d40c7e5da47267c4290ea79ba8f","trace-id":"","span-id":"","time":"2024-04-03T10:33:15+05:00","message":"run hook header.cors"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"e6e96d40c7e5da47267c4290ea79ba8f","trace-id":"","span-id":"","time":"2024-04-03T10:33:15+05:00","message":"header.cors try to set Access-Control-Allow-Credentials with [true]"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"e6e96d40c7e5da47267c4290ea79ba8f","trace-id":"","span-id":"","time":"2024-04-03T10:33:15+05:00","message":"header.cors try to set Access-Control-Allow-Headers with [X-Context,DNT,X-CustomHeader,X-OwnerContext,X-PerformerContext,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Authentication-Chain,Source,X-MerchantContext]"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"e6e96d40c7e5da47267c4290ea79ba8f","trace-id":"","span-id":"","time":"2024-04-03T10:33:15+05:00","message":"header.cors try to set Access-Control-Allow-Methods with [GET, POST, PUT, DELETE, OPTIONS]"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"e6e96d40c7e5da47267c4290ea79ba8f","trace-id":"","span-id":"","time":"2024-04-03T10:33:15+05:00","message":"header.cors try to set Access-Control-Allow-Origin with [*]"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"e6e96d40c7e5da47267c4290ea79ba8f","trace-id":"","span-id":"","time":"2024-04-03T10:33:15+05:00","message":"header.cors try to set Access-Control-Max-Age with [3600]"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"e6e96d40c7e5da47267c4290ea79ba8f","trace-id":"","span-id":"","time":"2024-04-03T10:33:15+05:00","message":"end hook header.cors"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"e6e96d40c7e5da47267c4290ea79ba8f","trace-id":"","span-id":"","time":"2024-04-03T10:33:15+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"e6e96d40c7e5da47267c4290ea79ba8f","trace-id":"","span-id":"","time":"2024-04-03T10:33:15+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"e6e96d40c7e5da47267c4290ea79ba8f","trace-id":"","span-id":"","time":"2024-04-03T10:33:15+05:00","message":"skip hook jwt.extract"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"e6e96d40c7e5da47267c4290ea79ba8f","trace-id":"","span-id":"","time":"2024-04-03T10:33:15+05:00","message":"skip hook jwt.extract"}
{"level":"debug","x-request-id":"53fd238d-c5eb-4386-8f25-cb44ee504441","time":"2024-04-03T10:33:18+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"53fd238d-c5eb-4386-8f25-cb44ee504441","time":"2024-04-03T10:33:18+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Token"}
{"level":"info","x-request-id":"53fd238d-c5eb-4386-8f25-cb44ee504441","time":"2024-04-03T10:33:18+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"53fd238d-c5eb-4386-8f25-cb44ee504441","time":"2024-04-03T10:33:18+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"53fd238d-c5eb-4386-8f25-cb44ee504441","time":"2024-04-03T10:33:18+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"53fd238d-c5eb-4386-8f25-cb44ee504441","time":"2024-04-03T10:33:18+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"53fd238d-c5eb-4386-8f25-cb44ee504441","time":"2024-04-03T10:33:18+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"53fd238d-c5eb-4386-8f25-cb44ee504441","time":"2024-04-03T10:33:18+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"53fd238d-c5eb-4386-8f25-cb44ee504441","time":"2024-04-03T10:33:18+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"53fd238d-c5eb-4386-8f25-cb44ee504441","time":"2024-04-03T10:33:18+05:00","message":"jwt.extract jwt claims empty"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"53fd238d-c5eb-4386-8f25-cb44ee504441","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"grpc request with md: metadata.MD{\":authority\":[]string{\"upstream_balancer\"}, \":path\":[]string{\"/authn.AuthnService/Token\"}, \"client-ip\":[]string{\"172.23.20.6\"}, \"content-type\":[]string{\"application/grpc\"}, \"grpc-accept-encoding\":[]string{\"gzip\"}, \"language\":[]string{\"ru\"}, \"source-channel\":[]string{\"MIB3.0\"}, \"source-service\":[]string{\"/authn.AuthnService/Token\"}, \"user-agent\":[]string{\"grpc-java-okhttp/1.54.1\"}, \"x-forwarded-for\":[]string{\"172.23.20.6\"}, \"x-forwarded-host\":[]string{\"dev-apigw-grpc.fortebank.com:443\"}, \"x-forwarded-port\":[]string{\"443\"}, \"x-forwarded-proto\":[]string{\"https\"}, \"x-forwarded-scheme\":[]string{\"https\"}, \"x-real-ip\":[]string{\"172.23.20.6\"}, \"x-request-id\":[]string{\"53fd238d-c5eb-4386-8f25-cb44ee504441\"}, \"x-scheme\":[]string{\"https\"}}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"53fd238d-c5eb-4386-8f25-cb44ee504441","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"53fd238d-c5eb-4386-8f25-cb44ee504441","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"53fd238d-c5eb-4386-8f25-cb44ee504441","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"53fd238d-c5eb-4386-8f25-cb44ee504441","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"53fd238d-c5eb-4386-8f25-cb44ee504441","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"53fd238d-c5eb-4386-8f25-cb44ee504441","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"53fd238d-c5eb-4386-8f25-cb44ee504441","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"53fd238d-c5eb-4386-8f25-cb44ee504441","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"53fd238d-c5eb-4386-8f25-cb44ee504441","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"53fd238d-c5eb-4386-8f25-cb44ee504441","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"53fd238d-c5eb-4386-8f25-cb44ee504441","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"53fd238d-c5eb-4386-8f25-cb44ee504441","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"53fd238d-c5eb-4386-8f25-cb44ee504441","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"forwardBackendToClient src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"53fd238d-c5eb-4386-8f25-cb44ee504441","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"forwardBackendToClient set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"53fd238d-c5eb-4386-8f25-cb44ee504441","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"forwardBackendToClient src.Header"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"53fd238d-c5eb-4386-8f25-cb44ee504441","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"forwardBackendToClient dst.SetHeader"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"53fd238d-c5eb-4386-8f25-cb44ee504441","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"forwardBackendToClient try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"53fd238d-c5eb-4386-8f25-cb44ee504441","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"forwardBackendToClient dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"53fd238d-c5eb-4386-8f25-cb44ee504441","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"53fd238d-c5eb-4386-8f25-cb44ee504441","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"53fd238d-c5eb-4386-8f25-cb44ee504441","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"forwardBackendToClient src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"53fd238d-c5eb-4386-8f25-cb44ee504441","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"b2cErr := <-b2cErrChan: err: EOF"}
{"level":"debug","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","time":"2024-04-03T10:33:18+05:00","message":"authn.cookie not found"}
{"level":"debug","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","time":"2024-04-03T10:33:18+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","time":"2024-04-03T10:33:18+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"phone\":\"+77055148446\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"850323050505\"}, \"exp\":1.712986398e+09, \"iat\":1.712122398e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"6da50adb-e9c6-4830-af6a-45af00cb840d\", \"nbf\":1.712122398e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15579\"}"}
{"level":"info","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","time":"2024-04-03T10:33:18+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","time":"2024-04-03T10:33:18+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"phone\":\"+77055148446\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"850323050505\"}, \"exp\":1.712986398e+09, \"iat\":1.712122398e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"6da50adb-e9c6-4830-af6a-45af00cb840d\", \"nbf\":1.712122398e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15579\"}"}
{"level":"info","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","time":"2024-04-03T10:33:18+05:00","message":"jwt.extract set User-Id to 15579"}
{"level":"info","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","time":"2024-04-03T10:33:18+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","time":"2024-04-03T10:33:18+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"phone\":\"+77055148446\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"850323050505\"}, \"exp\":1.712986398e+09, \"iat\":1.712122398e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"6da50adb-e9c6-4830-af6a-45af00cb840d\", \"nbf\":1.712122398e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15579\"}"}
{"level":"info","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","time":"2024-04-03T10:33:18+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","time":"2024-04-03T10:33:18+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"phone\":\"+77055148446\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"850323050505\"}, \"exp\":1.712986398e+09, \"iat\":1.712122398e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"6da50adb-e9c6-4830-af6a-45af00cb840d\", \"nbf\":1.712122398e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15579\"}"}
{"level":"info","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","time":"2024-04-03T10:33:18+05:00","message":"jwt.extract set Username to 850323050505"}
{"level":"info","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","time":"2024-04-03T10:33:18+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","time":"2024-04-03T10:33:18+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"phone\":\"+77055148446\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"850323050505\"}, \"exp\":1.712986398e+09, \"iat\":1.712122398e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"6da50adb-e9c6-4830-af6a-45af00cb840d\", \"nbf\":1.712122398e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15579\"}"}
{"level":"info","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","time":"2024-04-03T10:33:18+05:00","message":"jwt.extract set Phone to +77055148446"}
{"level":"info","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","time":"2024-04-03T10:33:18+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","time":"2024-04-03T10:33:18+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"phone\":\"+77055148446\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"850323050505\"}, \"exp\":1.712986398e+09, \"iat\":1.712122398e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"6da50adb-e9c6-4830-af6a-45af00cb840d\", \"nbf\":1.712122398e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15579\"}"}
{"level":"info","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","time":"2024-04-03T10:33:18+05:00","message":"jwt.extract set otp_datetime to 1712122398"}
{"level":"info","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","time":"2024-04-03T10:33:18+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","time":"2024-04-03T10:33:18+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"phone\":\"+77055148446\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"850323050505\"}, \"exp\":1.712986398e+09, \"iat\":1.712122398e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"6da50adb-e9c6-4830-af6a-45af00cb840d\", \"nbf\":1.712122398e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15579\"}"}
{"level":"info","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","time":"2024-04-03T10:33:18+05:00","message":"jwt.extract set username to 850323050505"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"grpcConnAdd /clientpass.ClientpassService/StartClientPass 4477aad2-fbe6-4489-b549-1cca98faa2c4"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"brokerClientStream brokerClientStream SendMsg method"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"brokerClientStream try to publish to client.clientpass.startclientpass.in msg with hdr: metadata.Metadata{\"Authorization\":\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMTU1NzkiLCJleHAiOjE3MTI5ODYzOTgsIm5iZiI6MTcxMjEyMjM5OCwiaWF0IjoxNzEyMTIyMzk4LCJqdGkiOiI2ZGE1MGFkYi1lOWM2LTQ4MzAtYWY2YS00NWFmMDBjYjg0MGQiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsInBob25lIjoiKzc3MDU1MTQ4NDQ2Iiwic2NvcGUiOiJvZmZsaW5lX2FjY2VzcyIsInRva2VuX3R5cGUiOiJhY2Nlc3NfdG9rZW4iLCJ1c2VyX2FjdGlvbiI6InJlZ2lzdHJhdGlvbiIsInVzZXJfcm9sZXMiOlsibWliX3VzZXIiXSwidXNlcm5hbWUiOiI4NTAzMjMwNTA1MDUifX0.PfjMV7CvNi1c8EzD1PbBEXYYdn02gb5Ozx4-Utl1oW7IkPIUjRIKd5eLebGiOOA4xDXBywq5VYzm1_QNDZ-EdgGRTYenT8Im-zcPkIwLMJPV_YkBCbPPttCrcdrRRp7XcN10ARdquGnAr91AHV6zwzfMtldvfeKF2lsMJGrBE9lSZKI6COKhlChQmOkXekBp4CJwEL_-Lu0DU6ubzgbIwCZxf_FyYMHI57t4bsRVJtLPXeVYHGAuAtqfVLYOmLJhB1FrJRbrvTdB5skM0nSKWsxwBgOFAvQ4tFlu1J100UoS-hjXWSW94JIqSDnyVemaFQujvX9KHy96uMNw8EzRCA\", \"Client-Ip\":\"10.233.100.0\", \"Content-Type\":\"application/grpc\", \"Language\":\"ru\", \"Otp_datetime\":\"1712122398\", \"Phone\":\"+77055148446\", \"Source-Channel\":\"MIB3.0\", \"Source-Service\":\"/clientpass.ClientpassService/StartClientPass\", \"User-Id\":\"15579\", \"Username\":\"850323050505\", \"X-Forwarded-For\":\"10.233.100.0\", \"X-Forwarded-Port\":\"443\", \"X-Real-Ip\":\"10.233.100.0\", \"X-Request-Id\":\"4477aad2-fbe6-4489-b549-1cca98faa2c4\"}"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"brokerClientStream CloseSend method"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"brokerClientStream CloseSend method"}
{"level":"error","client-ip":"10.233.100.0","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"failed to CloseSend grpc conn: file already closed"}
{"level":"info","X-Request-Id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"get message for service: /clientpass.ClientpassService/StartClientPass with md map[Authorization:Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMTU1NzkiLCJleHAiOjE3MTI5ODYzOTgsIm5iZiI6MTcxMjEyMjM5OCwiaWF0IjoxNzEyMTIyMzk4LCJqdGkiOiI2ZGE1MGFkYi1lOWM2LTQ4MzAtYWY2YS00NWFmMDBjYjg0MGQiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsInBob25lIjoiKzc3MDU1MTQ4NDQ2Iiwic2NvcGUiOiJvZmZsaW5lX2FjY2VzcyIsInRva2VuX3R5cGUiOiJhY2Nlc3NfdG9rZW4iLCJ1c2VyX2FjdGlvbiI6InJlZ2lzdHJhdGlvbiIsInVzZXJfcm9sZXMiOlsibWliX3VzZXIiXSwidXNlcm5hbWUiOiI4NTAzMjMwNTA1MDUifX0.PfjMV7CvNi1c8EzD1PbBEXYYdn02gb5Ozx4-Utl1oW7IkPIUjRIKd5eLebGiOOA4xDXBywq5VYzm1_QNDZ-EdgGRTYenT8Im-zcPkIwLMJPV_YkBCbPPttCrcdrRRp7XcN10ARdquGnAr91AHV6zwzfMtldvfeKF2lsMJGrBE9lSZKI6COKhlChQmOkXekBp4CJwEL_-Lu0DU6ubzgbIwCZxf_FyYMHI57t4bsRVJtLPXeVYHGAuAtqfVLYOmLJhB1FrJRbrvTdB5skM0nSKWsxwBgOFAvQ4tFlu1J100UoS-hjXWSW94JIqSDnyVemaFQujvX9KHy96uMNw8EzRCA Client-Ip:10.233.100.0 Content-Type:application/grpc Language:ru Micro-Topic:apigw.in Otp_datetime:1712122398 Phone:+77055148446 Source-Channel:MIB3.0 Source-Service:/clientpass.ClientpassService/StartClientPass Uber-Trace-Id:2c014c41ea75689e:6bc2f28739fb30d3:551defc41997b048:1 User-Id:15579 Username:850323050505 X-Forwarded-For:10.233.100.0 X-Forwarded-Port:443 X-Real-Ip:10.233.100.0 X-Request-Id:4477aad2-fbe6-4489-b549-1cca98faa2c4]"}
{"level":"info","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"get message for service: /clientpass.ClientpassService/StartClientPass"}
{"level":"debug","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"grpcConnGet: /clientpass.ClientpassService/StartClientPass via 4477aad2-fbe6-4489-b549-1cca98faa2c4"}
{"level":"debug","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"grpc use stream conn: &handler.grpcProxy{grpcStream:(*handler.grpcServerStream)(0xc000668c60), kafkaStream:(*handler.grpcClientStream)(0xc000668d10)} sourceService: /clientpass.ClientpassService/StartClientPass"}
{"level":"info","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"start transfer response from kafka"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"brokerClientStream SetHeader method"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"brokerClientStream SetMsg method"}
{"level":"info","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"stop transfer response from kafka"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"brokerClientStream RecvMsg method data"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"forwardBackendToClient src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"forwardBackendToClient set Write timeout 5s"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"forwardBackendToClient src.Header"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"brokerClientStream Header method"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"forwardBackendToClient dst.SetHeader"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"forwardBackendToClient try dst.SendMsg"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"forwardBackendToClient dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"brokerClientStream Close method"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"brokerClientStream RecvMsg method !s.serverStream && s.recvMsg"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"forwardBackendToClient src.RecvMsg err EOF"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"b2cErr := <-b2cErrChan: err: EOF"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"brokerClientStream Trailer method"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"grpcConnDel /clientpass.ClientpassService/StartClientPass 4477aad2-fbe6-4489-b549-1cca98faa2c4"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"4477aad2-fbe6-4489-b549-1cca98faa2c4","trace-id":"","span-id":"","time":"2024-04-03T10:33:18+05:00","message":"grpc handler exit"}
{"level":"debug","x-request-id":"41e9044d-b4b5-4014-b867-cd4c47dccd5a","time":"2024-04-03T10:33:27+05:00","message":"authn.cookie not found"}
{"level":"debug","x-request-id":"41e9044d-b4b5-4014-b867-cd4c47dccd5a","time":"2024-04-03T10:33:27+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"41e9044d-b4b5-4014-b867-cd4c47dccd5a","time":"2024-04-03T10:33:27+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"phone\":\"+77055148446\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"850323050505\"}, \"exp\":1.712986398e+09, \"iat\":1.712122398e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"6da50adb-e9c6-4830-af6a-45af00cb840d\", \"nbf\":1.712122398e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15579\"}"}
{"level":"info","x-request-id":"41e9044d-b4b5-4014-b867-cd4c47dccd5a","time":"2024-04-03T10:33:27+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"41e9044d-b4b5-4014-b867-cd4c47dccd5a","time":"2024-04-03T10:33:27+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"phone\":\"+77055148446\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"850323050505\"}, \"exp\":1.712986398e+09, \"iat\":1.712122398e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"6da50adb-e9c6-4830-af6a-45af00cb840d\", \"nbf\":1.712122398e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15579\"}"}
{"level":"info","x-request-id":"41e9044d-b4b5-4014-b867-cd4c47dccd5a","time":"2024-04-03T10:33:27+05:00","message":"jwt.extract set User-Id to 15579"}
{"level":"info","x-request-id":"41e9044d-b4b5-4014-b867-cd4c47dccd5a","time":"2024-04-03T10:33:27+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"41e9044d-b4b5-4014-b867-cd4c47dccd5a","time":"2024-04-03T10:33:27+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"phone\":\"+77055148446\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"850323050505\"}, \"exp\":1.712986398e+09, \"iat\":1.712122398e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"6da50adb-e9c6-4830-af6a-45af00cb840d\", \"nbf\":1.712122398e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15579\"}"}
{"level":"info","x-request-id":"41e9044d-b4b5-4014-b867-cd4c47dccd5a","time":"2024-04-03T10:33:27+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"41e9044d-b4b5-4014-b867-cd4c47dccd5a","time":"2024-04-03T10:33:27+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"phone\":\"+77055148446\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"850323050505\"}, \"exp\":1.712986398e+09, \"iat\":1.712122398e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"6da50adb-e9c6-4830-af6a-45af00cb840d\", \"nbf\":1.712122398e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15579\"}"}
{"level":"info","x-request-id":"41e9044d-b4b5-4014-b867-cd4c47dccd5a","time":"2024-04-03T10:33:27+05:00","message":"jwt.extract set Username to 850323050505"}
{"level":"info","x-request-id":"41e9044d-b4b5-4014-b867-cd4c47dccd5a","time":"2024-04-03T10:33:27+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"41e9044d-b4b5-4014-b867-cd4c47dccd5a","time":"2024-04-03T10:33:27+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"phone\":\"+77055148446\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"850323050505\"}, \"exp\":1.712986398e+09, \"iat\":1.712122398e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"6da50adb-e9c6-4830-af6a-45af00cb840d\", \"nbf\":1.712122398e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15579\"}"}
{"level":"info","x-request-id":"41e9044d-b4b5-4014-b867-cd4c47dccd5a","time":"2024-04-03T10:33:27+05:00","message":"jwt.extract set Phone to +77055148446"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"41e9044d-b4b5-4014-b867-cd4c47dccd5a","trace-id":"","span-id":"","time":"2024-04-03T10:33:27+05:00","message":"grpc request with md: metadata.MD{\":authority\":[]string{\"upstream_balancer\"}, \":path\":[]string{\"/catalog.CatalogService/GetServiceRegion\"}, \"authorization\":[]string{\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMTU1NzkiLCJleHAiOjE3MTI5ODYzOTgsIm5iZiI6MTcxMjEyMjM5OCwiaWF0IjoxNzEyMTIyMzk4LCJqdGkiOiI2ZGE1MGFkYi1lOWM2LTQ4MzAtYWY2YS00NWFmMDBjYjg0MGQiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsInBob25lIjoiKzc3MDU1MTQ4NDQ2Iiwic2NvcGUiOiJvZmZsaW5lX2FjY2VzcyIsInRva2VuX3R5cGUiOiJhY2Nlc3NfdG9rZW4iLCJ1c2VyX2FjdGlvbiI6InJlZ2lzdHJhdGlvbiIsInVzZXJfcm9sZXMiOlsibWliX3VzZXIiXSwidXNlcm5hbWUiOiI4NTAzMjMwNTA1MDUifX0.PfjMV7CvNi1c8EzD1PbBEXYYdn02gb5Ozx4-Utl1oW7IkPIUjRIKd5eLebGiOOA4xDXBywq5VYzm1_QNDZ-EdgGRTYenT8Im-zcPkIwLMJPV_YkBCbPPttCrcdrRRp7XcN10ARdquGnAr91AHV6zwzfMtldvfeKF2lsMJGrBE9lSZKI6COKhlChQmOkXekBp4CJwEL_-Lu0DU6ubzgbIwCZxf_FyYMHI57t4bsRVJtLPXeVYHGAuAtqfVLYOmLJhB1FrJRbrvTdB5skM0nSKWsxwBgOFAvQ4tFlu1J100UoS-hjXWSW94JIqSDnyVemaFQujvX9KHy96uMNw8EzRCA\"}, \"client-ip\":[]string{\"172.23.20.6\"}, \"content-type\":[]string{\"application/grpc\"}, \"grpc-accept-encoding\":[]string{\"gzip\"}, \"language\":[]string{\"ru\"}, \"phone\":[]string{\"+77055148446\"}, \"source-channel\":[]string{\"MIB3.0\"}, \"source-service\":[]string{\"/catalog.CatalogService/GetServiceRegion\"}, \"user-agent\":[]string{\"grpc-java-okhttp/1.54.1\"}, \"user-id\":[]string{\"15579\"}, \"username\":[]string{\"850323050505\"}, \"x-forwarded-for\":[]string{\"172.23.20.6\"}, \"x-forwarded-host\":[]string{\"dev-apigw-grpc.fortebank.com:443\"}, \"x-forwarded-port\":[]string{\"443\"}, \"x-forwarded-proto\":[]string{\"https\"}, \"x-forwarded-scheme\":[]string{\"https\"}, \"x-real-ip\":[]string{\"172.23.20.6\"}, \"x-request-id\":[]string{\"41e9044d-b4b5-4014-b867-cd4c47dccd5a\"}, \"x-scheme\":[]string{\"https\"}}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"41e9044d-b4b5-4014-b867-cd4c47dccd5a","trace-id":"","span-id":"","time":"2024-04-03T10:33:27+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"41e9044d-b4b5-4014-b867-cd4c47dccd5a","trace-id":"","span-id":"","time":"2024-04-03T10:33:27+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"41e9044d-b4b5-4014-b867-cd4c47dccd5a","trace-id":"","span-id":"","time":"2024-04-03T10:33:27+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"41e9044d-b4b5-4014-b867-cd4c47dccd5a","trace-id":"","span-id":"","time":"2024-04-03T10:33:27+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"41e9044d-b4b5-4014-b867-cd4c47dccd5a","trace-id":"","span-id":"","time":"2024-04-03T10:33:27+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"41e9044d-b4b5-4014-b867-cd4c47dccd5a","trace-id":"","span-id":"","time":"2024-04-03T10:33:27+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"41e9044d-b4b5-4014-b867-cd4c47dccd5a","trace-id":"","span-id":"","time":"2024-04-03T10:33:27+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"41e9044d-b4b5-4014-b867-cd4c47dccd5a","trace-id":"","span-id":"","time":"2024-04-03T10:33:27+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"41e9044d-b4b5-4014-b867-cd4c47dccd5a","trace-id":"","span-id":"","time":"2024-04-03T10:33:27+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"41e9044d-b4b5-4014-b867-cd4c47dccd5a","trace-id":"","span-id":"","time":"2024-04-03T10:33:27+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"41e9044d-b4b5-4014-b867-cd4c47dccd5a","trace-id":"","span-id":"","time":"2024-04-03T10:33:27+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"41e9044d-b4b5-4014-b867-cd4c47dccd5a","trace-id":"","span-id":"","time":"2024-04-03T10:33:27+05:00","message":"forwardBackendToClient src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"41e9044d-b4b5-4014-b867-cd4c47dccd5a","trace-id":"","span-id":"","time":"2024-04-03T10:33:27+05:00","message":"forwardBackendToClient set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"41e9044d-b4b5-4014-b867-cd4c47dccd5a","trace-id":"","span-id":"","time":"2024-04-03T10:33:27+05:00","message":"forwardBackendToClient src.Header"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"41e9044d-b4b5-4014-b867-cd4c47dccd5a","trace-id":"","span-id":"","time":"2024-04-03T10:33:27+05:00","message":"forwardBackendToClient dst.SetHeader"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"41e9044d-b4b5-4014-b867-cd4c47dccd5a","trace-id":"","span-id":"","time":"2024-04-03T10:33:27+05:00","message":"forwardBackendToClient try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"41e9044d-b4b5-4014-b867-cd4c47dccd5a","trace-id":"","span-id":"","time":"2024-04-03T10:33:27+05:00","message":"forwardBackendToClient dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"41e9044d-b4b5-4014-b867-cd4c47dccd5a","trace-id":"","span-id":"","time":"2024-04-03T10:33:27+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"41e9044d-b4b5-4014-b867-cd4c47dccd5a","trace-id":"","span-id":"","time":"2024-04-03T10:33:27+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"41e9044d-b4b5-4014-b867-cd4c47dccd5a","trace-id":"","span-id":"","time":"2024-04-03T10:33:27+05:00","message":"forwardBackendToClient src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"41e9044d-b4b5-4014-b867-cd4c47dccd5a","trace-id":"","span-id":"","time":"2024-04-03T10:33:28+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"41e9044d-b4b5-4014-b867-cd4c47dccd5a","trace-id":"","span-id":"","time":"2024-04-03T10:33:28+05:00","message":"b2cErr := <-b2cErrChan: err: EOF"}
{"level":"debug","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","time":"2024-04-03T10:33:31+05:00","message":"authn.cookie not found"}
{"level":"debug","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","time":"2024-04-03T10:33:31+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","time":"2024-04-03T10:33:31+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"phone\":\"+77055148446\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"850323050505\"}, \"exp\":1.712986398e+09, \"iat\":1.712122398e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"6da50adb-e9c6-4830-af6a-45af00cb840d\", \"nbf\":1.712122398e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15579\"}"}
{"level":"info","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","time":"2024-04-03T10:33:31+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","time":"2024-04-03T10:33:31+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"phone\":\"+77055148446\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"850323050505\"}, \"exp\":1.712986398e+09, \"iat\":1.712122398e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"6da50adb-e9c6-4830-af6a-45af00cb840d\", \"nbf\":1.712122398e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15579\"}"}
{"level":"info","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","time":"2024-04-03T10:33:31+05:00","message":"jwt.extract set User-Id to 15579"}
{"level":"info","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","time":"2024-04-03T10:33:31+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","time":"2024-04-03T10:33:31+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"phone\":\"+77055148446\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"850323050505\"}, \"exp\":1.712986398e+09, \"iat\":1.712122398e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"6da50adb-e9c6-4830-af6a-45af00cb840d\", \"nbf\":1.712122398e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15579\"}"}
{"level":"info","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","time":"2024-04-03T10:33:31+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","time":"2024-04-03T10:33:31+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"phone\":\"+77055148446\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"850323050505\"}, \"exp\":1.712986398e+09, \"iat\":1.712122398e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"6da50adb-e9c6-4830-af6a-45af00cb840d\", \"nbf\":1.712122398e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15579\"}"}
{"level":"info","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","time":"2024-04-03T10:33:31+05:00","message":"jwt.extract set Username to 850323050505"}
{"level":"info","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","time":"2024-04-03T10:33:31+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","time":"2024-04-03T10:33:31+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"phone\":\"+77055148446\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"850323050505\"}, \"exp\":1.712986398e+09, \"iat\":1.712122398e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"6da50adb-e9c6-4830-af6a-45af00cb840d\", \"nbf\":1.712122398e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15579\"}"}
{"level":"info","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","time":"2024-04-03T10:33:31+05:00","message":"jwt.extract set Phone to +77055148446"}
{"level":"info","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","time":"2024-04-03T10:33:31+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","time":"2024-04-03T10:33:31+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"phone\":\"+77055148446\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"850323050505\"}, \"exp\":1.712986398e+09, \"iat\":1.712122398e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"6da50adb-e9c6-4830-af6a-45af00cb840d\", \"nbf\":1.712122398e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15579\"}"}
{"level":"info","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","time":"2024-04-03T10:33:31+05:00","message":"jwt.extract set username to 850323050505"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","trace-id":"","span-id":"","time":"2024-04-03T10:33:31+05:00","message":"grpcConnAdd /clientpass.ClientpassService/OnboardingPass fc642ba0-4cb4-4f86-a8c6-96aa11d3290c"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","trace-id":"","span-id":"","time":"2024-04-03T10:33:31+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","trace-id":"","span-id":"","time":"2024-04-03T10:33:31+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","trace-id":"","span-id":"","time":"2024-04-03T10:33:31+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","trace-id":"","span-id":"","time":"2024-04-03T10:33:31+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","trace-id":"","span-id":"","time":"2024-04-03T10:33:31+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","trace-id":"","span-id":"","time":"2024-04-03T10:33:31+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","trace-id":"","span-id":"","time":"2024-04-03T10:33:31+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","trace-id":"","span-id":"","time":"2024-04-03T10:33:31+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","trace-id":"","span-id":"","time":"2024-04-03T10:33:31+05:00","message":"brokerClientStream brokerClientStream SendMsg method"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","trace-id":"","span-id":"","time":"2024-04-03T10:33:31+05:00","message":"brokerClientStream try to publish to client.clientpass.onboarding.in msg with hdr: metadata.Metadata{\"Authorization\":\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMTU1NzkiLCJleHAiOjE3MTI5ODYzOTgsIm5iZiI6MTcxMjEyMjM5OCwiaWF0IjoxNzEyMTIyMzk4LCJqdGkiOiI2ZGE1MGFkYi1lOWM2LTQ4MzAtYWY2YS00NWFmMDBjYjg0MGQiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsInBob25lIjoiKzc3MDU1MTQ4NDQ2Iiwic2NvcGUiOiJvZmZsaW5lX2FjY2VzcyIsInRva2VuX3R5cGUiOiJhY2Nlc3NfdG9rZW4iLCJ1c2VyX2FjdGlvbiI6InJlZ2lzdHJhdGlvbiIsInVzZXJfcm9sZXMiOlsibWliX3VzZXIiXSwidXNlcm5hbWUiOiI4NTAzMjMwNTA1MDUifX0.PfjMV7CvNi1c8EzD1PbBEXYYdn02gb5Ozx4-Utl1oW7IkPIUjRIKd5eLebGiOOA4xDXBywq5VYzm1_QNDZ-EdgGRTYenT8Im-zcPkIwLMJPV_YkBCbPPttCrcdrRRp7XcN10ARdquGnAr91AHV6zwzfMtldvfeKF2lsMJGrBE9lSZKI6COKhlChQmOkXekBp4CJwEL_-Lu0DU6ubzgbIwCZxf_FyYMHI57t4bsRVJtLPXeVYHGAuAtqfVLYOmLJhB1FrJRbrvTdB5skM0nSKWsxwBgOFAvQ4tFlu1J100UoS-hjXWSW94JIqSDnyVemaFQujvX9KHy96uMNw8EzRCA\", \"Client-Ip\":\"10.233.100.0\", \"Content-Type\":\"application/grpc\", \"Language\":\"ru\", \"Phone\":\"+77055148446\", \"Source-Channel\":\"MIB3.0\", \"Source-Service\":\"/clientpass.ClientpassService/OnboardingPass\", \"User-Id\":\"15579\", \"Username\":\"850323050505\", \"X-Forwarded-For\":\"10.233.100.0\", \"X-Forwarded-Port\":\"443\", \"X-Real-Ip\":\"10.233.100.0\", \"X-Request-Id\":\"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c\"}"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","trace-id":"","span-id":"","time":"2024-04-03T10:33:31+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","trace-id":"","span-id":"","time":"2024-04-03T10:33:31+05:00","message":"brokerClientStream CloseSend method"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","trace-id":"","span-id":"","time":"2024-04-03T10:33:31+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","trace-id":"","span-id":"","time":"2024-04-03T10:33:31+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","trace-id":"","span-id":"","time":"2024-04-03T10:33:31+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","trace-id":"","span-id":"","time":"2024-04-03T10:33:31+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","trace-id":"","span-id":"","time":"2024-04-03T10:33:31+05:00","message":"brokerClientStream CloseSend method"}
{"level":"error","client-ip":"10.233.100.0","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","trace-id":"","span-id":"","time":"2024-04-03T10:33:31+05:00","message":"failed to CloseSend grpc conn: file already closed"}
{"level":"info","X-Request-Id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","trace-id":"","span-id":"","time":"2024-04-03T10:33:31+05:00","message":"get message for service: /clientpass.ClientpassService/OnboardingPass with md map[Authorization:Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMTU1NzkiLCJleHAiOjE3MTI5ODYzOTgsIm5iZiI6MTcxMjEyMjM5OCwiaWF0IjoxNzEyMTIyMzk4LCJqdGkiOiI2ZGE1MGFkYi1lOWM2LTQ4MzAtYWY2YS00NWFmMDBjYjg0MGQiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsInBob25lIjoiKzc3MDU1MTQ4NDQ2Iiwic2NvcGUiOiJvZmZsaW5lX2FjY2VzcyIsInRva2VuX3R5cGUiOiJhY2Nlc3NfdG9rZW4iLCJ1c2VyX2FjdGlvbiI6InJlZ2lzdHJhdGlvbiIsInVzZXJfcm9sZXMiOlsibWliX3VzZXIiXSwidXNlcm5hbWUiOiI4NTAzMjMwNTA1MDUifX0.PfjMV7CvNi1c8EzD1PbBEXYYdn02gb5Ozx4-Utl1oW7IkPIUjRIKd5eLebGiOOA4xDXBywq5VYzm1_QNDZ-EdgGRTYenT8Im-zcPkIwLMJPV_YkBCbPPttCrcdrRRp7XcN10ARdquGnAr91AHV6zwzfMtldvfeKF2lsMJGrBE9lSZKI6COKhlChQmOkXekBp4CJwEL_-Lu0DU6ubzgbIwCZxf_FyYMHI57t4bsRVJtLPXeVYHGAuAtqfVLYOmLJhB1FrJRbrvTdB5skM0nSKWsxwBgOFAvQ4tFlu1J100UoS-hjXWSW94JIqSDnyVemaFQujvX9KHy96uMNw8EzRCA Client-Ip:10.233.100.0 Content-Type:application/grpc Language:ru Micro-Topic:apigw.in Phone:+77055148446 Source-Channel:MIB3.0 Source-Service:/clientpass.ClientpassService/OnboardingPass Uber-Trace-Id:17936c2fd2c3faef:1cd343035ce5c3c5:737930572fdc7127:1 User-Id:15579 Username:850323050505 X-Forwarded-For:10.233.100.0 X-Forwarded-Port:443 X-Real-Ip:10.233.100.0 X-Request-Id:fc642ba0-4cb4-4f86-a8c6-96aa11d3290c]"}
{"level":"info","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","trace-id":"","span-id":"","time":"2024-04-03T10:33:31+05:00","message":"get message for service: /clientpass.ClientpassService/OnboardingPass"}
{"level":"debug","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","trace-id":"","span-id":"","time":"2024-04-03T10:33:31+05:00","message":"grpcConnGet: /clientpass.ClientpassService/OnboardingPass via fc642ba0-4cb4-4f86-a8c6-96aa11d3290c"}
{"level":"debug","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","trace-id":"","span-id":"","time":"2024-04-03T10:33:31+05:00","message":"grpc use stream conn: &handler.grpcProxy{grpcStream:(*handler.grpcServerStream)(0xc000232f20), kafkaStream:(*handler.grpcClientStream)(0xc000232fd0)} sourceService: /clientpass.ClientpassService/OnboardingPass"}
{"level":"info","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","trace-id":"","span-id":"","time":"2024-04-03T10:33:31+05:00","message":"start transfer response from kafka"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","trace-id":"","span-id":"","time":"2024-04-03T10:33:31+05:00","message":"brokerClientStream SetHeader method"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","trace-id":"","span-id":"","time":"2024-04-03T10:33:31+05:00","message":"brokerClientStream SetMsg method"}
{"level":"info","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","trace-id":"","span-id":"","time":"2024-04-03T10:33:31+05:00","message":"stop transfer response from kafka"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","trace-id":"","span-id":"","time":"2024-04-03T10:33:31+05:00","message":"brokerClientStream RecvMsg method data"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","trace-id":"","span-id":"","time":"2024-04-03T10:33:31+05:00","message":"forwardBackendToClient src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","trace-id":"","span-id":"","time":"2024-04-03T10:33:31+05:00","message":"forwardBackendToClient set Write timeout 5s"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","trace-id":"","span-id":"","time":"2024-04-03T10:33:31+05:00","message":"forwardBackendToClient src.Header"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","trace-id":"","span-id":"","time":"2024-04-03T10:33:31+05:00","message":"brokerClientStream Header method"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","trace-id":"","span-id":"","time":"2024-04-03T10:33:31+05:00","message":"forwardBackendToClient dst.SetHeader"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","trace-id":"","span-id":"","time":"2024-04-03T10:33:31+05:00","message":"forwardBackendToClient try dst.SendMsg"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","trace-id":"","span-id":"","time":"2024-04-03T10:33:31+05:00","message":"forwardBackendToClient dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","trace-id":"","span-id":"","time":"2024-04-03T10:33:31+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","trace-id":"","span-id":"","time":"2024-04-03T10:33:31+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","trace-id":"","span-id":"","time":"2024-04-03T10:33:31+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","trace-id":"","span-id":"","time":"2024-04-03T10:33:31+05:00","message":"brokerClientStream Close method"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","trace-id":"","span-id":"","time":"2024-04-03T10:33:31+05:00","message":"brokerClientStream RecvMsg method !s.serverStream && s.recvMsg"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","trace-id":"","span-id":"","time":"2024-04-03T10:33:31+05:00","message":"forwardBackendToClient src.RecvMsg err EOF"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","trace-id":"","span-id":"","time":"2024-04-03T10:33:31+05:00","message":"b2cErr := <-b2cErrChan: err: EOF"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","trace-id":"","span-id":"","time":"2024-04-03T10:33:31+05:00","message":"brokerClientStream Trailer method"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","trace-id":"","span-id":"","time":"2024-04-03T10:33:31+05:00","message":"grpcConnDel /clientpass.ClientpassService/OnboardingPass fc642ba0-4cb4-4f86-a8c6-96aa11d3290c"}
{"level":"info","client-ip":"10.233.100.0","x-request-id":"fc642ba0-4cb4-4f86-a8c6-96aa11d3290c","trace-id":"","span-id":"","time":"2024-04-03T10:33:31+05:00","message":"grpc handler exit"}
{"level":"debug","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","time":"2024-04-03T10:34:06+05:00","message":"authn.cookie not found"}
{"level":"debug","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","time":"2024-04-03T10:34:06+05:00","message":"jwt.check process"}
{"level":"debug","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","time":"2024-04-03T10:34:06+05:00","message":"jwt.check claims: jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"phone\":\"+77055148446\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"850323050505\"}, \"exp\":1.712986398e+09, \"iat\":1.712122398e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"6da50adb-e9c6-4830-af6a-45af00cb840d\", \"nbf\":1.712122398e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15579\"}"}
{"level":"info","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","time":"2024-04-03T10:34:06+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","time":"2024-04-03T10:34:06+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"phone\":\"+77055148446\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"850323050505\"}, \"exp\":1.712986398e+09, \"iat\":1.712122398e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"6da50adb-e9c6-4830-af6a-45af00cb840d\", \"nbf\":1.712122398e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15579\"}"}
{"level":"info","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","time":"2024-04-03T10:34:06+05:00","message":"jwt.extract set User-Id to 15579"}
{"level":"info","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","time":"2024-04-03T10:34:06+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","time":"2024-04-03T10:34:06+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"phone\":\"+77055148446\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"850323050505\"}, \"exp\":1.712986398e+09, \"iat\":1.712122398e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"6da50adb-e9c6-4830-af6a-45af00cb840d\", \"nbf\":1.712122398e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15579\"}"}
{"level":"info","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","time":"2024-04-03T10:34:06+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","time":"2024-04-03T10:34:06+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"phone\":\"+77055148446\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"850323050505\"}, \"exp\":1.712986398e+09, \"iat\":1.712122398e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"6da50adb-e9c6-4830-af6a-45af00cb840d\", \"nbf\":1.712122398e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15579\"}"}
{"level":"info","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","time":"2024-04-03T10:34:06+05:00","message":"jwt.extract set Username to 850323050505"}
{"level":"info","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","time":"2024-04-03T10:34:06+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","time":"2024-04-03T10:34:06+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"phone\":\"+77055148446\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"850323050505\"}, \"exp\":1.712986398e+09, \"iat\":1.712122398e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"6da50adb-e9c6-4830-af6a-45af00cb840d\", \"nbf\":1.712122398e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15579\"}"}
{"level":"info","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","time":"2024-04-03T10:34:06+05:00","message":"jwt.extract set Phone to +77055148446"}
{"level":"info","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","time":"2024-04-03T10:34:06+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","time":"2024-04-03T10:34:06+05:00","message":"jwt.extract claims jwt.MapClaims{\"custom\":map[string]interface {}{\"client_id\":\"mib_30_android\", \"phone\":\"+77055148446\", \"scope\":\"offline_access\", \"token_type\":\"access_token\", \"user_action\":\"registration\", \"user_roles\":[]interface {}{\"mib_user\"}, \"username\":\"850323050505\"}, \"exp\":1.712986398e+09, \"iat\":1.712122398e+09, \"iss\":\"https://dev-apigw-grpc.fortebank.com/authn.AuthnService/Token\", \"jti\":\"6da50adb-e9c6-4830-af6a-45af00cb840d\", \"nbf\":1.712122398e+09, \"realm_access\":map[string]interface {}{\"roles\":[]interface {}{\"mib_user\"}}, \"sub\":\"15579\"}"}
{"level":"info","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","time":"2024-04-03T10:34:06+05:00","message":"jwt.extract set username to 850323050505"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","trace-id":"","span-id":"","time":"2024-04-03T10:34:06+05:00","message":"grpcConnAdd /clientpass.ClientpassService/OnboardingPass 3041860f-f040-4b0b-bf2d-52e31fe65af9"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","trace-id":"","span-id":"","time":"2024-04-03T10:34:06+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","trace-id":"","span-id":"","time":"2024-04-03T10:34:06+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","trace-id":"","span-id":"","time":"2024-04-03T10:34:06+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","trace-id":"","span-id":"","time":"2024-04-03T10:34:06+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","trace-id":"","span-id":"","time":"2024-04-03T10:34:06+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","trace-id":"","span-id":"","time":"2024-04-03T10:34:06+05:00","message":"brokerClientStream brokerClientStream SendMsg method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","trace-id":"","span-id":"","time":"2024-04-03T10:34:06+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","trace-id":"","span-id":"","time":"2024-04-03T10:34:06+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","trace-id":"","span-id":"","time":"2024-04-03T10:34:06+05:00","message":"brokerClientStream try to publish to client.clientpass.onboarding.in msg with hdr: metadata.Metadata{\"Authorization\":\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMTU1NzkiLCJleHAiOjE3MTI5ODYzOTgsIm5iZiI6MTcxMjEyMjM5OCwiaWF0IjoxNzEyMTIyMzk4LCJqdGkiOiI2ZGE1MGFkYi1lOWM2LTQ4MzAtYWY2YS00NWFmMDBjYjg0MGQiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsInBob25lIjoiKzc3MDU1MTQ4NDQ2Iiwic2NvcGUiOiJvZmZsaW5lX2FjY2VzcyIsInRva2VuX3R5cGUiOiJhY2Nlc3NfdG9rZW4iLCJ1c2VyX2FjdGlvbiI6InJlZ2lzdHJhdGlvbiIsInVzZXJfcm9sZXMiOlsibWliX3VzZXIiXSwidXNlcm5hbWUiOiI4NTAzMjMwNTA1MDUifX0.PfjMV7CvNi1c8EzD1PbBEXYYdn02gb5Ozx4-Utl1oW7IkPIUjRIKd5eLebGiOOA4xDXBywq5VYzm1_QNDZ-EdgGRTYenT8Im-zcPkIwLMJPV_YkBCbPPttCrcdrRRp7XcN10ARdquGnAr91AHV6zwzfMtldvfeKF2lsMJGrBE9lSZKI6COKhlChQmOkXekBp4CJwEL_-Lu0DU6ubzgbIwCZxf_FyYMHI57t4bsRVJtLPXeVYHGAuAtqfVLYOmLJhB1FrJRbrvTdB5skM0nSKWsxwBgOFAvQ4tFlu1J100UoS-hjXWSW94JIqSDnyVemaFQujvX9KHy96uMNw8EzRCA\", \"Client-Ip\":\"172.23.20.6\", \"Content-Type\":\"application/grpc\", \"Language\":\"ru\", \"Phone\":\"+77055148446\", \"Source-Channel\":\"MIB3.0\", \"Source-Service\":\"/clientpass.ClientpassService/OnboardingPass\", \"User-Id\":\"15579\", \"Username\":\"850323050505\", \"X-Forwarded-For\":\"172.23.20.6\", \"X-Forwarded-Port\":\"443\", \"X-Real-Ip\":\"172.23.20.6\", \"X-Request-Id\":\"3041860f-f040-4b0b-bf2d-52e31fe65af9\"}"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","trace-id":"","span-id":"","time":"2024-04-03T10:34:06+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","trace-id":"","span-id":"","time":"2024-04-03T10:34:06+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","trace-id":"","span-id":"","time":"2024-04-03T10:34:06+05:00","message":"brokerClientStream CloseSend method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","trace-id":"","span-id":"","time":"2024-04-03T10:34:06+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","trace-id":"","span-id":"","time":"2024-04-03T10:34:06+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","trace-id":"","span-id":"","time":"2024-04-03T10:34:06+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","trace-id":"","span-id":"","time":"2024-04-03T10:34:06+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","trace-id":"","span-id":"","time":"2024-04-03T10:34:06+05:00","message":"brokerClientStream CloseSend method"}
{"level":"error","client-ip":"172.23.20.6","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","trace-id":"","span-id":"","time":"2024-04-03T10:34:06+05:00","message":"failed to CloseSend grpc conn: file already closed"}
{"level":"info","X-Request-Id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","trace-id":"","span-id":"","time":"2024-04-03T10:34:06+05:00","message":"get message for service: /clientpass.ClientpassService/OnboardingPass with md map[Authorization:Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMTU1NzkiLCJleHAiOjE3MTI5ODYzOTgsIm5iZiI6MTcxMjEyMjM5OCwiaWF0IjoxNzEyMTIyMzk4LCJqdGkiOiI2ZGE1MGFkYi1lOWM2LTQ4MzAtYWY2YS00NWFmMDBjYjg0MGQiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsInBob25lIjoiKzc3MDU1MTQ4NDQ2Iiwic2NvcGUiOiJvZmZsaW5lX2FjY2VzcyIsInRva2VuX3R5cGUiOiJhY2Nlc3NfdG9rZW4iLCJ1c2VyX2FjdGlvbiI6InJlZ2lzdHJhdGlvbiIsInVzZXJfcm9sZXMiOlsibWliX3VzZXIiXSwidXNlcm5hbWUiOiI4NTAzMjMwNTA1MDUifX0.PfjMV7CvNi1c8EzD1PbBEXYYdn02gb5Ozx4-Utl1oW7IkPIUjRIKd5eLebGiOOA4xDXBywq5VYzm1_QNDZ-EdgGRTYenT8Im-zcPkIwLMJPV_YkBCbPPttCrcdrRRp7XcN10ARdquGnAr91AHV6zwzfMtldvfeKF2lsMJGrBE9lSZKI6COKhlChQmOkXekBp4CJwEL_-Lu0DU6ubzgbIwCZxf_FyYMHI57t4bsRVJtLPXeVYHGAuAtqfVLYOmLJhB1FrJRbrvTdB5skM0nSKWsxwBgOFAvQ4tFlu1J100UoS-hjXWSW94JIqSDnyVemaFQujvX9KHy96uMNw8EzRCA Client-Ip:172.23.20.6 Content-Type:application/grpc External-Id:5633691976 Language:ru Micro-Topic:apigw.in Phone:+77055148446 Source-Channel:MIB3.0 Source-Service:/clientpass.ClientpassService/OnboardingPass Uber-Trace-Id:5952237b01344f2e:6bb5878d7ff1b98f:64300b54441c0cd3:1 User-Id:15579 Username:850323050505 X-Forwarded-For:172.23.20.6 X-Forwarded-Port:443 X-Real-Ip:172.23.20.6 X-Request-Id:3041860f-f040-4b0b-bf2d-52e31fe65af9]"}
{"level":"info","external-id":"5633691976","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","trace-id":"","span-id":"","time":"2024-04-03T10:34:06+05:00","message":"get message for service: /clientpass.ClientpassService/OnboardingPass"}
{"level":"debug","external-id":"5633691976","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","trace-id":"","span-id":"","time":"2024-04-03T10:34:06+05:00","message":"grpcConnGet: /clientpass.ClientpassService/OnboardingPass via 3041860f-f040-4b0b-bf2d-52e31fe65af9"}
{"level":"debug","external-id":"5633691976","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","trace-id":"","span-id":"","time":"2024-04-03T10:34:06+05:00","message":"grpc use stream conn: &handler.grpcProxy{grpcStream:(*handler.grpcServerStream)(0xc000411b80), kafkaStream:(*handler.grpcClientStream)(0xc000411c30)} sourceService: /clientpass.ClientpassService/OnboardingPass"}
{"level":"info","external-id":"5633691976","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","trace-id":"","span-id":"","time":"2024-04-03T10:34:06+05:00","message":"start transfer response from kafka"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","trace-id":"","span-id":"","time":"2024-04-03T10:34:06+05:00","message":"brokerClientStream SetHeader method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","trace-id":"","span-id":"","time":"2024-04-03T10:34:06+05:00","message":"brokerClientStream SetMsg method"}
{"level":"info","external-id":"5633691976","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","trace-id":"","span-id":"","time":"2024-04-03T10:34:06+05:00","message":"stop transfer response from kafka"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","trace-id":"","span-id":"","time":"2024-04-03T10:34:06+05:00","message":"brokerClientStream RecvMsg method data"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","trace-id":"","span-id":"","time":"2024-04-03T10:34:06+05:00","message":"forwardBackendToClient src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","trace-id":"","span-id":"","time":"2024-04-03T10:34:06+05:00","message":"forwardBackendToClient set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","trace-id":"","span-id":"","time":"2024-04-03T10:34:06+05:00","message":"forwardBackendToClient src.Header"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","trace-id":"","span-id":"","time":"2024-04-03T10:34:06+05:00","message":"brokerClientStream Header method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","trace-id":"","span-id":"","time":"2024-04-03T10:34:06+05:00","message":"forwardBackendToClient dst.SetHeader"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","trace-id":"","span-id":"","time":"2024-04-03T10:34:06+05:00","message":"forwardBackendToClient try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","trace-id":"","span-id":"","time":"2024-04-03T10:34:06+05:00","message":"forwardBackendToClient dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","trace-id":"","span-id":"","time":"2024-04-03T10:34:06+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","trace-id":"","span-id":"","time":"2024-04-03T10:34:06+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","trace-id":"","span-id":"","time":"2024-04-03T10:34:06+05:00","message":"brokerClientStream RecvMsg method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","trace-id":"","span-id":"","time":"2024-04-03T10:34:06+05:00","message":"brokerClientStream Close method"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","trace-id":"","span-id":"","time":"2024-04-03T10:34:06+05:00","message":"brokerClientStream RecvMsg method !s.serverStream && s.recvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","trace-id":"","span-id":"","time":"2024-04-03T10:34:06+05:00","message":"forwardBackendToClient src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","trace-id":"","span-id":"","time":"2024-04-03T10:34:06+05:00","message":"b2cErr := <-b2cErrChan: err: EOF"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","trace-id":"","span-id":"","time":"2024-04-03T10:34:06+05:00","message":"brokerClientStream Trailer method"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","trace-id":"","span-id":"","time":"2024-04-03T10:34:06+05:00","message":"grpcConnDel /clientpass.ClientpassService/OnboardingPass 3041860f-f040-4b0b-bf2d-52e31fe65af9"}
{"level":"info","client-ip":"172.23.20.6","x-request-id":"3041860f-f040-4b0b-bf2d-52e31fe65af9","trace-id":"","span-id":"","time":"2024-04-03T10:34:06+05:00","message":"grpc handler exit"}
{"level":"debug","x-request-id":"74c8d9f4-cec5-4ad2-9402-df794e742ed0","time":"2024-04-03T10:34:20+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"74c8d9f4-cec5-4ad2-9402-df794e742ed0","time":"2024-04-03T10:34:20+05:00","message":"jwt.check skip endpoint /authn.AuthnService/AccountUpdate"}
{"level":"info","x-request-id":"74c8d9f4-cec5-4ad2-9402-df794e742ed0","time":"2024-04-03T10:34:20+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"74c8d9f4-cec5-4ad2-9402-df794e742ed0","time":"2024-04-03T10:34:20+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"74c8d9f4-cec5-4ad2-9402-df794e742ed0","time":"2024-04-03T10:34:20+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"74c8d9f4-cec5-4ad2-9402-df794e742ed0","time":"2024-04-03T10:34:20+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"74c8d9f4-cec5-4ad2-9402-df794e742ed0","time":"2024-04-03T10:34:20+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"74c8d9f4-cec5-4ad2-9402-df794e742ed0","time":"2024-04-03T10:34:20+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"74c8d9f4-cec5-4ad2-9402-df794e742ed0","time":"2024-04-03T10:34:20+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"74c8d9f4-cec5-4ad2-9402-df794e742ed0","time":"2024-04-03T10:34:20+05:00","message":"jwt.extract jwt claims empty"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"74c8d9f4-cec5-4ad2-9402-df794e742ed0","trace-id":"","span-id":"","time":"2024-04-03T10:34:20+05:00","message":"grpc request with md: metadata.MD{\":authority\":[]string{\"upstream_balancer\"}, \":path\":[]string{\"/authn.AuthnService/AccountUpdate\"}, \"authorization\":[]string{\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMTU1NzkiLCJleHAiOjE3MTI5ODYzOTgsIm5iZiI6MTcxMjEyMjM5OCwiaWF0IjoxNzEyMTIyMzk4LCJqdGkiOiI2ZGE1MGFkYi1lOWM2LTQ4MzAtYWY2YS00NWFmMDBjYjg0MGQiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsInBob25lIjoiKzc3MDU1MTQ4NDQ2Iiwic2NvcGUiOiJvZmZsaW5lX2FjY2VzcyIsInRva2VuX3R5cGUiOiJhY2Nlc3NfdG9rZW4iLCJ1c2VyX2FjdGlvbiI6InJlZ2lzdHJhdGlvbiIsInVzZXJfcm9sZXMiOlsibWliX3VzZXIiXSwidXNlcm5hbWUiOiI4NTAzMjMwNTA1MDUifX0.PfjMV7CvNi1c8EzD1PbBEXYYdn02gb5Ozx4-Utl1oW7IkPIUjRIKd5eLebGiOOA4xDXBywq5VYzm1_QNDZ-EdgGRTYenT8Im-zcPkIwLMJPV_YkBCbPPttCrcdrRRp7XcN10ARdquGnAr91AHV6zwzfMtldvfeKF2lsMJGrBE9lSZKI6COKhlChQmOkXekBp4CJwEL_-Lu0DU6ubzgbIwCZxf_FyYMHI57t4bsRVJtLPXeVYHGAuAtqfVLYOmLJhB1FrJRbrvTdB5skM0nSKWsxwBgOFAvQ4tFlu1J100UoS-hjXWSW94JIqSDnyVemaFQujvX9KHy96uMNw8EzRCA\"}, \"client-ip\":[]string{\"10.233.100.0\"}, \"content-type\":[]string{\"application/grpc\"}, \"grpc-accept-encoding\":[]string{\"gzip\"}, \"language\":[]string{\"ru\"}, \"source-channel\":[]string{\"MIB3.0\"}, \"source-service\":[]string{\"/authn.AuthnService/AccountUpdate\"}, \"user-agent\":[]string{\"grpc-java-okhttp/1.54.1\"}, \"x-forwarded-for\":[]string{\"10.233.100.0\"}, \"x-forwarded-host\":[]string{\"dev-apigw-grpc.fortebank.com:443\"}, \"x-forwarded-port\":[]string{\"443\"}, \"x-forwarded-proto\":[]string{\"https\"}, \"x-forwarded-scheme\":[]string{\"https\"}, \"x-real-ip\":[]string{\"10.233.100.0\"}, \"x-request-id\":[]string{\"74c8d9f4-cec5-4ad2-9402-df794e742ed0\"}, \"x-scheme\":[]string{\"https\"}}"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"74c8d9f4-cec5-4ad2-9402-df794e742ed0","trace-id":"","span-id":"","time":"2024-04-03T10:34:20+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"74c8d9f4-cec5-4ad2-9402-df794e742ed0","trace-id":"","span-id":"","time":"2024-04-03T10:34:20+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"74c8d9f4-cec5-4ad2-9402-df794e742ed0","trace-id":"","span-id":"","time":"2024-04-03T10:34:20+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"74c8d9f4-cec5-4ad2-9402-df794e742ed0","trace-id":"","span-id":"","time":"2024-04-03T10:34:20+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"74c8d9f4-cec5-4ad2-9402-df794e742ed0","trace-id":"","span-id":"","time":"2024-04-03T10:34:20+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"74c8d9f4-cec5-4ad2-9402-df794e742ed0","trace-id":"","span-id":"","time":"2024-04-03T10:34:20+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"74c8d9f4-cec5-4ad2-9402-df794e742ed0","trace-id":"","span-id":"","time":"2024-04-03T10:34:20+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"74c8d9f4-cec5-4ad2-9402-df794e742ed0","trace-id":"","span-id":"","time":"2024-04-03T10:34:20+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"74c8d9f4-cec5-4ad2-9402-df794e742ed0","trace-id":"","span-id":"","time":"2024-04-03T10:34:20+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"74c8d9f4-cec5-4ad2-9402-df794e742ed0","trace-id":"","span-id":"","time":"2024-04-03T10:34:20+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"74c8d9f4-cec5-4ad2-9402-df794e742ed0","trace-id":"","span-id":"","time":"2024-04-03T10:34:20+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"74c8d9f4-cec5-4ad2-9402-df794e742ed0","trace-id":"","span-id":"","time":"2024-04-03T10:34:20+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"74c8d9f4-cec5-4ad2-9402-df794e742ed0","trace-id":"","span-id":"","time":"2024-04-03T10:34:21+05:00","message":"forwardBackendToClient src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"74c8d9f4-cec5-4ad2-9402-df794e742ed0","trace-id":"","span-id":"","time":"2024-04-03T10:34:21+05:00","message":"forwardBackendToClient set Write timeout 5s"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"74c8d9f4-cec5-4ad2-9402-df794e742ed0","trace-id":"","span-id":"","time":"2024-04-03T10:34:21+05:00","message":"forwardBackendToClient src.Header"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"74c8d9f4-cec5-4ad2-9402-df794e742ed0","trace-id":"","span-id":"","time":"2024-04-03T10:34:21+05:00","message":"forwardBackendToClient dst.SetHeader"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"74c8d9f4-cec5-4ad2-9402-df794e742ed0","trace-id":"","span-id":"","time":"2024-04-03T10:34:21+05:00","message":"forwardBackendToClient try dst.SendMsg"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"74c8d9f4-cec5-4ad2-9402-df794e742ed0","trace-id":"","span-id":"","time":"2024-04-03T10:34:21+05:00","message":"forwardBackendToClient dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"74c8d9f4-cec5-4ad2-9402-df794e742ed0","trace-id":"","span-id":"","time":"2024-04-03T10:34:21+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"74c8d9f4-cec5-4ad2-9402-df794e742ed0","trace-id":"","span-id":"","time":"2024-04-03T10:34:21+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"74c8d9f4-cec5-4ad2-9402-df794e742ed0","trace-id":"","span-id":"","time":"2024-04-03T10:34:21+05:00","message":"forwardBackendToClient src.RecvMsg err EOF"}
{"level":"debug","client-ip":"10.233.100.0","x-request-id":"74c8d9f4-cec5-4ad2-9402-df794e742ed0","trace-id":"","span-id":"","time":"2024-04-03T10:34:21+05:00","message":"b2cErr := <-b2cErrChan: err: EOF"}
{"level":"debug","x-request-id":"10aba59c-d515-4805-8b8b-829d59cece6c","time":"2024-04-03T10:34:21+05:00","message":"authn.cookie not found"}
{"level":"info","x-request-id":"10aba59c-d515-4805-8b8b-829d59cece6c","time":"2024-04-03T10:34:21+05:00","message":"jwt.check skip endpoint /authn.AuthnService/Token"}
{"level":"info","x-request-id":"10aba59c-d515-4805-8b8b-829d59cece6c","time":"2024-04-03T10:34:21+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"10aba59c-d515-4805-8b8b-829d59cece6c","time":"2024-04-03T10:34:21+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"10aba59c-d515-4805-8b8b-829d59cece6c","time":"2024-04-03T10:34:21+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"10aba59c-d515-4805-8b8b-829d59cece6c","time":"2024-04-03T10:34:21+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"10aba59c-d515-4805-8b8b-829d59cece6c","time":"2024-04-03T10:34:21+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"10aba59c-d515-4805-8b8b-829d59cece6c","time":"2024-04-03T10:34:21+05:00","message":"jwt.extract jwt claims empty"}
{"level":"info","x-request-id":"10aba59c-d515-4805-8b8b-829d59cece6c","time":"2024-04-03T10:34:21+05:00","message":"jwt.extract process"}
{"level":"debug","x-request-id":"10aba59c-d515-4805-8b8b-829d59cece6c","time":"2024-04-03T10:34:21+05:00","message":"jwt.extract jwt claims empty"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"10aba59c-d515-4805-8b8b-829d59cece6c","trace-id":"","span-id":"","time":"2024-04-03T10:34:21+05:00","message":"grpc request with md: metadata.MD{\":authority\":[]string{\"upstream_balancer\"}, \":path\":[]string{\"/authn.AuthnService/Token\"}, \"authorization\":[]string{\"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkE4NkQwNENBOEYzNjM5REE0NzFEQzA0NkY5M0ZEQzVDIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL2Rldi1hcGlndy1ncnBjLmZvcnRlYmFuay5jb20vYXV0aG4uQXV0aG5TZXJ2aWNlL1Rva2VuIiwic3ViIjoiMTU1NzkiLCJleHAiOjE3MTI5ODYzOTgsIm5iZiI6MTcxMjEyMjM5OCwiaWF0IjoxNzEyMTIyMzk4LCJqdGkiOiI2ZGE1MGFkYi1lOWM2LTQ4MzAtYWY2YS00NWFmMDBjYjg0MGQiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsibWliX3VzZXIiXX0sImN1c3RvbSI6eyJjbGllbnRfaWQiOiJtaWJfMzBfYW5kcm9pZCIsInBob25lIjoiKzc3MDU1MTQ4NDQ2Iiwic2NvcGUiOiJvZmZsaW5lX2FjY2VzcyIsInRva2VuX3R5cGUiOiJhY2Nlc3NfdG9rZW4iLCJ1c2VyX2FjdGlvbiI6InJlZ2lzdHJhdGlvbiIsInVzZXJfcm9sZXMiOlsibWliX3VzZXIiXSwidXNlcm5hbWUiOiI4NTAzMjMwNTA1MDUifX0.PfjMV7CvNi1c8EzD1PbBEXYYdn02gb5Ozx4-Utl1oW7IkPIUjRIKd5eLebGiOOA4xDXBywq5VYzm1_QNDZ-EdgGRTYenT8Im-zcPkIwLMJPV_YkBCbPPttCrcdrRRp7XcN10ARdquGnAr91AHV6zwzfMtldvfeKF2lsMJGrBE9lSZKI6COKhlChQmOkXekBp4CJwEL_-Lu0DU6ubzgbIwCZxf_FyYMHI57t4bsRVJtLPXeVYHGAuAtqfVLYOmLJhB1FrJRbrvTdB5skM0nSKWsxwBgOFAvQ4tFlu1J100UoS-hjXWSW94JIqSDnyVemaFQujvX9KHy96uMNw8EzRCA\"}, \"client-ip\":[]string{\"172.23.20.6\"}, \"content-type\":[]string{\"application/grpc\"}, \"grpc-accept-encoding\":[]string{\"gzip\"}, \"language\":[]string{\"ru\"}, \"source-channel\":[]string{\"MIB3.0\"}, \"source-service\":[]string{\"/authn.AuthnService/Token\"}, \"user-agent\":[]string{\"grpc-java-okhttp/1.54.1\"}, \"x-forwarded-for\":[]string{\"172.23.20.6\"}, \"x-forwarded-host\":[]string{\"dev-apigw-grpc.fortebank.com:443\"}, \"x-forwarded-port\":[]string{\"443\"}, \"x-forwarded-proto\":[]string{\"https\"}, \"x-forwarded-scheme\":[]string{\"https\"}, \"x-real-ip\":[]string{\"172.23.20.6\"}, \"x-request-id\":[]string{\"10aba59c-d515-4805-8b8b-829d59cece6c\"}, \"x-scheme\":[]string{\"https\"}}"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"10aba59c-d515-4805-8b8b-829d59cece6c","trace-id":"","span-id":"","time":"2024-04-03T10:34:21+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"10aba59c-d515-4805-8b8b-829d59cece6c","trace-id":"","span-id":"","time":"2024-04-03T10:34:21+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"10aba59c-d515-4805-8b8b-829d59cece6c","trace-id":"","span-id":"","time":"2024-04-03T10:34:21+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"10aba59c-d515-4805-8b8b-829d59cece6c","trace-id":"","span-id":"","time":"2024-04-03T10:34:21+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"10aba59c-d515-4805-8b8b-829d59cece6c","trace-id":"","span-id":"","time":"2024-04-03T10:34:21+05:00","message":"forwardClientToBackend src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"10aba59c-d515-4805-8b8b-829d59cece6c","trace-id":"","span-id":"","time":"2024-04-03T10:34:21+05:00","message":"forwardClientToBackend set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"10aba59c-d515-4805-8b8b-829d59cece6c","trace-id":"","span-id":"","time":"2024-04-03T10:34:21+05:00","message":"forwardClientToBackend try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"10aba59c-d515-4805-8b8b-829d59cece6c","trace-id":"","span-id":"","time":"2024-04-03T10:34:21+05:00","message":"forwardClientToBackend dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"10aba59c-d515-4805-8b8b-829d59cece6c","trace-id":"","span-id":"","time":"2024-04-03T10:34:21+05:00","message":"forwardClientToBackend set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"10aba59c-d515-4805-8b8b-829d59cece6c","trace-id":"","span-id":"","time":"2024-04-03T10:34:21+05:00","message":"forwardClientToBackend try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"10aba59c-d515-4805-8b8b-829d59cece6c","trace-id":"","span-id":"","time":"2024-04-03T10:34:21+05:00","message":"forwardClientToBackend src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"10aba59c-d515-4805-8b8b-829d59cece6c","trace-id":"","span-id":"","time":"2024-04-03T10:34:21+05:00","message":"c2bErr := <-c2bErrChan: err: EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"10aba59c-d515-4805-8b8b-829d59cece6c","trace-id":"","span-id":"","time":"2024-04-03T10:34:21+05:00","message":"forwardBackendToClient src.RecvMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"10aba59c-d515-4805-8b8b-829d59cece6c","trace-id":"","span-id":"","time":"2024-04-03T10:34:21+05:00","message":"forwardBackendToClient set Write timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"10aba59c-d515-4805-8b8b-829d59cece6c","trace-id":"","span-id":"","time":"2024-04-03T10:34:21+05:00","message":"forwardBackendToClient src.Header"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"10aba59c-d515-4805-8b8b-829d59cece6c","trace-id":"","span-id":"","time":"2024-04-03T10:34:21+05:00","message":"forwardBackendToClient dst.SetHeader"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"10aba59c-d515-4805-8b8b-829d59cece6c","trace-id":"","span-id":"","time":"2024-04-03T10:34:21+05:00","message":"forwardBackendToClient try dst.SendMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"10aba59c-d515-4805-8b8b-829d59cece6c","trace-id":"","span-id":"","time":"2024-04-03T10:34:21+05:00","message":"forwardBackendToClient dst.SendMsg err <nil>"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"10aba59c-d515-4805-8b8b-829d59cece6c","trace-id":"","span-id":"","time":"2024-04-03T10:34:21+05:00","message":"forwardBackendToClient set Read timeout 5s"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"10aba59c-d515-4805-8b8b-829d59cece6c","trace-id":"","span-id":"","time":"2024-04-03T10:34:21+05:00","message":"forwardBackendToClient try src.RecvMsg"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"10aba59c-d515-4805-8b8b-829d59cece6c","trace-id":"","span-id":"","time":"2024-04-03T10:34:21+05:00","message":"forwardBackendToClient src.RecvMsg err EOF"}
{"level":"debug","client-ip":"172.23.20.6","x-request-id":"10aba59c-d515-4805-8b8b-829d59cece6c","trace-id":"","span-id":"","time":"2024-04-03T10:34:21+05:00","message":"b2cErr := <-b2cErrChan: err: EOF"}
